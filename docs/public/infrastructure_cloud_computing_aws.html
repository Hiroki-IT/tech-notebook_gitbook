
<!DOCTYPE HTML>
<html lang="ja" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Amazon Web Service · 僕のドキュメントサイト【GitBook版】</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-intopic-toc/style.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-advanced-emoji/emoji-website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="infrastructure_cloud_computing_gcp.html" />
    
    
    <link rel="prev" href="infrastructure_cloud_computing.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="検索すると入力" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" >
            
                <span>
            
                    
                    はじめに
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="../">
            
                <a href="../">
            
                    
                    このサイトについて
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    自己紹介
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="self_introduction.html">
            
                <a href="self_introduction.html">
            
                    
                    長谷川広樹と申します
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    PHP｜クラスベースオブジェクト指向
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="backend_object_orientation_analysis_design_programming.html">
            
                <a href="backend_object_orientation_analysis_design_programming.html">
            
                    
                    オブジェクト指向分析／設計／プログラミング
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="backend_object_orientation_class.html">
            
                <a href="backend_object_orientation_class.html">
            
                    
                    クラスベースのプログラミング（1）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="backend_object_orientation_method_data.html">
            
                <a href="backend_object_orientation_method_data.html">
            
                    
                    クラスベースのプログラミング（2）
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    PHP｜ロジック
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="backend_logic_validation.html">
            
                <a href="backend_logic_validation.html">
            
                    
                    バックエンド側の検証ロジック
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="backend_logic_iteration.html">
            
                <a href="backend_logic_iteration.html">
            
                    
                    繰り返しロジック
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    PHP｜API
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="backend_api_restful.html">
            
                <a href="backend_api_restful.html">
            
                    
                    RESTful APIの概念と実装
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    PHP｜ライブラリ／フレームワーク
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="backend_library.html">
            
                <a href="backend_library.html">
            
                    
                    ライブラリ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="backend_framework_symfony.html">
            
                <a href="backend_framework_symfony.html">
            
                    
                    Symfony
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="backend_framework_laravel.html">
            
                <a href="backend_framework_laravel.html">
            
                    
                    Laravel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="backend_testing.html">
            
                <a href="backend_testing.html">
            
                    
                    テストフレームワークとテスト仕様書
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    PHP｜アーキテクチャ
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="backend_architecture_domain_driven_design.html">
            
                <a href="backend_architecture_domain_driven_design.html">
            
                    
                    ドメイン駆動設計
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="backend_architecture_cqrs.html">
            
                <a href="backend_architecture_cqrs.html">
            
                    
                    CQRS設計
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    フロントエンドとバックエンド間のデータ通信
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="frontend_and_backend_authentication_authorization.html">
            
                <a href="frontend_and_backend_authentication_authorization.html">
            
                    
                    認証と認可
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="frontend_and_backend_json.html">
            
                <a href="frontend_and_backend_json.html">
            
                    
                    JSON
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    JS｜プロトタイプベースオブジェクト指向
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="frontend_object_orientation_prototype.html">
            
                <a href="frontend_object_orientation_prototype.html">
            
                    
                    プロトタイプベースのプログラミング（1）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="frontend_object_orientation_method_data.html">
            
                <a href="frontend_object_orientation_method_data.html">
            
                    
                    プロトタイプベースのプログラミング（2）
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    JS｜ロジック
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="frontend_logic_validation.html">
            
                <a href="frontend_logic_validation.html">
            
                    
                    フロントエンド側の検証ロジック
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                    JS｜アーキテクチャ
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="frontend_architecture_spa_vuejs.html">
            
                <a href="frontend_architecture_spa_vuejs.html">
            
                    
                    Single Page Application設計
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" >
            
                <span>
            
                    
                    PHP / JS｜デバッグ
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="backend_debug.html">
            
                <a href="backend_debug.html">
            
                    
                    バックエンドのデバッグの豆知識
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="frontend_debug.html">
            
                <a href="frontend_debug.html">
            
                    
                    フロントエンドのデバッグの豆知識
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" >
            
                <span>
            
                    
                    JS / HTML｜ブラウザレンダリング
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="frontend_browser_rendering.html">
            
                <a href="frontend_browser_rendering.html">
            
                    
                    ブラウザレンダリングの仕組み
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" >
            
                <span>
            
                    
                    データベース
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="backend_database_operation.html">
            
                <a href="backend_database_operation.html">
            
                    
                    データベースの操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="backend_database_mysql.html">
            
                <a href="backend_database_mysql.html">
            
                    
                    SQL
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" >
            
                <span>
            
                    
                    ネットワーク｜構造
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="infrastructure_network_internet.html">
            
                <a href="infrastructure_network_internet.html">
            
                    
                    ネットワークの構造
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" >
            
                <span>
            
                    
                    ネットワーク｜セキュリティ
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="infrastructure_network_cyber_attacks.html">
            
                <a href="infrastructure_network_cyber_attacks.html">
            
                    
                    サイバー攻撃
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="infrastructure_network_encryption_technology.html">
            
                <a href="infrastructure_network_encryption_technology.html">
            
                    
                    通信データの暗号化技術
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" >
            
                <span>
            
                    
                    ソフトウェア｜種類
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1" data-path="infrastructure_software.html">
            
                <a href="infrastructure_software.html">
            
                    
                    ソフトウェアの種類
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18" >
            
                <span>
            
                    
                    ソフトウェア｜ミドルウェア
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1" data-path="infrastructure_software_middleware_nginx.html">
            
                <a href="infrastructure_software_middleware_nginx.html">
            
                    
                    Nginx
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.2" data-path="infrastructure_software_middleware_apache.html">
            
                <a href="infrastructure_software_middleware_apache.html">
            
                    
                    Apache
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.19" >
            
                <span>
            
                    
                    ソフトウェア｜CentOSの構成
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.19.1" data-path="infrastructure_software_centos.html">
            
                <a href="infrastructure_software_centos.html">
            
                    
                    CentOSの構成
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20" >
            
                <span>
            
                    
                    ソフトウェア｜機械語と進数
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.1" data-path="infrastructure_software_machine_language_and_radix.html">
            
                <a href="infrastructure_software_machine_language_and_radix.html">
            
                    
                    機械語と進数
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.21" >
            
                <span>
            
                    
                    クラウドインフラストラクチャ
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.21.1" data-path="infrastructure_cloud_computing.html">
            
                <a href="infrastructure_cloud_computing.html">
            
                    
                    クラウドコンピューティング
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.21.2" data-path="infrastructure_cloud_computing_aws.html">
            
                <a href="infrastructure_cloud_computing_aws.html">
            
                    
                    Amazon Web Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21.3" data-path="infrastructure_cloud_computing_gcp.html">
            
                <a href="infrastructure_cloud_computing_gcp.html">
            
                    
                    Google Cloud Platform
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.22" >
            
                <span>
            
                    
                    IaC｜種類
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.22.1" data-path="infrastructure_as_code.html">
            
                <a href="infrastructure_as_code.html">
            
                    
                    Infrastructure as Code
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.23" >
            
                <span>
            
                    
                    IaC｜Terraform
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.23.1" data-path="infrastructure_terraform.html">
            
                <a href="infrastructure_terraform.html">
            
                    
                    Terraform
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.24" >
            
                <span>
            
                    
                    インフラストラクチャ｜仮想化サーバ，コンテナ
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.24.1" data-path="infrastructure_virtualization_comparison.html">
            
                <a href="infrastructure_virtualization_comparison.html">
            
                    
                    仮想化技術の比較
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.2" data-path="infrastructure_virtualization_container.html">
            
                <a href="infrastructure_virtualization_container.html">
            
                    
                    コンテナ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.3" data-path="infrastructure_virtualization_container_orchestration.html">
            
                <a href="infrastructure_virtualization_container_orchestration.html">
            
                    
                    コンテナオーケストレーション
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.4" data-path="infrastructure_virtualization_server.html">
            
                <a href="infrastructure_virtualization_server.html">
            
                    
                    仮想サーバ（仮想マシン）
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.25" >
            
                <span>
            
                    
                    インフラストラクチャ｜CI/CD
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.25.1" data-path="infrastructure_ci_cd.html">
            
                <a href="infrastructure_ci_cd.html">
            
                    
                    CI & CD
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.2" data-path="infrastructure_circleci.html">
            
                <a href="infrastructure_circleci.html">
            
                    
                    CircleCI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.3" data-path="infrastructure_capistrano.html">
            
                <a href="infrastructure_capistrano.html">
            
                    
                    Capistrano
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.26" >
            
                <span>
            
                    
                    ハードウェア
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.26.1" data-path="hardware.html">
            
                <a href="hardware.html">
            
                    
                    ハードウェア
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.2" data-path="hardware_embedded_system.html">
            
                <a href="hardware_embedded_system.html">
            
                    
                    組み込み機器
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.27" >
            
                <span>
            
                    
                    開発フロー
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.27.1" data-path="management_development_flow.html">
            
                <a href="management_development_flow.html">
            
                    
                    システム開発フローの全体像
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.28" >
            
                <span>
            
                    
                    git
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.28.1" data-path="git.html">
            
                <a href="git.html">
            
                    
                    Gitの豆知識
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.29" >
            
                <span>
            
                    
                    アルゴリズム
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.29.1" data-path="backend_logic_algorithm.html">
            
                <a href="backend_logic_algorithm.html">
            
                    
                    アルゴリズムのロジック
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.30" >
            
                <span>
            
                    
                    r言語
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.30.1" data-path="statistic_analysis.html">
            
                <a href="statistic_analysis.html">
            
                    
                    統計解析
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            GitBookで公開 
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Amazon Web Service</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="amazon-web-service">Amazon Web Service</h1>
<h2 id="01-&#x30B3;&#x30F3;&#x30D4;&#x30E5;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#xFF5C;ec2">01. &#x30B3;&#x30F3;&#x30D4;&#x30E5;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#xFF5C;EC2</h2>
<h3 id="ec2">EC2</h3>
<h4 id="&#x30FB;ec2&#x3068;&#x306F;">&#x30FB;EC2&#x3068;&#x306F;</h4>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30B5;&#x30FC;&#x30D0;&#x3068;&#x3057;&#x3066;&#x306F;&#x50CD;&#x304F;&#xFF0E;&#x6CE8;&#x610F;&#x70B9;&#x304C;&#x3042;&#x308B;&#x3082;&#x306E;&#x3060;&#x3051;&#x307E;&#x3068;&#x3081;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>AMI&#xFF1A;Amazon&#x30DE;&#x30B7;&#x30F3;&#x30A4;&#x30E1;&#x30FC;&#x30B8;</td>
<td>OS&#x3092;&#x9078;&#x629E;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30D9;&#x30F3;&#x30C0;&#x30FC;&#x516C;&#x5F0F;&#x306E;&#x3082;&#x306E;&#x3092;&#x9078;&#x629E;&#x3059;&#x308B;&#x3053;&#x3068;&#xFF0E;&#xFF08;&#x4F8B;&#xFF1A;CentOS&#x306E;AMI&#x4E00;&#x89A7; <a href="https://wiki.centos.org/Cloud/AWS&#xFF09;" target="_blank">https://wiki.centos.org/Cloud/AWS&#xFF09;</a></td>
</tr>
<tr>
<td>&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306E;&#x8A73;&#x7D30;&#x8A2D;&#x5B9A;</td>
<td>EC2&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306E;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x81EA;&#x52D5;&#x5272;&#x308A;&#x5F53;&#x3066;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x306B;&#x3066;&#xFF0C;EC2&#x306B;&#x52D5;&#x7684;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IP&#x3092;&#x5272;&#x308A;&#x5F53;&#x3066;&#x308B;&#xFF0E;EC2&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x69CB;&#x7BC9;&#x5F8C;&#x306B;&#x6709;&#x52B9;&#x306B;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF0E;<br>&#x30FB;&#x7D42;&#x4E86;&#x4FDD;&#x8B77;&#x306F;&#x5FC5;&#x305A;&#x6709;&#x52B9;&#x306B;&#x3059;&#x308B;&#x3053;&#x3068;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#x306E;&#x8FFD;&#x52A0;</td>
<td>EBS&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x4E00;&#x822C;&#x7684;&#x306A;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x3067;&#x3042;&#x308C;&#x3070;&#xFF0C;20&#xFF5E;30GiB&#x3067;&#x3088;&#x3044;&#xFF0E;&#x8E0F;&#x307F;&#x53F0;&#x30B5;&#x30FC;&#x30D0;&#x306E;&#x5834;&#x5408;&#xFF0C;&#x6700;&#x4F4E;&#x9650;&#x3067;&#x826F;&#x3044;&#x305F;&#x3081;&#xFF0C;OS&#x306E;&#x4E0B;&#x9650;&#x307E;&#x3067;&#x30B5;&#x30A4;&#x30BA;&#x3092;&#x4E0B;&#x3052;&#x308B;&#xFF0E;&#xFF08;&#x4F8B;&#xFF1A;AmazonLinux&#x306E;&#x4E0B;&#x9650;&#x306F;8GiB&#xFF0C;CentOS&#x306F;10GiB&#xFF09;</td>
</tr>
<tr>
<td>&#x30AD;&#x30FC;&#x30DA;&#x30A2;</td>
<td>EC2&#x306E;&#x79D8;&#x5BC6;&#x9375;&#x306B;&#x5BFE;&#x5FDC;&#x3057;&#x305F;&#x516C;&#x958B;&#x9375;&#x3092;&#x30A4;&#x30F3;&#x30B9;&#x30C8;&#x30FC;&#x30EB;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
<td>&#x30AD;&#x30FC;&#x30DA;&#x30A2;&#x306B;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x308B;&#x30D5;&#x30A3;&#x30F3;&#x30AC;&#x30FC;&#x30D7;&#x30EA;&#x30F3;&#x30C8;&#x5024;&#x3092;&#x8ABF;&#x3079;&#x308B;&#x3053;&#x3068;&#x3067;&#xFF0C;&#x516C;&#x958B;&#x9375;&#x3068;&#x79D8;&#x5BC6;&#x9375;&#x306E;&#x5BFE;&#x5FDC;&#x95A2;&#x4FC2;&#x3092;&#x8ABF;&#x3079;&#x308B;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30AD;&#x30FC;&#x30DA;&#x30A2;&#x306E;&#x30D5;&#x30A3;&#x30F3;&#x30AC;&#x30FC;&#x30D7;&#x30EA;&#x30F3;&#x30C8;&#x5024;">&#x30FB;&#x30AD;&#x30FC;&#x30DA;&#x30A2;&#x306E;&#x30D5;&#x30A3;&#x30F3;&#x30AC;&#x30FC;&#x30D7;&#x30EA;&#x30F3;&#x30C8;&#x5024;</h4>
<p>&#x30ED;&#x30FC;&#x30AB;&#x30EB;&#x306B;&#x7F6E;&#x304B;&#x308C;&#x3066;&#x3044;&#x308B;&#x79D8;&#x5BC6;&#x9375;&#x304C;&#xFF0C;&#x8A72;&#x5F53;&#x3059;&#x308B;EC2&#x306B;&#x7F6E;&#x304B;&#x308C;&#x3066;&#x3044;&#x308B;&#x516C;&#x958B;&#x9375;&#x3068;&#x30DA;&#x30A2;&#x306A;&#x306E;&#x304B;&#x3069;&#x3046;&#x304B;&#xFF0C;&#x30D5;&#x30A3;&#x30F3;&#x30AC;&#x30FC;&#x30D7;&#x30EA;&#x30F3;&#x30C8;&#x5024;&#x3092;&#x7167;&#x5408;&#x3057;&#x3066;&#x78BA;&#x8A8D;&#x3059;&#x308B;&#x65B9;&#x6CD5;</p>
<pre><code class="lang-bash">$ openssl pkcs8 -in &lt;&#x79D8;&#x5BC6;&#x9375;&gt;.pem -inform PEM -outform DER -topk8 -nocrypt | openssl sha1 -c
</code></pre>
<h4 id="&#x30FB;ec2&#x3078;&#x306E;ssh&#x63A5;&#x7D9A;">&#x30FB;EC2&#x3078;&#x306E;SSH&#x63A5;&#x7D9A;</h4>
<p>&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x306E;SSH&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3082;&#x3064;&#x30D1;&#x30B1;&#x30C3;&#x30C8;&#x306F;&#xFF0C;&#x307E;&#x305A;&#x30A4;&#x30F3;&#x30BF;&#x30FC;&#x30CD;&#x30C3;&#x30C8;&#x3092;&#x7D4C;&#x7531;&#x3057;&#x3066;&#xFF0C;&#x30A4;&#x30F3;&#x30BF;&#x30FC;&#x30CD;&#x30C3;&#x30C8;&#x30B2;&#x30FC;&#x30C8;&#x30A6;&#x30A7;&#x30A4;&#x3092;&#x901A;&#x904E;&#x3059;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x5F8C;&#xFF0C;Route53&#xFF0C;ALB&#x3092;&#x7D4C;&#x7531;&#x305B;&#x305A;&#xFF0C;&#x305D;&#x306E;&#x307E;&#x307E;EC2&#x3078;&#x5411;&#x304B;&#x3046;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/SSH&#x30DD;&#x30FC;&#x30C8;&#x30D5;&#x30A9;&#x30EF;&#x30FC;&#x30C9;.png" alt="SSH&#x30DD;&#x30FC;&#x30C8;&#x30D5;&#x30A9;&#x30EF;&#x30FC;&#x30C9;"></p>
<p><br></p>
<h2 id="01-02-&#x30B3;&#x30F3;&#x30D4;&#x30E5;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#xFF5C;lambda">01-02. &#x30B3;&#x30F3;&#x30D4;&#x30E5;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#xFF5C;Lambda</h2>
<h3 id="lambda">Lambda</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/&#x30B5;&#x30FC;&#x30D0;&#x30EC;&#x30B9;&#x30A2;&#x30FC;&#x30AD;&#x30C6;&#x30AF;&#x30C1;&#x30E3;&#x3068;&#x306F;.png" alt="&#x30B5;&#x30FC;&#x30D0;&#x30EC;&#x30B9;&#x30A2;&#x30FC;&#x30AD;&#x30C6;&#x30AF;&#x30C1;&#x30E3;&#x3068;&#x306F;"></p>
<h4 id="&#x30FB;lambda&#x3068;&#x306F;">&#x30FB;Lambda&#x3068;&#x306F;</h4>
<p>&#x30B5;&#x30FC;&#x30D0;&#x30EC;&#x30B9;&#x3067;&#x30B9;&#x30AF;&#x30EA;&#x30D7;&#x30C8;&#x3092;&#x5B9F;&#x884C;&#x3067;&#x304D;&#x308B;&#xFF0E;Lambda&#x3092;&#x8EF8;&#x306B;&#x4ED6;&#x306E;FaaS&#x3068;&#x9023;&#x643A;&#x3055;&#x305B;&#x308B;&#x3053;&#x3068;&#x306B;&#x3088;&#x3063;&#x3066;&#xFF0C;&#x30E6;&#x30FC;&#x30B6;&#x5074;&#x306F;&#x95A2;&#x6570;&#x30D7;&#x30ED;&#x30B0;&#x30E9;&#x30E0;&#x3092;&#x4F5C;&#x6210;&#x3057;&#x3055;&#x3048;&#x3059;&#x308C;&#x3070;&#xFF0C;&#x3053;&#x308C;&#x3092;&#x5B9F;&#x884C;&#x3059;&#x308B;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30E1;&#x30E2;&#x30EA;</td>
<td>Lambda&#x306B;&#x5272;&#x308A;&#x5F53;&#x3066;&#x308B;&#x30E1;&#x30E2;&#x30EA;&#x91CF;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x6700;&#x5927;10240MB&#x307E;&#x3067;&#x5897;&#x8A2D;&#x3067;&#x304D;&#xFF0C;&#x5897;&#x8A2D;&#x3059;&#x308B;&#x307B;&#x3069;&#x30D1;&#x30D5;&#x30A9;&#x30FC;&#x30DE;&#x30F3;&#x30B9;&#x304C;&#x4E0A;&#x304C;&#x308B;&#xFF0E;&#x30A4;&#x30F3;&#x30BF;&#x30FC;&#x30CD;&#x30C3;&#x30C8;&#x3067;&#x5411;&#x4E0A;&#x7387;&#x30B0;&#x30E9;&#x30D5;&#x3092;&#x691C;&#x7D22;&#x305B;&#x3088;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30BF;&#x30A4;&#x30E0;&#x30A2;&#x30A6;&#x30C8;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x5B9F;&#x884C;&#x30ED;&#x30FC;&#x30EB;</td>
<td>Lambda&#x5185;&#x306E;&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x304C;&#x5B9F;&#x884C;&#x3055;&#x308C;&#x308B;&#x6642;&#x306B;&#x5FC5;&#x8981;&#x306A;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x3082;&#x3064;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x65E2;&#x5B58;&#x30ED;&#x30FC;&#x30EB;</td>
<td>Lambda&#x306B;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>Lambda&#x30EC;&#x30A4;&#x30E4;&#x30FC;</td>
<td>&#x7570;&#x306A;&#x308B;&#x95A2;&#x6570;&#x306E;&#x9593;&#x3067;&#xFF0C;&#x7279;&#x5B9A;&#x306E;&#x51E6;&#x7406;&#x3092;&#x5171;&#x901A;&#x5316;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30D7;&#x30ED;&#x30D3;&#x30B8;&#x30E7;&#x30CB;&#x30F3;&#x30B0;&#x3055;&#x308C;&#x305F;&#x540C;&#x6642;&#x5B9F;&#x884C;&#x8A2D;&#x5B9A;</td>
<td>Lambda&#x306F;&#xFF0C;&#x95A2;&#x6570;&#x306E;&#x5B9F;&#x884C;&#x4E2D;&#x306B;&#x518D;&#x3073;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x304C;&#x9001;&#x4FE1;&#x3055;&#x308C;&#x308B;&#x3068;&#xFF0C;&#x95A2;&#x6570;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3092;&#x65B0;&#x3057;&#x304F;&#x4F5C;&#x6210;&#x3059;&#x308B;&#xFF0E;&#x305D;&#x3057;&#x3066;&#xFF0C;&#x5404;&#x95A2;&#x6570;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3092;&#x7528;&#x3044;&#x3066;&#xFF0C;&#x540C;&#x6642;&#x4E26;&#x884C;&#x7684;&#x306B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306B;&#x5FDC;&#x3058;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30E9;&#x30F3;&#x30BF;&#x30A4;&#x30E0;</td>
<td>&#x95A2;&#x6570;&#x306E;&#x5B9F;&#x88C5;&#x306B;&#x4F7F;&#x7528;&#x3059;&#x308B;&#x8A00;&#x8A9E;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30CF;&#x30F3;&#x30C9;&#x30E9;</td>
<td>&#x95A2;&#x6570;&#x306E;&#x5B9F;&#x884C;&#x6642;&#x306B;&#x30B3;&#x30FC;&#x30EB;&#x3057;&#x305F;&#x3044;&#x5177;&#x4F53;&#x7684;&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;Node.js&#xFF1A;<code>index.js</code> &#x3068;&#x3044;&#x3046;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x540D;&#x3067; <code>exports.handler</code> &#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x3092;&#x547C;&#x3073;&#x51FA;&#x3057;&#x305F;&#x3044;&#x5834;&#x5408;&#xFF0C;&#x30CF;&#x30F3;&#x30C9;&#x30E9;&#x540D;&#x3092;<code>index.handler</code>&#x3068;&#x3059;&#x308B;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x6700;&#x4F4E;&#x9650;&#x5FC5;&#x8981;&#x306A;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;&#x6700;&#x4F4E;&#x9650;&#x5FC5;&#x8981;&#x306A;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<p>Lambda&#x3092;&#x5B9F;&#x884C;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#x306F;&#xFF0C;&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x3055;&#x308C;&#x305F;&#x95A2;&#x6570;&#x3092;&#x4F7F;&#x7528;&#x3059;&#x308B;&#x6A29;&#x9650;&#x304C;&#x5FC5;&#x8981;&#x3067;&#x3042;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x305F;&#x3081;&#xFF0C;&#x95A2;&#x6570;&#x3092;&#x53D6;&#x5F97;&#x3059;&#x308B;&#x305F;&#x3081;&#x306E;&#x30B9;&#x30C6;&#x30FC;&#x30C8;&#x30E1;&#x30F3;&#x30C8;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;Version&quot;</span>: <span class="hljs-string">&quot;2012-10-17&quot;</span>,
  <span class="hljs-string">&quot;Statement&quot;</span>: [
    {
      <span class="hljs-string">&quot;Effect&quot;</span>: <span class="hljs-string">&quot;Allow&quot;</span>,
      <span class="hljs-string">&quot;Action&quot;</span>: <span class="hljs-string">&quot;lambda:InvokeFunction&quot;</span>,
      <span class="hljs-string">&quot;Resource&quot;</span>: <span class="hljs-string">&quot;arn:aws:lambda:&lt;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&gt;:&lt;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;:function:&lt;&#x95A2;&#x6570;&#x540D;&gt;*&quot;</span>
    }
  ]
}
</code></pre>
<h4 id="&#x30FB;&#x30C6;&#x30B9;&#x30C8;&#x3068;&#x30C7;&#x30D0;&#x30C3;&#x30B0;">&#x30FB;&#x30C6;&#x30B9;&#x30C8;&#x3068;&#x30C7;&#x30D0;&#x30C3;&#x30B0;</h4>
<p>Lambda&#x3067;&#x95A2;&#x6570;&#x3092;&#x4F5C;&#x6210;&#x3059;&#x308B;&#x3068;&#xFF0C;CloudWatchLogs&#x306E;&#x30ED;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#xFF0C;&#x300C;<code>/aws/lambda/&lt;&#x95A2;&#x6570;&#x540D;&gt;</code>&#x300D;&#x3068;&#x3044;&#x3046;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x304C;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x4F5C;&#x6210;&#x3055;&#x308C;&#x308B;&#xFF0E;Lambda&#x306E;&#x95A2;&#x6570;&#x5185;&#x3067;&#x767A;&#x751F;&#x3057;&#x305F;&#x30A8;&#x30E9;&#x30FC;&#x3084;<code>console.log</code>&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x306E;&#x30ED;&#x30B0;&#x306F;&#x3053;&#x3053;&#x306B;&#x51FA;&#x529B;&#x3055;&#x308C;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x90FD;&#x5EA6;&#x78BA;&#x8A8D;&#x3059;&#x308B;&#x3053;&#x3068;&#xFF0E;</p>
<p><br></p>
<h3 id="&#x30CF;&#x30F3;&#x30C9;&#x30E9;&#x95A2;&#x6570;">&#x30CF;&#x30F3;&#x30C9;&#x30E9;&#x95A2;&#x6570;</h3>
<h4 id="&#x30FB;&#x30CF;&#x30F3;&#x30C9;&#x30E9;&#x95A2;&#x6570;&#x306F;">&#x30FB;&#x30CF;&#x30F3;&#x30C9;&#x30E9;&#x95A2;&#x6570;&#x306F;</h4>
<p>Lambda&#x306F;&#x30CF;&#x30F3;&#x30C9;&#x30E9;&#x95A2;&#x6570;&#x3092;&#x30B3;&#x30FC;&#x30EB;&#x3057;&#xFF0C;&#x5F15;&#x6570;&#x306E;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#xFF08;event&#xFF0C;context&#xFF0C;callback&#xFF09;&#x306B;&#x5024;&#x3092;&#x308F;&#x305F;&#x3059;&#xFF0E;&#x3053;&#x306E;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x306B;&#x306F;&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x3068;&#x30D7;&#x30ED;&#x30D1;&#x30C6;&#x30A3;&#x3092;&#x6301;&#x3064;&#xFF0E;&#x30CF;&#x30F3;&#x30C9;&#x30E9;&#x95A2;&#x6570;&#x306E;&#x521D;&#x671F;&#x540D;&#x306F;<code>handler</code>&#x3067;&#x3042;&#x308B;&#x304C;&#x5225;&#x540D;&#x3067;&#x3082;&#x3088;&#x3044;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<p>&#x57FA;&#x672C;&#x7684;&#x306B;&#xFF0C;&#x3069;&#x306E;&#x8A00;&#x8A9E;&#x3067;&#x3082;&#x30CF;&#x30F3;&#x30C9;&#x30E9;&#x95A2;&#x6570;&#x306E;&#x5F15;&#x6570;&#x306F;&#x5171;&#x901A;&#x3057;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x5B9F;&#x88C5;&#x4F8B;&#x3068;&#x3057;&#x3066;&#xFF0C;Node.js&#x306E;&#x5834;&#x5408;&#x3092;&#x793A;&#x3059;&#xFF0E;</p>
<pre><code class="lang-javascript">exports.MyHandler = (event, context, callback) =&gt; {
  <span class="hljs-comment">// &#x306A;&#x3093;&#x3089;&#x304B;&#x306E;&#x51E6;&#x7406;</span>
}
</code></pre>
<table>
<thead>
<tr>
<th>&#x5F15;&#x6570;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>event&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;</td>
<td>HTTP&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306B;&#x95A2;&#x3059;&#x308B;&#x30C7;&#x30FC;&#x30BF;&#x304C;&#x683C;&#x7D0D;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;</td>
<td>Lambda&#x306B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3054;&#x3068;&#x306B;&#xFF0C;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x306E;&#x69CB;&#x9020;&#x304C;&#x7570;&#x306A;&#x308B;&#xFF0E;&#x69CB;&#x9020;&#x306F;&#x4EE5;&#x4E0B;&#x306E;&#x901A;&#x308A;&#xFF0E;<br>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/lambda-services.html" target="_blank">https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/lambda-services.html</a></td>
</tr>
<tr>
<td>context&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;</td>
<td>Lambda&#x306B;&#x95A2;&#x3059;&#x308B;&#x30C7;&#x30FC;&#x30BF;&#xFF08;&#x540D;&#x524D;&#xFF0C;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306A;&#x3069;&#xFF09;&#x3092;&#x53D6;&#x5F97;&#x3067;&#x304D;&#x308B;&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x3068;&#x30D7;&#x30ED;&#x30D1;&#x30C6;&#x30A3;&#x304C;&#x683C;&#x7D0D;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;</td>
<td>&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x306E;&#x69CB;&#x9020;&#x306F;&#x4EE5;&#x4E0B;&#x306E;&#x901A;&#x308A;<br>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/nodejs-context.html" target="_blank">https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/nodejs-context.html</a></td>
</tr>
<tr>
<td>callback&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;</td>
<td></td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="lambda&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;">Lambda&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;</h3>
<h4 id="&#x30FB;lambda&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;&#x3068;&#x306F;">&#x30FB;Lambda&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;&#x3068;&#x306F;</h4>
<p>Lambda&#x3068;API Gateway&#x306E;&#x9593;&#x3067;&#xFF0C;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x307E;&#x305F;&#x306F;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x306E;JSON&#x3092;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x3059;&#x308B;&#x6A5F;&#x80FD;&#x306E;&#x3053;&#x3068;&#xFF0E;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;&#x3092;&#x4F7F;&#x7528;&#x3059;&#x308B;&#x3068;&#xFF0C;Lambda&#x306B;&#x9001;&#x4FE1;&#x3055;&#x308C;&#x305F;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306F;&#x30CF;&#x30F3;&#x30C9;&#x30E9;&#x95A2;&#x6570;&#x306E;event&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x306B;&#x683C;&#x7D0D;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x306A;&#x3044;&#x5834;&#x5408;&#xFF0C;Lambda&#x3068;API Gateway&#x306E;&#x9593;&#x306E;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x3092;&#x624B;&#x52D5;&#x3067;&#x884C;&#x3046;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x6642;&#x306E;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;">&#x30FB;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x6642;&#x306E;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;</h4>
<p>API Gateway&#x5074;&#x3067;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;&#x3092;&#x6709;&#x52B9;&#x5316;&#x3059;&#x308B;&#x3068;&#xFF0C;API Gateway&#x3092;&#x7D4C;&#x7531;&#x3057;&#x305F;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x304B;&#x3089;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306F;&#xFF0C;&#x30CF;&#x30F3;&#x30C9;&#x30E9;&#x95A2;&#x6570;&#x306E;event&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x306E;JSON&#x306B;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x3055;&#x308C;&#x308B;&#xFF0E;</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;resource&quot;</span>: <span class="hljs-string">&quot;Resource path&quot;</span>,
  <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;Path parameter&quot;</span>,
  <span class="hljs-string">&quot;httpMethod&quot;</span>: <span class="hljs-string">&quot;Incoming request&apos;s method name&quot;</span>,
  <span class="hljs-string">&quot;headers&quot;</span>: {<span class="hljs-built_in">String</span> containing incoming request headers},
  <span class="hljs-string">&quot;multiValueHeaders&quot;</span>: {List <span class="hljs-keyword">of</span> strings containing incoming request headers},
  <span class="hljs-string">&quot;queryStringParameters&quot;</span>: {query string parameters },
  <span class="hljs-string">&quot;multiValueQueryStringParameters&quot;</span>: {List <span class="hljs-keyword">of</span> query string parameters},
  <span class="hljs-string">&quot;pathParameters&quot;</span>:  {path parameters},
  <span class="hljs-string">&quot;stageVariables&quot;</span>: {Applicable stage variables},
  <span class="hljs-string">&quot;requestContext&quot;</span>: {Request context, including authorizer-returned key-value pairs},
  <span class="hljs-string">&quot;body&quot;</span>: <span class="hljs-string">&quot;A JSON string of the request payload.&quot;</span>,
  <span class="hljs-string">&quot;isBase64Encoded&quot;</span>: <span class="hljs-string">&quot;A boolean flag to indicate if the applicable request payload is Base64-encoded&quot;</span>
}
</code></pre>
<h4 id="&#x30FB;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x6642;&#x306E;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;">&#x30FB;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x6642;&#x306E;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;</h4>
<p>API GAteway&#x306F;&#xFF0C;Lambda&#x304B;&#x3089;&#x306E;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3092;&#xFF0C;&#x4EE5;&#x4E0B;&#x306E;JSON&#x306B;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x3059;&#x308B;&#xFF0E;&#x3053;&#x308C;&#x4EE5;&#x5916;&#x306E;&#x69CB;&#x9020;&#x306E;JSON&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x3068;&#xFF0C;API Gateway&#x3067;&#x300C;<code>Internal Server Error</code>&#x300D;&#x306E;&#x30A8;&#x30E9;&#x30FC;&#x304C;&#x8D77;&#x3053;&#x308B;&#xFF0E;</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;isBase64Encoded&quot;</span>: <span class="hljs-literal">true</span>|<span class="hljs-literal">false</span>,
  <span class="hljs-string">&quot;statusCode&quot;</span>: httpStatusCode,
  <span class="hljs-string">&quot;headers&quot;</span>: { <span class="hljs-string">&quot;headerName&quot;</span>: <span class="hljs-string">&quot;headerValue&quot;</span>, ... },
  <span class="hljs-string">&quot;multiValueHeaders&quot;</span>: { <span class="hljs-string">&quot;headerName&quot;</span>: [<span class="hljs-string">&quot;headerValue&quot;</span>, <span class="hljs-string">&quot;headerValue2&quot;</span>, ...], ... },
  <span class="hljs-string">&quot;body&quot;</span>: <span class="hljs-string">&quot;Hello Lambda&quot;</span>
}
</code></pre>
<p>API Gateway&#x306F;&#x4E0A;&#x8A18;&#x306E;JSON&#x3092;&#x53D7;&#x4FE1;&#x3057;&#x305F;&#x5F8C;&#xFF0C;<code>body</code>&#x306E;&#x307F;&#x5024;&#x3092;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x306E;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x30DC;&#x30C7;&#x30A3;&#x306B;&#x683C;&#x7D0D;&#x3057;&#xFF0C;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x306B;&#x9001;&#x4FE1;&#x3059;&#x308B;&#xFF0E;</p>
<pre><code class="lang-h"><span class="hljs-string">&quot;Hello Lambda&quot;</span>
</code></pre>
<p><br></p>
<h3 id="nodejs&#x3092;&#x7528;&#x3044;&#x305F;&#x95A2;&#x6570;&#x4F8B;">Node.js&#x3092;&#x7528;&#x3044;&#x305F;&#x95A2;&#x6570;&#x4F8B;</h3>
<h4 id="&#x30FB;aws-sdk&#x306E;&#x8AAD;&#x307F;&#x8FBC;&#x307F;">&#x30FB;AWS-SDK&#x306E;&#x8AAD;&#x307F;&#x8FBC;&#x307F;</h4>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<pre><code class="lang-javascript"><span class="hljs-comment">// AWS SDK for JavaScript &#x3092;&#x8AAD;&#x307F;&#x8FBC;&#x3080;</span>
<span class="hljs-keyword">const</span> aws = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;aws-sdk&apos;</span>);
</code></pre>
<h4 id="&#x30FB;api-gateway--lambda--s3">&#x30FB;API Gateway &amp; Lambda &amp; S3</h4>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<pre><code class="lang-javascript"><span class="hljs-meta">&quot;use strict&quot;</span>;

<span class="hljs-keyword">const</span> aws = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;aws-sdk&apos;</span>);

<span class="hljs-keyword">const</span> s3 = <span class="hljs-keyword">new</span> aws.S3();

exports.handler = (event, context, callback) =&gt; {

  <span class="hljs-comment">// API Gateway&#x3068;&#x306E;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;&#x3092;&#x610F;&#x8B58;&#x3057;&#x305F;JSON&#x69CB;&#x9020;&#x306B;&#x3059;&#x308B;</span>
  <span class="hljs-comment">// &#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x306E;&#x521D;&#x671F;&#x5024;</span>
  <span class="hljs-keyword">const</span> response = {
      <span class="hljs-string">&quot;statusCode&quot;</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-string">&quot;body&quot;</span> : <span class="hljs-literal">null</span>
  };

  s3.putObject({
      Bucket: <span class="hljs-string">&apos;&lt;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x540D;&gt;&apos;</span>,
      Key: <span class="hljs-string">&apos;&lt;&#x30D1;&#x30B9;&#x3092;&#x542B;&#x3080;&#x4FDD;&#x5B58;&#x5148;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&gt;&apos;</span>,
      Body: <span class="hljs-string">&apos;&lt;&#x4FDD;&#x5B58;&#x30C7;&#x30FC;&#x30BF;&gt;&apos;</span>,
    },
    (err, data) =&gt; {
      <span class="hljs-keyword">if</span> (err) {
          response.statusCode = <span class="hljs-number">500</span>;
          response.body = <span class="hljs-string">&quot;[ERROR] &quot;</span> + err;
          <span class="hljs-keyword">return</span> callback(<span class="hljs-literal">null</span>, response);
      }
      response.statusCode = <span class="hljs-number">200</span>;
      response.body = <span class="hljs-string">&quot;OK&quot;</span>;
      <span class="hljs-keyword">return</span> callback(<span class="hljs-literal">null</span>, response);
    });
}
</code></pre>
<p>&#x307E;&#x305F;&#xFF0C;Lambda&#x304C;S3&#x306B;&#x5BFE;&#x3057;&#x3066;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x5B9F;&#x884C;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#xFF0C;&#x4E8B;&#x524D;&#x306B;&#xFF0C;AWS&#x7BA1;&#x7406;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x300C;<code>AWSLambdaExecute</code>&#x300D;&#x304C;&#x4ED8;&#x4E0E;&#x3055;&#x308C;&#x305F;&#x30ED;&#x30FC;&#x30EB;&#x3092;Lambda&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3057;&#x3066;&#x304A;&#x304F;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<p><br></p>
<h2 id="01-03-&#x30B3;&#x30F3;&#x30D4;&#x30E5;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#xFF5C;lambdaedge">01-03. &#x30B3;&#x30F3;&#x30D4;&#x30E5;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#xFF5C;Lambda@Edge</h2>
<h3 id="lambdaedge">Lambda@Edge</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/Lambda@Edge.png" alt="Lambda@Edge"></p>
<h4 id="&#x30FB;lambdaedge&#x3068;&#x306F;">&#x30FB;Lambda@Edge&#x3068;&#x306F;</h4>
<p>CloudFront&#x306B;&#x7D71;&#x5408;&#x3055;&#x308C;&#x305F;Lambda&#x3092;&#xFF0C;&#x7279;&#x5225;&#x306B;Lambda@Edge&#x3068;&#x3044;&#x3046;&#xFF0E;CloudFront&#x306E;&#x30D3;&#x30E5;&#x30FC;&#x30EF;&#x30FC;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#xFF0C;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#xFF0C;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#xFF0C;&#x30D3;&#x30E5;&#x30FC;&#x30EF;&#x30FC;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#xFF0C;&#x3092;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x3068;&#x3059;&#x308B;&#xFF0E;&#x30A8;&#x30C3;&#x30B8;&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306E;CloudFront&#x306B;&#xFF0C;Lambda&#x306E;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x304C;&#x69CB;&#x7BC9;&#x3055;&#x308C;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x306E;&#x7A2E;&#x985E;</th>
<th>&#x767A;&#x706B;&#x306E;&#x30BF;&#x30A4;&#x30DF;&#x30F3;&#x30B0;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30D3;&#x30E5;&#x30FC;&#x30EF;&#x30FC;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;</td>
<td>CloudFront&#x304C;&#xFF0C;&#x30D3;&#x30E5;&#x30FC;&#x30EF;&#x30FC;&#x304B;&#x3089;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x53D7;&#x4FE1;&#x3057;&#x305F;&#x5F8C;&#xFF08;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x3092;&#x78BA;&#x8A8D;&#x3059;&#x308B;&#x524D;&#xFF09;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;</td>
<td>CloudFront&#x304C;&#xFF0C;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x30B5;&#x30FC;&#x30D0;&#x30FC;&#x306B;&#x8EE2;&#x9001;&#x3059;&#x308B;&#x524D;&#xFF08;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x3092;&#x78BA;&#x8A8D;&#x3057;&#x305F;&#x5F8C;&#xFF09;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;</td>
<td>CloudFront&#x304C;&#xFF0C;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x304B;&#x3089;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3092;&#x53D7;&#x4FE1;&#x3057;&#x305F;&#x5F8C;&#xFF08;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x3092;&#x78BA;&#x8A8D;&#x3059;&#x308B;&#x524D;&#xFF09;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30D3;&#x30E5;&#x30FC;&#x30EF;&#x30FC;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;</td>
<td>CloudFront&#x304C;&#xFF0C;&#x30D3;&#x30E5;&#x30FC;&#x30EF;&#x30FC;&#x306B;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3092;&#x8EE2;&#x9001;&#x3059;&#x308B;&#x524D;&#xFF08;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x3092;&#x78BA;&#x8A8D;&#x3057;&#x305F;&#x5F8C;&#xFF09;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x6700;&#x4F4E;&#x9650;&#x5FC5;&#x8981;&#x306A;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;&#x6700;&#x4F4E;&#x9650;&#x5FC5;&#x8981;&#x306A;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<p>Lambda@Edge&#x3092;&#x5B9F;&#x884C;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#x306F;&#xFF0C;&#x6700;&#x4F4E;&#x9650;&#xFF0C;&#x4EE5;&#x4E0B;&#x306E;&#x6A29;&#x9650;&#x304C;&#x5FC5;&#x8981;&#x3067;&#x3042;&#x308B;&#xFF0E;</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;Version&quot;</span>: <span class="hljs-string">&quot;2012-10-17&quot;</span>,
  <span class="hljs-string">&quot;Statement&quot;</span>: [
    {
      <span class="hljs-string">&quot;Effect&quot;</span>: <span class="hljs-string">&quot;Allow&quot;</span>,
      <span class="hljs-string">&quot;Action&quot;</span>: [
        <span class="hljs-string">&quot;iam:CreateServiceLinkedRole&quot;</span>
      ],
      <span class="hljs-string">&quot;Resource&quot;</span>: <span class="hljs-string">&quot;*&quot;</span>
    },
    {
      <span class="hljs-string">&quot;Effect&quot;</span>: <span class="hljs-string">&quot;Allow&quot;</span>,
      <span class="hljs-string">&quot;Action&quot;</span>: [
        <span class="hljs-string">&quot;lambda:GetFunction&quot;</span>,
        <span class="hljs-string">&quot;lambda:EnableReplication*&quot;</span>
      ],
      <span class="hljs-string">&quot;Resource&quot;</span>: <span class="hljs-string">&quot;arn:aws:lambda:&lt;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x540D;&gt;:&lt;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;:function:&lt;&#x95A2;&#x6570;&#x540D;&gt;:&lt;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&gt;&quot;</span>
    },
    {
      <span class="hljs-string">&quot;Effect&quot;</span>: <span class="hljs-string">&quot;Allow&quot;</span>,
      <span class="hljs-string">&quot;Action&quot;</span>: [
        <span class="hljs-string">&quot;cloudfront:UpdateDistribution&quot;</span>
      ],
      <span class="hljs-string">&quot;Resource&quot;</span>: <span class="hljs-string">&quot;arn:aws:cloudfront::&lt;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;:distribution/&lt;DistributionID&gt;&quot;</span>
    }
  ]
}
</code></pre>
<h4 id="&#x30FB;&#x5404;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x306E;event&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x3078;&#x306E;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;">&#x30FB;&#x5404;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x306E;event&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x3078;&#x306E;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;</h4>
<p>&#x5404;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x306E;event&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x3078;&#x306E;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x306F;&#xFF0C;&#x4EE5;&#x4E0B;&#x3092;&#x53C2;&#x7167;&#x305B;&#x3088;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/AmazonCloudFront/latest/DeveloperGuide/lambda-event-structure.html" target="_blank">https://docs.aws.amazon.com/ja_jp/AmazonCloudFront/latest/DeveloperGuide/lambda-event-structure.html</a></p>
<p><br></p>
<h3 id="nodejs&#x3092;&#x7528;&#x3044;&#x305F;&#x95A2;&#x6570;&#x4F8B;">Node.js&#x3092;&#x7528;&#x3044;&#x305F;&#x95A2;&#x6570;&#x4F8B;</h3>
<h4 id="&#x30FB;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306E;&#x52D5;&#x7684;&#x306A;&#x5207;&#x308A;&#x66FF;&#x3048;">&#x30FB;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306E;&#x52D5;&#x7684;&#x306A;&#x5207;&#x308A;&#x66FF;&#x3048;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/Lambda@Edge_&#x52D5;&#x7684;&#x30AA;&#x30EA;&#x30B8;&#x30F3;.png" alt="Lambda@Edge_&#x52D5;&#x7684;&#x30AA;&#x30EA;&#x30B8;&#x30F3;"></p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<p>event&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x306E;<code>domainName</code>&#x3068;<code>host.value</code>&#x306B;&#x683C;&#x7D0D;&#x3055;&#x308C;&#x305F;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x306E;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x306B;&#x3088;&#x3063;&#x3066;&#xFF0C;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x5148;&#x306E;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x304C;&#x6C7A;&#x307E;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x305F;&#x3081;&#xFF0C;&#x3053;&#x306E;&#x5024;&#x3092;&#x5207;&#x308A;&#x66FF;&#x3048;&#x308C;&#x3070;&#xFF0C;&#x52D5;&#x7684;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x3092;&#x5B9F;&#x73FE;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x306A;&#x304A;&#xFF0C;&#x5404;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x306B;&#x306F;&#x540C;&#x3058;OAI&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<pre><code class="lang-javascript"><span class="hljs-meta">&apos;use strict&apos;</span>;

exports.handler = (event, context, callback) =&gt; {

    <span class="hljs-keyword">const</span> request = event.Records[<span class="hljs-number">0</span>].cf.request;
    <span class="hljs-comment">// &#x30ED;&#x30B0;&#x30B9;&#x30C8;&#x30EA;&#x30FC;&#x30E0;&#x306B;&#x5909;&#x6570;&#x3092;&#x51FA;&#x529B;&#x3059;&#x308B;&#xFF0E;</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify({request}, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>));

    <span class="hljs-keyword">const</span> headers = request.headers;
    <span class="hljs-keyword">const</span> s3Backet = getBacketBasedOnDeviceType(headers);

    request.origin.s3.domainName = s3Backet
    request.headers.host[<span class="hljs-number">0</span>].value = s3Backet
    <span class="hljs-comment">// &#x30ED;&#x30B0;&#x30B9;&#x30C8;&#x30EA;&#x30FC;&#x30E0;&#x306B;&#x5909;&#x6570;&#x3092;&#x51FA;&#x529B;&#x3059;&#x308B;&#xFF0E;</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify({request}, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>));

    <span class="hljs-keyword">return</span> callback(<span class="hljs-literal">null</span>, request);
};

<span class="hljs-comment">/**
 * &#x30C7;&#x30D0;&#x30A4;&#x30B9;&#x30BF;&#x30A4;&#x30D7;&#x306B;&#x57FA;&#x3065;&#x3044;&#x3066;&#x3001;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x3092;&#x5207;&#x308A;&#x66FF;&#x3048;&#x308B;&#xFF0E;
 * 
 * @param   {Object} headers
 * @param   {string} env
 * @returns {string} pcBucket|spBucket
 */</span>
<span class="hljs-keyword">const</span> getBacketBasedOnDeviceType = (headers) =&gt; {

    <span class="hljs-keyword">const</span> pcBucket = env + <span class="hljs-string">&apos;-bucket.s3.amazonaws.com&apos;</span>;
    <span class="hljs-keyword">const</span> spBucket = env + <span class="hljs-string">&apos;-bucket.s3.amazonaws.com&apos;</span>;

    <span class="hljs-keyword">if</span> (headers[<span class="hljs-string">&apos;cloudfront-is-desktop-viewer&apos;</span>]
        &amp;&amp; headers[<span class="hljs-string">&apos;cloudfront-is-desktop-viewer&apos;</span>][<span class="hljs-number">0</span>].value === <span class="hljs-string">&apos;true&apos;</span>) {
        <span class="hljs-keyword">return</span> pcBucket;
    }

    <span class="hljs-keyword">if</span> (headers[<span class="hljs-string">&apos;cloudfront-is-tablet-viewer&apos;</span>]
        &amp;&amp; headers[<span class="hljs-string">&apos;cloudfront-is-tablet-viewer&apos;</span>][<span class="hljs-number">0</span>].value === <span class="hljs-string">&apos;true&apos;</span>) {
        <span class="hljs-keyword">return</span> pcBucket;
    }

    <span class="hljs-keyword">if</span> (headers[<span class="hljs-string">&apos;cloudfront-is-mobile-viewer&apos;</span>]
        &amp;&amp; headers[<span class="hljs-string">&apos;cloudfront-is-mobile-viewer&apos;</span>][<span class="hljs-number">0</span>].value === <span class="hljs-string">&apos;true&apos;</span>) {
        <span class="hljs-keyword">return</span> spBucket;
    }

    <span class="hljs-keyword">return</span> spBucket;
};
</code></pre>
<p>&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306F;&#xFF0C;&#x4EE5;&#x4E0B;&#x306E;event&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x306E;JSON&#x306B;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x306A;&#x304A;&#xFF0C;&#x4E00;&#x90E8;&#x306E;&#x30AD;&#x30FC;&#x306F;&#x7701;&#x7565;&#x3057;&#x3066;&#x3044;&#x308B;&#xFF0E;</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;Records&quot;</span>: [
    {
      <span class="hljs-string">&quot;cf&quot;</span>: {
        <span class="hljs-string">&quot;request&quot;</span>: {
          <span class="hljs-string">&quot;body&quot;</span>: {
            <span class="hljs-string">&quot;action&quot;</span>: <span class="hljs-string">&quot;read-only&quot;</span>,
            <span class="hljs-string">&quot;data&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
            <span class="hljs-string">&quot;encoding&quot;</span>: <span class="hljs-string">&quot;base64&quot;</span>,
            <span class="hljs-string">&quot;inputTruncated&quot;</span>: <span class="hljs-literal">false</span>
          },
          <span class="hljs-string">&quot;clientIp&quot;</span>: <span class="hljs-string">&quot;nnn.n.nnn.nnn&quot;</span>,
          <span class="hljs-string">&quot;headers&quot;</span>: {
            <span class="hljs-string">&quot;host&quot;</span>: [
              {
                <span class="hljs-string">&quot;key&quot;</span>: <span class="hljs-string">&quot;Host&quot;</span>,
                <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-string">&quot;prd-sp-bucket.s3.ap-northeast-1.amazonaws.com&quot;</span>
              }
            ],
            <span class="hljs-string">&quot;cloudfront-is-mobile-viewer&quot;</span>: [
              {
                <span class="hljs-string">&quot;key&quot;</span>: <span class="hljs-string">&quot;CloudFront-Is-Mobile-Viewer&quot;</span>,
                <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-literal">true</span>
              }
            ],
            <span class="hljs-string">&quot;cloudfront-is-tablet-viewer&quot;</span>: [
              {
                <span class="hljs-string">&quot;key&quot;</span>: <span class="hljs-string">&quot;loudFront-Is-Tablet-Viewer&quot;</span>,
                <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-literal">false</span>
              }
            ],
            <span class="hljs-string">&quot;cloudfront-is-smarttv-viewer&quot;</span>: [
              {
                <span class="hljs-string">&quot;key&quot;</span>: <span class="hljs-string">&quot;CloudFront-Is-SmartTV-Viewer&quot;</span>,
                <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-literal">false</span>
              }
            ],
            <span class="hljs-string">&quot;cloudfront-is-desktop-viewer&quot;</span>: [
              {
                <span class="hljs-string">&quot;key&quot;</span>: <span class="hljs-string">&quot;CloudFront-Is-Desktop-Viewer&quot;</span>,
                <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-literal">false</span>
              }
            ],
            <span class="hljs-string">&quot;user-agent&quot;</span>: [
              {
                <span class="hljs-string">&quot;key&quot;</span>: <span class="hljs-string">&quot;User-Agent&quot;</span>,
                <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-string">&quot;Amazon CloudFront&quot;</span>
              }
            ]
          },
          <span class="hljs-string">&quot;method&quot;</span>: <span class="hljs-string">&quot;GET&quot;</span>,
          <span class="hljs-string">&quot;origin&quot;</span>: {
            <span class="hljs-string">&quot;s3&quot;</span>: {
              <span class="hljs-string">&quot;authMethod&quot;</span>: <span class="hljs-string">&quot;origin-access-identity&quot;</span>,                
              <span class="hljs-string">&quot;customHeaders&quot;</span>: {
                  <span class="hljs-string">&quot;env&quot;</span>: [
                      {
                          <span class="hljs-string">&quot;key&quot;</span>: <span class="hljs-string">&quot;env&quot;</span>,
                          <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-string">&quot;prd&quot;</span>
                      }
                  ]
              },
              <span class="hljs-string">&quot;domainName&quot;</span>: <span class="hljs-string">&quot;prd-sp-bucket.s3.amazonaws.com&quot;</span>,
              <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
              <span class="hljs-string">&quot;port&quot;</span>: <span class="hljs-number">443</span>,
              <span class="hljs-string">&quot;protocol&quot;</span>: <span class="hljs-string">&quot;https&quot;</span>,
              <span class="hljs-string">&quot;region&quot;</span>: <span class="hljs-string">&quot;ap-northeast-1&quot;</span>
            }
          },
          <span class="hljs-string">&quot;querystring&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
          <span class="hljs-string">&quot;uri&quot;</span>: <span class="hljs-string">&quot;/images/12345&quot;</span>
        }
      }
    }
  ]
}
</code></pre>
<p><br></p>
<h2 id="01-04-&#x30B3;&#x30F3;&#x30D4;&#x30E5;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#xFF5C;security-group">01-04. &#x30B3;&#x30F3;&#x30D4;&#x30E5;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#xFF5C;Security Group</h2>
<h3 id="security-group">Security Group</h3>
<h4 id="&#x30FB;security-group&#x3068;&#x306F;">&#x30FB;Security Group&#x3068;&#x306F;</h4>
<p>&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30D1;&#x30B1;&#x30C3;&#x30C8;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30EA;&#x30F3;&#x30B0;&#x578B;&#x30D5;&#x30A1;&#x30A4;&#x30A2;&#x30A6;&#x30A9;&#x30FC;&#x30EB;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;&#x30A4;&#x30F3;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#xFF08;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x5411;&#x304D;&#x901A;&#x4FE1;&#xFF09;&#x3067;&#x306F;&#xFF0C;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3084;&#x53D7;&#x4FE1;&#x5143;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#xFF0C;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#xFF08;&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x5411;&#x304D;&#x901A;&#x4FE1;&#xFF09;&#x3067;&#x306F;&#xFF0C;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3084;&#x9001;&#x4FE1;&#x5148;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30D1;&#x30B1;&#x30C3;&#x30C8;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30EA;&#x30F3;&#x30B0;&#x578B;&#x30D5;&#x30A1;&#x30A4;&#x30A2;&#x30A6;&#x30A9;&#x30FC;&#x30EB;&#x3068;&#x306F;">&#x30FB;&#x30D1;&#x30B1;&#x30C3;&#x30C8;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30EA;&#x30F3;&#x30B0;&#x578B;&#x30D5;&#x30A1;&#x30A4;&#x30A2;&#x30A6;&#x30A9;&#x30FC;&#x30EB;&#x3068;&#x306F;</h4>
<p>&#x30D1;&#x30B1;&#x30C3;&#x30C8;&#x306E;&#x30D8;&#x30C3;&#x30C0;&#x60C5;&#x5831;&#x306B;&#x8A18;&#x8F09;&#x3055;&#x308C;&#x305F;&#x9001;&#x4FE1;&#x5143;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3084;&#x30DD;&#x30FC;&#x30C8;&#x756A;&#x53F7;&#x306A;&#x3069;&#x306B;&#x3088;&#x3063;&#x3066;&#xFF0C;&#x30D1;&#x30B1;&#x30C3;&#x30C8;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x3079;&#x304D;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x6C7A;&#x5B9A;&#x3059;&#x308B;&#xFF0E;&#x901F;&#x5EA6;&#x3092;&#x91CD;&#x8996;&#x3059;&#x308B;&#x5834;&#x5408;&#x306F;&#x3053;&#x3061;&#x3089;&#xFF0E;&#x30D5;&#x30A1;&#x30A4;&#x30A2;&#x30A6;&#x30A9;&#x30FC;&#x30EB;&#x3068;Web&#x30B5;&#x30FC;&#x30D0;&#x306E;&#x9593;&#x306B;&#x306F;&#xFF0C;NAT&#x30EB;&#x30FC;&#x30BF;&#x3084;NAPT&#x30EB;&#x30FC;&#x30BF;&#x304C;&#x8A2D;&#x7F6E;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x3053;&#x308C;&#x3089;&#x306B;&#x3088;&#x308B;&#x9001;&#x4FE1;&#x5143;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304B;&#x3089;&#x9001;&#x4FE1;&#x5143;&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3078;&#x306E;&#x5909;&#x63DB;&#x306B;&#x3064;&#x3044;&#x3066;&#x3082;&#x53C2;&#x7167;&#x305B;&#x3088;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/&#x30D1;&#x30B1;&#x30C3;&#x30C8;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30EA;&#x30F3;&#x30B0;.gif" alt="&#x30D1;&#x30B1;&#x30C3;&#x30C8;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30EA;&#x30F3;&#x30B0;"></p>
<p><br></p>
<h3 id="&#x30A4;&#x30F3;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x30EB;&#x30FC;&#x30EB;">&#x30A4;&#x30F3;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x30EB;&#x30FC;&#x30EB;</h3>
<h4 id="&#x30FB;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;id&#x306E;&#x7D10;&#x3065;&#x3051;">&#x30FB;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;ID&#x306E;&#x7D10;&#x3065;&#x3051;</h4>
<p>&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;ID&#x3092;&#x8A2D;&#x5B9A;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x305D;&#x306E;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x304C;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#xFF08;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x30A4;&#x30F3;&#x30BF;&#x30FC;&#x30D5;&#x30A7;&#x30FC;&#x30B9;&#x3092;&#x542B;&#x3080;&#xFF09;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x3053;&#x3068;&#x306B;&#x306A;&#x308B;&#xFF0E;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304C;&#x52D5;&#x7684;&#x306B;&#x5909;&#x5316;&#x3059;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x6709;&#x52B9;&#x306A;&#x65B9;&#x6CD5;&#x3067;&#x3042;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;ec2&#x306E;&#x4F8B;">&#x30FB;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;EC2&#x306E;&#x4F8B;</h4>
<p>ALB&#x306B;&#x5272;&#x308A;&#x632F;&#x3089;&#x308C;&#x308B;&#x53EF;&#x80FD;&#x6027;&#x306E;&#x3042;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#xFF0C;ALB&#x306E;Security Group&#x306E;ID&#xFF0C;&#x307E;&#x305F;&#x306F;Subnet&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x30BF;&#x30A4;&#x30D7;</th>
<th>&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;</th>
<th>&#x30DD;&#x30FC;&#x30C8;</th>
<th>&#x30BD;&#x30FC;&#x30B9;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>HTTP</td>
<td>TCP</td>
<td><code>80</code></td>
<td>ALB&#x306E;Security Group ID</td>
<td>HTTP access from ALB</td>
</tr>
<tr>
<td>HTTPS</td>
<td>TCP</td>
<td><code>443</code></td>
<td>&#x8E0F;&#x307F;&#x53F0;EC2&#x306E;Security Group ID</td>
<td>SSH access from bastion EC2</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x8E0F;&#x307F;&#x53F0;ec2&#x306E;&#x4F8B;">&#x30FB;&#x8E0F;&#x307F;&#x53F0;EC2&#x306E;&#x4F8B;</h4>
<table>
<thead>
<tr>
<th>&#x30BF;&#x30A4;&#x30D7;</th>
<th>&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;</th>
<th>&#x30DD;&#x30FC;&#x30C8;</th>
<th>&#x30BD;&#x30FC;&#x30B9;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>SSH</td>
<td>TCP</td>
<td><code>22</code></td>
<td>&#x793E;&#x5185;&#x306E;&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;</td>
<td>SSH access from global ip addess</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;efs&#x306E;&#x4F8B;">&#x30FB;EFS&#x306E;&#x4F8B;</h4>
<p>EC2&#x306B;&#x5272;&#x308A;&#x632F;&#x3089;&#x308C;&#x308B;&#x53EF;&#x80FD;&#x6027;&#x306E;&#x3042;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#xFF0C;EC2&#x306E;Security Group&#x306E;ID&#xFF0C;&#x307E;&#x305F;&#x306F;Subnet&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x30BF;&#x30A4;&#x30D7;</th>
<th>&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;</th>
<th>&#x30DD;&#x30FC;&#x30C8;</th>
<th>&#x30BD;&#x30FC;&#x30B9;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>NFS</td>
<td>TCP</td>
<td><code>2049</code></td>
<td>&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;EC2&#x306E;Security Group ID</td>
<td>NFS access from app EC2</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;rds&#x306E;&#x4F8B;">&#x30FB;RDS&#x306E;&#x4F8B;</h4>
<p>EC2&#x306B;&#x5272;&#x308A;&#x632F;&#x3089;&#x308C;&#x308B;&#x53EF;&#x80FD;&#x6027;&#x306E;&#x3042;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#xFF0C;EC2&#x306E;Security Group&#x306E;ID&#xFF0C;&#x307E;&#x305F;&#x306F;Subnet&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x30BF;&#x30A4;&#x30D7;</th>
<th>&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;</th>
<th>&#x30DD;&#x30FC;&#x30C8;</th>
<th>&#x30BD;&#x30FC;&#x30B9;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>MYSQL/Aurora</td>
<td>TCP</td>
<td><code>3306</code></td>
<td>&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;EC2&#x306E;Security Group ID</td>
<td>MYSQL access from app EC2</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;redis&#x306E;&#x4F8B;">&#x30FB;Redis&#x306E;&#x4F8B;</h4>
<p>EC2&#x306B;&#x5272;&#x308A;&#x632F;&#x3089;&#x308C;&#x308B;&#x53EF;&#x80FD;&#x6027;&#x306E;&#x3042;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#xFF0C;EC2&#x306E;Security Group&#x306E;ID&#xFF0C;&#x307E;&#x305F;&#x306F;Subnet&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x30BF;&#x30A4;&#x30D7;</th>
<th>&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;</th>
<th>&#x30DD;&#x30FC;&#x30C8;</th>
<th>&#x30BD;&#x30FC;&#x30B9;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30AB;&#x30B9;&#x30BF;&#x30E0;TCP</td>
<td>TCP</td>
<td><code>6379</code></td>
<td>&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;EC2&#x306E;Security Group ID</td>
<td>TCP access from app EC2</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;alb&#x306E;&#x4F8B;">&#x30FB;ALB&#x306E;&#x4F8B;</h4>
<p>CloudFront&#x3068;&#x9023;&#x643A;&#x3059;&#x308B;&#x5834;&#x5408;&#xFF0C;CloudFront&#x306B;&#x5272;&#x308A;&#x632F;&#x3089;&#x308C;&#x308B;&#x53EF;&#x80FD;&#x6027;&#x306E;&#x3042;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#xFF0C;&#x5168;&#x3066;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x4EE3;&#x308F;&#x308A;&#x306B;&#xFF0C;CloudFront&#x306B;WAF&#x3092;&#x7D10;&#x3065;&#x3051;&#xFF0C;ALB&#x306E;&#x524D;&#x3067;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x5236;&#x9650;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x3059;&#x308B;&#xFF0E;CloudFront&#x3068;&#x306F;&#x9023;&#x643A;&#x3057;&#x306A;&#x3044;&#x5834;&#x5408;&#xFF0C;ALB&#x306E;Security Group&#x3067;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x5236;&#x9650;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x3059;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x30BF;&#x30A4;&#x30D7;</th>
<th>&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;</th>
<th>&#x30DD;&#x30FC;&#x30C8;</th>
<th>&#x30BD;&#x30FC;&#x30B9;</th>
<th>&#x8AAC;&#x660E;</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>HTTP</td>
<td>TCP</td>
<td><code>80</code></td>
<td><code>0.0.0.0/0</code></td>
<td>HTTP access from CloudFront</td>
<td></td>
</tr>
<tr>
<td>HTTPS</td>
<td>TCP</td>
<td><code>443</code></td>
<td><code>0.0.0.0/0</code></td>
<td>HTTPS access from CloudFront</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x30EB;&#x30FC;&#x30EB;">&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x30EB;&#x30FC;&#x30EB;</h3>
<h4 id="&#x30FB;&#x4EFB;&#x610F;aws&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x4F8B;">&#x30FB;&#x4EFB;&#x610F;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x4F8B;</h4>
<table>
<thead>
<tr>
<th>&#x30BF;&#x30A4;&#x30D7;</th>
<th>&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;</th>
<th>&#x30DD;&#x30FC;&#x30C8;</th>
<th>&#x9001;&#x4FE1;&#x5148;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x3059;&#x3079;&#x3066;&#x306E;&#x30C8;&#x30E9;&#x30D5;&#x30A3;&#x30C3;&#x30AF;</td>
<td>&#x3059;&#x3079;&#x3066;</td>
<td>&#x3059;&#x3079;&#x3066;</td>
<td><code>0.0.0.0/0</code></td>
<td>Full access</td>
</tr>
</tbody>
</table>
<p><br></p>
<h2 id="01-05-&#x30B3;&#x30F3;&#x30D4;&#x30E5;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x306B;&#x4ED8;&#x968F;&#x3059;&#x308B;&#x8A2D;&#x5B9A;">01-05. &#x30B3;&#x30F3;&#x30D4;&#x30E5;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x306B;&#x4ED8;&#x968F;&#x3059;&#x308B;&#x8A2D;&#x5B9A;</h2>
<h3 id="region&#xFF0C;availability-zone">Region&#xFF0C;Availability Zone</h3>
<h4 id="&#x30FB;region&#x3068;&#x306F;">&#x30FB;Region&#x3068;&#x306F;</h4>
<p>2016&#x5E74;1&#x6708;6&#x65E5;&#x6642;&#x70B9;&#x3067;&#x306F;&#xFF0C;&#x4EE5;&#x4E0B;&#x306E;Region&#x306B;&#x7269;&#x7406;&#x30B5;&#x30FC;&#x30D0;&#x306E;&#x30C7;&#x30FC;&#x30BF;&#x30BB;&#x30F3;&#x30BF;&#x30FC;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/AWS&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x30DE;&#x30C3;&#x30D7;.PNG" alt="AWS&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x30DE;&#x30C3;&#x30D7;"></p>
<h4 id="&#x30FB;availability-zone&#x3068;&#x306F;">&#x30FB;Availability Zone&#x3068;&#x306F;</h4>
<p>Region&#x306F;&#xFF0C;&#x3055;&#x3089;&#x306B;&#xFF0C;&#x5404;&#x30C7;&#x30FC;&#x30BF;&#x30BB;&#x30F3;&#x30BF;&#x30FC;&#x306F;&#x7269;&#x7406;&#x7684;&#x306B;&#x72EC;&#x7ACB;&#x3057;&#x305F;Availability Zone&#x3068;&#x3044;&#x3046;&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x304B;&#x3089;&#x69CB;&#x6210;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x4F8B;&#x3048;&#x3070;&#xFF0C;&#x6771;&#x4EAC;Region&#x306B;&#x306F;&#xFF0C;3&#x3064;&#x306E;Availability Zone&#x304C;&#x3042;&#x308B;&#xFF0E;AZ&#x306E;&#x4E2D;&#x306B;&#xFF0C;VPC subnet&#x3092;&#x4F5C;&#x308B;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#xFF0C;&#x305D;&#x3053;&#x306B;EC2&#x3092;&#x69CB;&#x7BC9;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p><br></p>
<h2 id="02-&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#xFF5C;ecs-on-fargate">02. &#x30B3;&#x30F3;&#x30C6;&#x30CA;&#xFF5C;ECS on Fargate</h2>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/NatGateway&#x3092;&#x4ECB;&#x3057;&#x305F;Fargate&#x304B;&#x3089;ECRECS&#x3078;&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;.png" alt="NatGateway&#x3092;&#x4ECB;&#x3057;&#x305F;Fargate&#x304B;&#x3089;ECRECS&#x3078;&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;"></p>
<h3 id="ecs&#xFF1A;elastc-cotainer-service">ECS&#xFF1A;Elastc Cotainer Service</h3>
<h4 id="&#x30FB;ecs&#x3068;&#x306F;">&#x30FB;ECS&#x3068;&#x306F;</h4>
<p>&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x3092;&#x7BA1;&#x7406;&#x3059;&#x308B;&#x74B0;&#x5883;&#xFF0E;VPC&#x306E;&#x5916;&#x306B;&#x5B58;&#x5728;&#x3057;&#x3066;&#x3044;&#x308B;&#xFF0E;ECS&#xFF0C;EKS&#xFF0C;Fargate&#xFF0C;EC2&#x306E;&#x5BFE;&#x5FDC;&#x95A2;&#x4FC2;&#x306F;&#x4EE5;&#x4E0B;&#x306E;&#x901A;&#x308A;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>Control Plane&#xFF08;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x7BA1;&#x7406;&#x74B0;&#x5883;&#xFF09;</th>
<th>Data Plane&#xFF08;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x5B9F;&#x884C;&#x74B0;&#x5883;&#xFF09;</th>
</tr>
</thead>
<tbody>
<tr>
<td>ECS</td>
<td>Fargate&#xFF0C;EC2</td>
</tr>
<tr>
<td>EKS</td>
<td>Fargate&#xFF0C;EC2</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;">&#x30FB;&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/ECS&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;.png" alt="ECS&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;"></p>
<p><br></p>
<h3 id="&#x30B5;&#x30FC;&#x30D3;&#x30B9;">&#x30B5;&#x30FC;&#x30D3;&#x30B9;</h3>
<h4 id="&#x30FB;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x3068;&#x306F;">&#x30FB;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x3068;&#x306F;</h4>
<p>&#x30BF;&#x30B9;&#x30AF;&#x6570;&#x306E;&#x7DAD;&#x6301;&#x7BA1;&#x7406;&#x3092;&#x884C;&#x3046;&#x6A5F;&#x80FD;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;</td>
<td>&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x3067;&#x7DAD;&#x6301;&#x7BA1;&#x7406;&#x3059;&#x308B;&#x30BF;&#x30B9;&#x30AF;&#x306E;&#x5B9A;&#x7FA9;&#x30D5;&#x30A1;&#x30DF;&#x30EA;&#x30FC;&#x540D;&#x3068;&#x30EA;&#x30D3;&#x30B8;&#x30E7;&#x30F3;&#x756A;&#x53F7;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x8D77;&#x52D5;&#x30BF;&#x30A4;&#x30D7;</td>
<td>&#x30BF;&#x30B9;&#x30AF;&#x5185;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306E;&#x8D77;&#x52D5;&#x30BF;&#x30A4;&#x30D7;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30D7;&#x30E9;&#x30C3;&#x30C8;&#x30D5;&#x30A9;&#x30FC;&#x30E0;&#x306E;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;</td>
<td>&#x30BF;&#x30B9;&#x30AF;&#x306E;&#x5B9F;&#x884C;&#x74B0;&#x5883;&#x306E;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306B;&#x3088;&#x3063;&#x3066;&#xFF0C;&#x9023;&#x643A;&#x3067;&#x304D;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x304C;&#x7570;&#x306A;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x30BF;&#x30A4;&#x30D7;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x6700;&#x5C0F;&#x30D8;&#x30EB;&#x30B9;&#x7387;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x6700;&#x5927;&#x7387;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30D8;&#x30EB;&#x30B9;&#x30C1;&#x30A7;&#x30C3;&#x30AF;&#x306E;&#x7336;&#x4E88;&#x671F;&#x9593;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30BF;&#x30B9;&#x30AF;&#x306E;&#x6700;&#x5C0F;&#x6570;</td>
<td>&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x6642;&#x306E;&#x30BF;&#x30B9;&#x30AF;&#x6570;&#x306E;&#x6700;&#x5C0F;&#x6570;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30BF;&#x30B9;&#x30AF;&#x306E;&#x5FC5;&#x8981;&#x6570;</td>
<td>&#x5E73;&#x5E38;&#x6642;&#x306E;&#x30BF;&#x30B9;&#x30AF;&#x6570;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30BF;&#x30B9;&#x30AF;&#x306E;&#x6700;&#x5927;&#x6570;</td>
<td>&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x6642;&#x306E;&#x30BF;&#x30B9;&#x30AF;&#x6570;&#x306E;&#x6700;&#x5927;&#x6570;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30ED;&#x30FC;&#x30C9;&#x30D0;&#x30E9;&#x30F3;&#x30B7;&#x30F3;&#x30B0;</td>
<td>ALB&#x3067;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3059;&#x308B;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30BF;&#x30B9;&#x30AF;&#x306E;&#x6570;</td>
<td>&#x30BF;&#x30B9;&#x30AF;&#x306E;&#x69CB;&#x7BC9;&#x6570;&#x3092;&#x3044;&#x304F;&#x3064;&#x306B;&#x7DAD;&#x6301;&#x3059;&#x308B;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30BF;&#x30B9;&#x30AF;&#x304C;&#x4F55;&#x3089;&#x304B;&#x306E;&#x539F;&#x56E0;&#x3067;&#x505C;&#x6B62;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x7A7A;&#x3044;&#x3066;&#x3044;&#x308B;AWS&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x3066;&#xFF0C;&#x30BF;&#x30B9;&#x30AF;&#x304C;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x88DC;&#x586B;&#x3055;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x30E1;&#x30F3;&#x30C8;</td>
<td>&#x30ED;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30A2;&#x30C3;&#x30D7;&#x30C7;&#x30FC;&#x30C8;&#xFF0C;Blue/Green&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x304C;&#x3042;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x8FFD;&#x8DE1;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x8FFD;&#x8DE1;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x8FFD;&#x8DE1;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</td>
<td>&#x76E3;&#x8996;&#x5BFE;&#x8C61;&#x306E;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x304C;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x5024;&#x3092;&#x8D85;&#x904E;&#x3057;&#x3066;&#x3044;&#x308B;&#x304B;&#x5426;&#x304B;&#x306B;&#x57FA;&#x3065;&#x3044;&#x3066;&#xFF0C;&#x30BF;&#x30B9;&#x30AF;&#x6570;&#x306E;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x304C;&#x5B9F;&#x884C;&#x3055;&#x308C;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>ECS&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;</td>
<td>&#x76E3;&#x8996;&#x5BFE;&#x8C61;&#x306E;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x300C;&#x5E73;&#x5747;CPU&#x300D;&#xFF0C;&#x300C;&#x5E73;&#x5747;&#x30E1;&#x30E2;&#x30EA;&#x300D;&#xFF0C;&#x300C;&#x30BF;&#x30B9;&#x30AF;&#x5F53;&#x305F;&#x308A;&#x306E;ALB&#x304B;&#x3089;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x6570;&#x300D;&#x3092;&#x76E3;&#x8996;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x5024;</td>
<td>&#x30BF;&#x30B9;&#x30AF;&#x6570;&#x306E;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x304C;&#x5B9F;&#x884C;&#x3055;&#x308C;&#x308B;&#x95BE;&#x5024;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x5024;&#x3092;&#x8D85;&#x904E;&#x3057;&#x3066;&#x3044;&#x308B;&#x5834;&#x5408;&#x306B;&#xFF0C;&#x30BF;&#x30B9;&#x30AF;&#x6570;&#x304C;&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A2;&#x30A6;&#x30C8;&#x3055;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A2;&#x30A6;&#x30C8;&#x30AF;&#x30FC;&#x30EB;&#x30C0;&#x30A6;&#x30F3;&#x671F;&#x9593;</td>
<td>&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A2;&#x30A6;&#x30C8;&#x3092;&#x767A;&#x52D5;&#x3057;&#x3066;&#x304B;&#x3089;&#xFF0C;&#x6B21;&#x56DE;&#x306E;&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A2;&#x30A6;&#x30C8;&#x3092;&#x767A;&#x52D5;&#x3067;&#x304D;&#x308B;&#x307E;&#x3067;&#x306E;&#x6642;&#x9593;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x5024;&#x3092;&#x8D85;&#x904E;&#x3059;&#x308B;&#x72B6;&#x614B;&#x304C;&#x65AD;&#x7D9A;&#x7684;&#x306B;&#x7D9A;&#x304F;&#x3068;&#xFF0C;&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A2;&#x30A6;&#x30C8;&#x304C;&#x9023;&#x7D9A;&#x3057;&#x3066;&#x5B9F;&#x884C;&#x3055;&#x308C;&#x3066;&#x3057;&#x307E;&#x3046;&#x305F;&#x3081;&#xFF0C;&#x3053;&#x308C;&#x3092;&#x9632;&#x3050;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A4;&#x30F3;&#x30AF;&#x30FC;&#x30EB;&#x30C0;&#x30A6;&#x30F3;&#x671F;&#x9593;</td>
<td>&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A4;&#x30F3;&#x3092;&#x767A;&#x52D5;&#x3057;&#x3066;&#x304B;&#x3089;&#xFF0C;&#x6B21;&#x56DE;&#x306E;&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A4;&#x30F3;&#x3092;&#x767A;&#x52D5;&#x3067;&#x304D;&#x308B;&#x307E;&#x3067;&#x306E;&#x6642;&#x9593;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A4;&#x30F3;&#x306E;&#x7121;&#x52B9;&#x5316;</td>
<td></td>
</tr>
</tbody>
</table>
<ol>
<li>&#x6700;&#x5C0F;&#x30BF;&#x30B9;&#x30AF;&#x6570;&#x3092;2&#xFF0C;&#x5FC5;&#x8981;&#x30BF;&#x30B9;&#x30AF;&#x6570;&#x3092;4&#xFF0C;&#x6700;&#x5927;&#x6570;&#x3092;6&#xFF0C;CPU&#x5E73;&#x5747;&#x4F7F;&#x7528;&#x7387;&#x3092;40%&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x3068;&#x3059;&#x308B;&#xFF0E;</li>
<li>&#x5E73;&#x5E38;&#x6642;&#xFF0C;CPU&#x4F7F;&#x7528;&#x7387;40%&#x306B;&#x7DAD;&#x6301;&#x3055;&#x308C;&#x308B;&#xFF0E;</li>
<li>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x304C;&#x5897;&#x52A0;&#x3057;&#xFF0C;CPU&#x4F7F;&#x7528;&#x7387;55%&#x306B;&#x4E0A;&#x6607;&#x3059;&#x308B;&#xFF0E;</li>
<li>&#x30BF;&#x30B9;&#x30AF;&#x6570;&#x304C;6&#x3064;&#x306B;&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A2;&#x30A6;&#x30C8;&#x3057;&#xFF0C;CPU&#x4F7F;&#x7528;&#x7387;40%&#x306B;&#x7DAD;&#x6301;&#x3055;&#x308C;&#x308B;&#xFF0E;</li>
<li>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x6570;&#x304C;&#x6E1B;&#x5C11;&#x3057;&#xFF0C;CPU&#x4F7F;&#x7528;&#x7387;&#x304C;20%&#x306B;&#x4F4E;&#x4E0B;&#x3059;&#x308B;&#xFF0E;</li>
<li>&#x30BF;&#x30B9;&#x30AF;&#x6570;&#x304C;2&#x3064;&#x306B;&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A4;&#x30F3;&#x3057;&#xFF0C;CPU&#x4F7F;&#x7528;&#x7387;40%&#x306B;&#x7DAD;&#x6301;&#x3055;&#x308C;&#x308B;&#xFF0E;</li>
</ol>
<h4 id="&#x30FB;&#x30ED;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30A2;&#x30C3;&#x30D7;&#x30C7;&#x30FC;&#x30C8;">&#x30FB;&#x30ED;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30A2;&#x30C3;&#x30D7;&#x30C7;&#x30FC;&#x30C8;</h4>
<ol>
<li>ECR&#x306E;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x3092;&#x66F4;&#x65B0;</li>
<li>&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#x306E;&#x65B0;&#x3057;&#x3044;&#x30EA;&#x30D3;&#x30B8;&#x30E7;&#x30F3;&#x3092;&#x4F5C;&#x6210;&#xFF0E;</li>
<li>&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x3092;&#x66F4;&#x65B0;&#xFF0E;</li>
<li>&#x30ED;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30A2;&#x30C3;&#x30D7;&#x30C7;&#x30FC;&#x30C8;&#x306B;&#x3088;&#x3063;&#x3066;&#xFF0C;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#x3092;&#x57FA;&#x306B;&#xFF0C;&#x65B0;&#x3057;&#x3044;&#x30BF;&#x30B9;&#x30AF;&#x304C;&#x30EA;&#x30EA;&#x30FC;&#x30B9;&#x3055;&#x308C;&#x308B;&#xFF0E;</li>
</ol>
<h4 id="&#x30FB;codedeploy&#x3092;&#x4F7F;&#x7528;&#x3057;&#x305F;bluegreen&#x30C7;&#x30D7;&#x30ED;&#x30A4;">&#x30FB;CodeDeploy&#x3092;&#x4F7F;&#x7528;&#x3057;&#x305F;Blue/Green&#x30C7;&#x30D7;&#x30ED;&#x30A4;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/Blue-Green&#x30C7;&#x30D7;&#x30ED;&#x30A4;.jpeg" alt="Blue-Green&#x30C7;&#x30D7;&#x30ED;&#x30A4;"></p>
<ol>
<li>ECR&#x306E;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x3092;&#x66F4;&#x65B0;</li>
<li>&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#x306E;&#x65B0;&#x3057;&#x3044;&#x30EA;&#x30D3;&#x30B8;&#x30E7;&#x30F3;&#x3092;&#x4F5C;&#x6210;&#xFF0E;</li>
<li>&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x3092;&#x66F4;&#x65B0;&#xFF0E;</li>
<li>CodeDeploy&#x306B;&#x3088;&#x3063;&#x3066;&#xFF0C;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#x3092;&#x57FA;&#x306B;&#xFF0C;&#x73FE;&#x884C;&#x306E;&#x672C;&#x756A;&#x74B0;&#x5883;&#xFF08;Prod&#x30D6;&#x30EB;&#x30FC;&#xFF09;&#x306E;&#x30BF;&#x30B9;&#x30AF;&#x3068;&#x306F;&#x5225;&#x306B;&#xFF0C;&#x30C6;&#x30B9;&#x30C8;&#x74B0;&#x5883;&#xFF08;Test&#x30B0;&#x30EA;&#x30FC;&#x30F3;&#xFF09;&#x304C;&#x69CB;&#x7BC9;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x30ED;&#x30FC;&#x30C9;&#x30D0;&#x30E9;&#x30F3;&#x30B5;&#x30FC;&#x306E;&#x63A5;&#x7D9A;&#x5148;&#x3092;&#x672C;&#x756A;&#x74B0;&#x5883;&#xFF08;Prod&#x30D6;&#x30EB;&#x30FC;&#xFF09;&#x306E;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30C3;&#x30D7;&#xFF08;Primary&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#xFF09;&#x304B;&#x3089;&#xFF0C;&#x30C6;&#x30B9;&#x30C8;&#x74B0;&#x5883;&#xFF08;Test&#x30B0;&#x30EA;&#x30FC;&#x30F3;&#xFF09;&#x306E;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x5207;&#x308A;&#x66FF;&#x3048;&#x308B;&#xFF0E;&#x30C6;&#x30B9;&#x30C8;&#x74B0;&#x5883;&#xFF08;Test&#x30B0;&#x30EA;&#x30FC;&#x30F3;&#xFF09;&#x3067;&#x554F;&#x984C;&#x306A;&#x3051;&#x308C;&#x3070;&#xFF0C;&#x3053;&#x308C;&#x3092;&#x65B0;&#x3057;&#x3044;&#x672C;&#x756A;&#x74B0;&#x5883;&#x3068;&#x3057;&#x3066;&#x30EA;&#x30EA;&#x30FC;&#x30B9;&#x3059;&#x308B;&#xFF0E;</li>
</ol>
<p><br></p>
<h3 id="&#x30BF;&#x30B9;&#x30AF;">&#x30BF;&#x30B9;&#x30AF;</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/&#x30BF;&#x30B9;&#x30AF;&#x3068;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;.png" alt="&#x30BF;&#x30B9;&#x30AF;&#x3068;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;"></p>
<h4 id="&#x30FB;&#x30BF;&#x30B9;&#x30AF;">&#x30FB;&#x30BF;&#x30B9;&#x30AF;</h4>
<p>&#x30B0;&#x30EB;&#x30FC;&#x30D4;&#x30F3;&#x30B0;&#x3055;&#x308C;&#x305F;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x7FA4;&#x306E;&#x3053;&#x3068;</p>
<h4 id="&#x30FB;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#x3068;&#x306F;">&#x30FB;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#x3068;&#x306F;</h4>
<p>&#x5404;&#x30BF;&#x30B9;&#x30AF;&#x3092;&#x3069;&#x306E;&#x3088;&#x3046;&#x306A;&#x8A2D;&#x5B9A;&#x5024;&#xFF08;<code>json</code>&#x5F62;&#x5F0F;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#xFF09;&#x306B;&#x57FA;&#x3065;&#x3044;&#x3066;&#x69CB;&#x7BC9;&#x3059;&#x308B;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#x306F;&#xFF0C;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x3092;&#x793A;&#x3059;&#x300C;&#x30EA;&#x30D3;&#x30B8;&#x30E7;&#x30F3;&#x30CA;&#x30F3;&#x30D0;&#x30FC;&#x300D;&#x3067;&#x756A;&#x53F7;&#x3065;&#x3051;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#x3092;&#x524A;&#x9664;&#x3059;&#x308B;&#x306B;&#x306F;&#xFF0C;&#x5168;&#x3066;&#x306E;&#x30EA;&#x30D3;&#x30B8;&#x30E7;&#x30F3;&#x756A;&#x53F7;&#x306E;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#x3092;&#x767B;&#x9332;&#x89E3;&#x9664;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30BF;&#x30B9;&#x30AF;&#x30ED;&#x30FC;&#x30EB;">&#x30FB;&#x30BF;&#x30B9;&#x30AF;&#x30ED;&#x30FC;&#x30EB;</h4>
<p>&#x30BF;&#x30B9;&#x30AF;&#x5185;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x304C;&#xFF0C;&#x4ED6;&#x306E;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#x5FC5;&#x8981;&#x306A;&#x30ED;&#x30FC;&#x30EB;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;Version&quot;</span>: <span class="hljs-string">&quot;2012-10-17&quot;</span>,
  <span class="hljs-string">&quot;Statement&quot;</span>: [
    {
      <span class="hljs-string">&quot;Effect&quot;</span>: <span class="hljs-string">&quot;Allow&quot;</span>,
      <span class="hljs-string">&quot;Action&quot;</span>: [
        <span class="hljs-string">&quot;logs:CreateLogStream&quot;</span>,
        <span class="hljs-string">&quot;logs:PutLogEvents&quot;</span>
      ],
      <span class="hljs-string">&quot;Resource&quot;</span>: [
        <span class="hljs-string">&quot;arn:aws:logs:*:*:*&quot;</span>
      ]
    }
  ]
}
</code></pre>
<h4 id="&#x30FB;&#x30BF;&#x30B9;&#x30AF;&#x5B9F;&#x884C;&#x30ED;&#x30FC;&#x30EB;">&#x30FB;&#x30BF;&#x30B9;&#x30AF;&#x5B9F;&#x884C;&#x30ED;&#x30FC;&#x30EB;</h4>
<p>&#x30BF;&#x30B9;&#x30AF;&#x4E0A;&#x306B;&#x5B58;&#x5728;&#x3059;&#x308B;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x304C;&#xFF0C;&#x4ED6;&#x306E;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#x5FC5;&#x8981;&#x306A;&#x30ED;&#x30FC;&#x30EB;&#x306E;&#x3053;&#x3068;&#xFF0E;AWS&#x7BA1;&#x7406;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3067;&#x3042;&#x308B;&#x300C;<code>AmazonECSTaskExecutionRolePolicy</code>&#x300D;&#x304C;&#x4ED8;&#x4E0E;&#x3055;&#x308C;&#x305F;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#xFF0C;&#x30BF;&#x30B9;&#x30AF;&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;&#x3053;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306B;&#x306F;&#xFF0C;ECR&#x3078;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x6A29;&#x9650;&#x306E;&#x4ED6;&#xFF0C;CloudWatch Logs&#x306B;&#x30ED;&#x30B0;&#x3092;&#x751F;&#x6210;&#x3059;&#x308B;&#x305F;&#x3081;&#x306E;&#x6A29;&#x9650;&#x304C;&#x8A2D;&#x5B9A;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x30BF;&#x30B9;&#x30AF;&#x5185;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306B;&#x5FC5;&#x8981;&#x306A;&#x30BF;&#x30B9;&#x30AF;&#x30ED;&#x30FC;&#x30EB;&#x3068;&#x306F;&#x533A;&#x5225;&#x3059;&#x308B;&#x3053;&#x3068;&#xFF0E;</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;Version&quot;</span>: <span class="hljs-string">&quot;2012-10-17&quot;</span>,
  <span class="hljs-string">&quot;Statement&quot;</span>: [
    {
      <span class="hljs-string">&quot;Effect&quot;</span>: <span class="hljs-string">&quot;Allow&quot;</span>,
      <span class="hljs-string">&quot;Action&quot;</span>: [
        <span class="hljs-string">&quot;ecr:GetAuthorizationToken&quot;</span>,
        <span class="hljs-string">&quot;ecr:BatchCheckLayerAvailability&quot;</span>,
        <span class="hljs-string">&quot;ecr:GetDownloadUrlForLayer&quot;</span>,
        <span class="hljs-string">&quot;ecr:BatchGetImage&quot;</span>,
        <span class="hljs-string">&quot;logs:CreateLogStream&quot;</span>,
        <span class="hljs-string">&quot;logs:PutLogEvents&quot;</span>
      ],
      <span class="hljs-string">&quot;Resource&quot;</span>: <span class="hljs-string">&quot;*&quot;</span>
    }
  ]
}
</code></pre>
<h4 id="&#x30FB;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x308B;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;ip&#x30A2;&#x30C9;&#x30EC;&#x30B9;">&#x30FB;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x308B;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;</h4>
<p>&#x30BF;&#x30B9;&#x30AF;&#x3054;&#x3068;&#x306B;&#x7570;&#x306A;&#x308B;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;IP&#x304C;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x308B;&#xFF0E;&#x3053;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;ALB&#x306F;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3092;&#x884C;&#x3046;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x30E2;&#x30FC;&#x30C9;&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;">&#x30FB;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x30E2;&#x30FC;&#x30C9;&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x76F8;&#x5F53;&#x3059;&#x308B;Docker&#x306E;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x6A5F;&#x80FD;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>bridge</td>
<td>bridge&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;</td>
<td></td>
</tr>
<tr>
<td>host</td>
<td>host&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;</td>
<td></td>
</tr>
<tr>
<td>awsvpc</td>
<td>aws&#x306E;&#x72EC;&#x81EA;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x6A5F;&#x80FD;&#xFF0E;</td>
<td>&#x30BF;&#x30B9;&#x30AF;&#x306F;Elastic Network Interface&#x3068;&#x7D10;&#x3065;&#x3051;&#x3089;&#x308C;&#xFF0C;Primary&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30BF;&#x30B9;&#x30AF;&#x30B5;&#x30A4;&#x30BA;&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;">&#x30FB;&#x30BF;&#x30B9;&#x30AF;&#x30B5;&#x30A4;&#x30BA;&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30BF;&#x30B9;&#x30AF;&#x30E1;&#x30E2;&#x30EA;</td>
<td>&#x30BF;&#x30B9;&#x30AF;&#x5F53;&#x305F;&#x308A;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306E;&#x5408;&#x8A08;&#x30E1;&#x30E2;&#x30EA;&#x4F7F;&#x7528;&#x91CF;</td>
</tr>
<tr>
<td>&#x30BF;&#x30B9;&#x30AF;CPU</td>
<td>&#x30BF;&#x30B9;&#x30AF;&#x5F53;&#x305F;&#x308A;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306E;&#x5408;&#x8A08;CPU&#x4F7F;&#x7528;&#x91CF;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="fargate&#x8D77;&#x52D5;&#x30BF;&#x30A4;&#x30D7;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;">Fargate&#x8D77;&#x52D5;&#x30BF;&#x30A4;&#x30D7;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;</h3>
<h4 id="&#x30FB;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;">&#x30FB;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;</h4>
<p>&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x5185;&#x3067;&#x7A3C;&#x50CD;&#x3057;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306E;&#x64CD;&#x4F5C;&#x3092;&#x884C;&#x3046;&#x30D7;&#x30ED;&#x30B0;&#x30E9;&#x30E0;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x5B9A;&#x7FA9;&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;">&#x30FB;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x5B9A;&#x7FA9;&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;</h4>
<p>&#x30BF;&#x30B9;&#x30AF;&#x5185;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x4E00;&#x3064;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;&#x74B0;&#x5883;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/AmazonECS/latest/userguide/task_definition_parameters.html" target="_blank">https://docs.aws.amazon.com/ja_jp/AmazonECS/latest/userguide/task_definition_parameters.html</a></p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x5BFE;&#x5FDC;&#x3059;&#x308B;docker&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x30AA;&#x30D7;&#x30B7;&#x30E7;&#x30F3;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>cpu</td>
<td><code>--cpus</code></td>
<td>&#x4EEE;&#x60F3;cpu&#x6570;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>dnsServers</td>
<td><code>--dns</code></td>
<td>&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x304C;&#x540D;&#x524D;&#x89E3;&#x6C7A;&#x306B;&#x4F7F;&#x7528;&#x3059;&#x308B;DNS&#x30B5;&#x30FC;&#x30D0;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>essential</td>
<td></td>
<td>&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x304C;&#x5FC5;&#x9808;&#x304B;&#x5426;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;<code>true</code>&#x306E;&#x5834;&#x5408;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x304C;&#x505C;&#x6B62;&#x3059;&#x308B;&#x3068;&#xFF0C;&#x30BF;&#x30B9;&#x30AF;&#x306B;&#x542B;&#x307E;&#x308C;&#x308B;&#x5168;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x304C;&#x505C;&#x6B62;&#x3059;&#x308B;&#xFF0E;<br><code>false</code>&#x306E;&#x5834;&#x5408;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x304C;&#x505C;&#x6B62;&#x3057;&#x3066;&#x3082;&#xFF0C;&#x305D;&#x306E;&#x4ED6;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306F;&#x505C;&#x6B62;&#x3057;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>healthCheck<br>(command)</td>
<td><code>--health-cmd</code></td>
<td>&#x30DB;&#x30B9;&#x30C8;&#x30DE;&#x30B7;&#x30F3;&#x304B;&#x3089;Fargate&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;<code>curl</code>&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x306B;&#x3088;&#x308B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x9001;&#x4FE1;&#x3057;&#xFF0C;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x5185;&#x5BB9;&#x3092;&#x78BA;&#x8A8D;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>healthCheck<br>(interval)</td>
<td><code>--health-interval</code></td>
<td>&#x30D8;&#x30EB;&#x30B9;&#x30C1;&#x30A7;&#x30C3;&#x30AF;&#x306E;&#x9593;&#x9694;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>healthCheck<br>(retries)</td>
<td><code>--health-retries</code></td>
<td>&#x30D8;&#x30EB;&#x30B9;&#x30C1;&#x30A7;&#x30C3;&#x30AF;&#x3092;&#x6210;&#x529F;&#x3068;&#x898B;&#x306A;&#x3059;&#x56DE;&#x6570;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>hostName</td>
<td><code>--hostname</code></td>
<td>&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306B;&#x30DB;&#x30B9;&#x30C8;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>image</td>
<td></td>
<td>ECR&#x306E;URL&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>logConfiguration<br>(logDriver)</td>
<td><code>--log-driver</code></td>
<td>&#x30ED;&#x30B0;&#x30C9;&#x30E9;&#x30A4;&#x30D0;&#x30FC;&#x3092;&#x6307;&#x5B9A;&#x3059;&#x308B;&#x3053;&#x3068;&#x306B;&#x3088;&#x308A;&#xFF0C;&#x30ED;&#x30B0;&#x306E;&#x51FA;&#x529B;&#x5148;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>Docker&#x306E;&#x30ED;&#x30B0;&#x30C9;&#x30E9;&#x30A4;&#x30D0;&#x30FC;&#x306B;&#x304A;&#x304A;&#x3088;&#x305D;&#x5BFE;&#x5FDC;&#x3057;&#x3066;&#x304A;&#x308A;&#xFF0C;Fargate&#x3067;&#x3042;&#x308C;&#x3070;&#x300C;awslogs&#xFF0C;awsfirelens&#xFF0C;splunk&#x300D;&#x306B;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;EC2&#x3067;&#x3042;&#x308C;&#x3070;&#x300C;awslogs&#xFF0C;json-file&#xFF0C;syslog&#xFF0C;journald&#xFF0C;fluentd&#xFF0C;gelf&#xFF0C;logentries&#x300D;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>logConfiguration<br>(options)</td>
<td><code>--log-opt</code></td>
<td>&#x30ED;&#x30B0;&#x30C9;&#x30E9;&#x30A4;&#x30D0;&#x30FC;&#x306B;&#x5FDC;&#x3058;&#x3066;&#xFF0C;&#x8A73;&#x7D30;&#x306A;&#x8A2D;&#x5B9A;&#x3092;&#x884C;&#x3046;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>portMapping</td>
<td><code>--publish</code></td>
<td>&#x30DB;&#x30B9;&#x30C8;&#x30DE;&#x30B7;&#x30F3;&#x3068;Fargate&#x306E;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x30DD;&#x30FC;&#x30C8;&#x756A;&#x53F7;&#x3092;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x3057;&#xFF0C;&#x30DD;&#x30FC;&#x30C8;&#x30D5;&#x30A9;&#x30EF;&#x30FC;&#x30C7;&#x30A3;&#x30F3;&#x30B0;&#x3092;&#x884C;&#x3046;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>secrets<br>(volumesFrom)</td>
<td></td>
<td>SSM&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x30B9;&#x30C8;&#x30A2;&#x304B;&#x3089;&#x53C2;&#x7167;&#x3059;&#x308B;&#x5909;&#x6570;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>memory</td>
<td><code>--memory</code><br><code>--memory-reservation</code></td>
<td>&#x30D7;&#x30ED;&#x30BB;&#x30B9;&#x304C;&#x4F7F;&#x7528;&#x3067;&#x304D;&#x308B;&#x30E1;&#x30E2;&#x30EA;&#x306E;&#x95BE;&#x5024;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>mountPoints</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ulimit</td>
<td>Linux&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x306E;<br><code>--ulimit</code>&#x306B;&#x76F8;&#x5F53;</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;awslogs&#x30C9;&#x30E9;&#x30A4;&#x30D0;&#x30FC;">&#x30FB;awslogs&#x30C9;&#x30E9;&#x30A4;&#x30D0;&#x30FC;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>awslogs-group</td>
<td>&#x30ED;&#x30B0;&#x9001;&#x4FE1;&#x5148;&#x306E;CloudWatch Logs&#x306E;&#x30ED;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>awslogs-datetime-format</td>
<td>&#x65E5;&#x6642;&#x30D5;&#x30A9;&#x30FC;&#x30DE;&#x30C3;&#x30C8;&#x3092;&#x5B9A;&#x7FA9;&#x3057;&#xFF0C;&#x307E;&#x305F;&#x3053;&#x308C;&#x3092;&#x30ED;&#x30B0;&#x306E;&#x533A;&#x5207;&#x308A;&#x5358;&#x4F4D;&#x3068;&#x3057;&#x3066;&#x30ED;&#x30B0;&#x30B9;&#x30C8;&#x30EA;&#x30FC;&#x30E0;&#x306B;&#x51FA;&#x529B;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x6B63;&#x898F;&#x8868;&#x73FE;&#x3067;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308A;&#xFF0C;&#x3055;&#x3089;&#x306B;JSON&#x3067;&#x306F;&#x300C;<code>\</code>&#x300D;&#x3092;&#x300C;<code>\\</code>&#x300D;&#x306B;&#x30A8;&#x30B9;&#x30B1;&#x30FC;&#x30D7;&#x3057;&#x306A;&#x3051;&#x308C;&#x3070;&#x306A;&#x3089;&#x306A;&#x3044;&#xFF0E;&#x4F8B;&#x3048;&#x3070;&#x300C;<code>\\[%Y-%m-%d %H:%M:%S\\]</code>&#x300D;&#x3068;&#x306A;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>awslogs-region</td>
<td>&#x30ED;&#x30B0;&#x9001;&#x4FE1;&#x5148;&#x306E;CloudWatch Logs&#x306E;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>awslogs-stream-prefix</td>
<td>&#x30ED;&#x30B0;&#x9001;&#x4FE1;&#x5148;&#x306E;CloudWatch Logs&#x306E;&#x30ED;&#x30B0;&#x30B9;&#x30C8;&#x30EA;&#x30FC;&#x30E0;&#x306E;&#x30D7;&#x30EC;&#x30D5;&#x30A3;&#x30C3;&#x30AF;&#x30B9;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30ED;&#x30B0;&#x30B9;&#x30C8;&#x30EA;&#x30FC;&#x30E0;&#x306B;&#x306F;&#xFF0C;&#x300C;<code>&lt;&#x30D7;&#x30EC;&#x30D5;&#x30A3;&#x30C3;&#x30AF;&#x30B9;&#x540D;&gt;/&lt;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x540D;&gt;/&lt;&#x30BF;&#x30B9;&#x30AF;ID&gt;</code>&#x300D;&#x306E;&#x5F62;&#x5F0F;&#x3067;&#x9001;&#x4FE1;&#x3055;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="ecr">ECR</h3>
<h4 id="&#x30FB;&#x30E9;&#x30A4;&#x30D5;&#x30B5;&#x30A4;&#x30AF;&#x30EB;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;&#x30E9;&#x30A4;&#x30D5;&#x30B5;&#x30A4;&#x30AF;&#x30EB;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<p>ECR&#x306E;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x306E;&#x6709;&#x52B9;&#x671F;&#x9593;&#x3092;&#x5B9A;&#x7FA9;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30EB;&#x30FC;&#x30EB;&#x306E;&#x512A;&#x5148;&#x9806;&#x4F4D;</td>
<td>&#x9806;&#x4F4D;&#x306E;&#x5927;&#x304D;&#x3055;&#x3067;&#xFF0C;&#x30EB;&#x30FC;&#x30EB;&#x306E;&#x512A;&#x5148;&#x5EA6;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
<td>&#x6570;&#x5B57;&#x306F;&#x9023;&#x7D9A;&#x3057;&#x3066;&#x3044;&#x308B;&#x5FC5;&#x8981;&#x306F;&#x306A;&#x304F;&#xFF0C;&#x4F8B;&#x3048;&#x3070;&#xFF0C;10&#xFF0C;20&#xFF0C;90&#xFF0C;&#x306E;&#x3088;&#x3046;&#x306B;&#x8A2D;&#x5B9A;&#x3057;&#x3066;&#x3082;&#x826F;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x306E;&#x30B9;&#x30C6;&#x30FC;&#x30BF;&#x30B9;</td>
<td>&#x30EB;&#x30FC;&#x30EB;&#x3092;&#x9069;&#x7528;&#x3059;&#x308B;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x306E;&#x6761;&#x4EF6;&#x3068;&#x3057;&#x3066;&#xFF0C;&#x30BF;&#x30B0;&#x306E;&#x6709;&#x7121;&#x3084;&#x6587;&#x5B57;&#x5217;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x4E00;&#x81F4;&#x6761;&#x4EF6;</td>
<td>&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x306E;&#x6709;&#x52B9;&#x671F;&#x9593;&#x3068;&#x3057;&#x3066;&#xFF0C;&#x540C;&#x6761;&#x4EF6;&#x306B;&#x5F53;&#x3066;&#x306F;&#x307E;&#x308B;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x304C;&#x524A;&#x9664;&#x3055;&#x308C;&#x308B;&#x95BE;&#x5024;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
<td>&#x500B;&#x6570;&#xFF0C;&#x30D7;&#x30C3;&#x30B7;&#x30E5;&#x3055;&#x308C;&#x3066;&#x304B;&#x3089;&#x306E;&#x671F;&#x9593;&#xFF0C;&#x306A;&#x3069;&#x3092;&#x95BE;&#x5024;&#x3068;&#x3057;&#x3066;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30BF;&#x30B0;&#x306E;&#x5909;&#x6027;&#xFF0F;&#x4E0D;&#x5909;&#x6027;">&#x30FB;&#x30BF;&#x30B0;&#x306E;&#x5909;&#x6027;&#xFF0F;&#x4E0D;&#x5909;&#x6027;</h4>
<p><br></p>
<h3 id="tips">Tips</h3>
<h4 id="&#x30FB;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x308B;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;ip&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#xFF0C;fargate&#x306E;ip&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x554F;&#x984C;">&#x30FB;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x308B;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#xFF0C;Fargate&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x554F;&#x984C;</h4>
<p>Fargate&#x306B;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x6301;&#x305F;&#x305B;&#x305F;&#x3044;&#x5834;&#x5408;&#xFF0C;Elastic IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x8A2D;&#x5B9A;&#x9805;&#x76EE;&#x304C;&#x306A;&#x304F;&#xFF0C;&#x52D5;&#x7684;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3057;&#x304B;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF08;Fargate&#x306E;&#x518D;&#x69CB;&#x7BC9;&#x5F8C;&#x306B;&#x5909;&#x5316;&#x3059;&#x308B;&#xFF09;&#xFF0E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x306E;&#x5148;&#x306B;&#x3042;&#x308B;&#x5916;&#x90E8;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x304C;&#xFF0C;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x4E0A;&#x3067;&#x9759;&#x7684;&#x306A;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x8981;&#x6C42;&#x3059;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#xFF08;&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x5411;&#x304D;&#x901A;&#x4FE1;&#xFF09;&#x6642;&#x306B;&#x9001;&#x4FE1;&#x5143;&#x30D1;&#x30B1;&#x30C3;&#x30C8;&#x306B;&#x4ED8;&#x52A0;&#x3055;&#x308C;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304C;&#x52D5;&#x7684;&#x306B;&#x306A;&#x308A;&#xFF0C;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x304C;&#x3067;&#x304D;&#x306A;&#x304F;&#x306A;&#x3063;&#x3066;&#x3057;&#x307E;&#x3046;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/NatGateway&#x3092;&#x4ECB;&#x3057;&#x305F;Fargate&#x304B;&#x3089;&#x5916;&#x90E8;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x3078;&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;.png" alt="NatGateway&#x3092;&#x4ECB;&#x3057;&#x305F;Fargate&#x304B;&#x3089;&#x5916;&#x90E8;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x3078;&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;"></p>
<p>&#x305D;&#x3053;&#x3067;&#xFF0C;Fargate&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x304C;&#xFF0C;Elastic IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x6301;&#x3064;NAT Gateway&#x3092;&#x7D4C;&#x7531;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x3059;&#x308B;&#xFF08;Fargate&#x306F;&#xFF0C;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x3068;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306E;&#x3069;&#x3061;&#x3089;&#x306B;&#x7F6E;&#x3044;&#x3066;&#x3082;&#x826F;&#x3044;&#xFF09;&#xFF0E;&#x3053;&#x308C;&#x306B;&#x3088;&#x3063;&#x3066;&#xFF0C;Nat Gateway&#x306E;Elastic IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304C;&#x9001;&#x4FE1;&#x5143;&#x30D1;&#x30B1;&#x30C3;&#x30C8;&#x306B;&#x4ED8;&#x52A0;&#x3055;&#x308C;&#x308B;&#x305F;&#x3081;&#xFF0C;Fargate&#x306E;&#x9001;&#x4FE1;&#x5143;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x898B;&#x304B;&#x3051;&#x4E0A;&#x9759;&#x7684;&#x306B;&#x6271;&#x3046;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;vpc&#x306E;&#x5916;&#x5074;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30C8;&#x901A;&#x4FE1;&#x554F;&#x984C;">&#x30FB;VPC&#x306E;&#x5916;&#x5074;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30C8;&#x901A;&#x4FE1;&#x554F;&#x984C;</h4>
<p>&#x30BF;&#x30B9;&#x30AF;&#x5185;&#x306E;Fargate&#x306F;&#xFF0C;VPC&#x306E;&#x5916;&#x5074;&#x306B;&#x3042;&#x308B;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#xFF0C;NATGateway&#x307E;&#x305F;&#x306F;VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x304C;&#x5FC5;&#x8981;&#x3067;&#x3042;&#x308B;&#xFF0E;&#x6599;&#x91D1;&#x7684;&#x306A;&#x89B3;&#x70B9;&#x304B;&#x3089;&#xFF0C;VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x305F;&#x65B9;&#x304C;&#x3088;&#x3044;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x306E;&#x63A5;&#x7D9A;&#x5148;</th>
<th>&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;DNS&#x540D;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>CloudWatch Logs</td>
<td><code>logs.ap-northeast-1.amazonaws.com</code></td>
<td>ECS&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306E;&#x30ED;&#x30B0;&#x3092;POST&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x305F;&#x3081;&#xFF0E;</td>
</tr>
<tr>
<td>ECR</td>
<td><code>api.ecr.ap-northeast-1.amazonaws.com</code><br><code>*.dkr.ecr.ap-northeast-1.amazonaws.com</code></td>
<td>&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x306E;GET&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x305F;&#x3081;&#xFF0E;</td>
</tr>
<tr>
<td>S3</td>
<td>&#x306A;&#x3057;</td>
<td>&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x306E;&#x30EC;&#x30A4;&#x30E4;&#x30FC;&#x3092;POST&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x305F;&#x3081;</td>
</tr>
<tr>
<td>SSM</td>
<td><code>ssm.ap-northeast-1.amazonaws.com</code></td>
<td>SSM&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x30B9;&#x30C8;&#x30A2;&#x306B;GET&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x305F;&#x3081;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p>&#x4F8B;&#x3048;&#x3070;&#xFF0C;Fargate&#x304B;&#x3089;ECR&#x306B;&#x5BFE;&#x3059;&#x308B;Docker&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x306E;&#x30D7;&#x30EB;&#x306F;&#xFF0C;VPC&#x306E;&#x5916;&#x5074;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#xFF08;&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x5411;&#x304D;&#x901A;&#x4FE1;&#xFF09;&#x3067;&#x3042;&#x308B;&#xFF0E;&#x4EE5;&#x4E0B;&#x306E;&#x901A;&#x308A;&#xFF0C;NAT Gateway&#x3092;&#x8A2D;&#x7F6E;&#x3057;&#x305F;&#x3068;&#x3059;&#x308B;&#xFF0E;&#x3053;&#x306E;&#x5834;&#x5408;&#xFF0C;ECS&#x3084;ECR&#x3068;&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x304C;NAT Gateway&#x3092;&#x901A;&#x904E;&#x3059;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x9AD8;&#x984D;&#x6599;&#x91D1;&#x3092;&#x8ACB;&#x6C42;&#x3055;&#x308C;&#x3066;&#x3057;&#x307E;&#x3046;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/NatGateway&#x3092;&#x4ECB;&#x3057;&#x305F;Fargate&#x304B;&#x3089;ECRECS&#x3078;&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;.png" alt="NatGateway&#x3092;&#x4ECB;&#x3057;&#x305F;Fargate&#x304B;&#x3089;ECRECS&#x3078;&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;"></p>
<p>&#x305D;&#x3053;&#x3067;&#xFF0C;ECR&#x7528;&#x306E;VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3092;&#x8A2D;&#x3051;&#xFF0C;&#x3053;&#x308C;&#x306B;&#x5BFE;&#x3057;&#x3066;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x3092;&#x884C;&#x3046;&#x3088;&#x3046;&#x306B;&#x3059;&#x308B;&#x3068;&#x3088;&#x3044;&#xFF0E;&#x306A;&#x304A;&#xFF0C;NAT Gateway&#x3068;VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x306E;&#x4E21;&#x65B9;&#x3092;&#x69CB;&#x7BC9;&#x3057;&#x3066;&#x3044;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;&#x3067;&#x306F;&#xFF0C;VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3078;&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x306E;&#x65B9;&#x304C;&#x512A;&#x5148;&#x3055;&#x308C;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/PrivateLink&#x3092;&#x4ECB;&#x3057;&#x305F;Fargate&#x304B;&#x3089;ECRECS&#x3078;&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;.png" alt="PrivateLink&#x3092;&#x4ECB;&#x3057;&#x305F;Fargate&#x304B;&#x3089;ECRECS&#x3078;&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;"></p>
<p><br></p>
<h2 id="02-02-&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#xFF5C;ecs-on-ec2">02-02. &#x30B3;&#x30F3;&#x30C6;&#x30CA;&#xFF5C;ECS on EC2</h2>
<h3 id="ec2&#x8D77;&#x52D5;&#x30BF;&#x30A4;&#x30D7;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;">EC2&#x8D77;&#x52D5;&#x30BF;&#x30A4;&#x30D7;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;</h3>
<h4 id="&#x30FB;&#x30BF;&#x30B9;&#x30AF;&#x914D;&#x7F6E;&#x6226;&#x7565;">&#x30FB;&#x30BF;&#x30B9;&#x30AF;&#x914D;&#x7F6E;&#x6226;&#x7565;</h4>
<p>&#x30BF;&#x30B9;&#x30AF;&#x3092;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306B;&#x914D;&#x7F6E;&#x3059;&#x308B;&#x6642;&#x306E;&#x30A2;&#x30EB;&#x30B4;&#x30EA;&#x30BA;&#x30E0;&#x3092;&#x9078;&#x629E;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x6226;&#x7565;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Spread</td>
<td>&#x30BF;&#x30B9;&#x30AF;&#x3092;&#x5404;&#x5834;&#x6240;&#x306B;&#x30D0;&#x30E9;&#x30F3;&#x30B9;&#x3088;&#x304F;&#x914D;&#x7F6E;&#x3059;&#x308B;</td>
</tr>
<tr>
<td>Binpack</td>
<td>&#x30BF;&#x30B9;&#x30AF;&#x3092;&#x4E00;&#x3064;&#x306E;&#x5834;&#x6240;&#x306B;&#x3067;&#x304D;&#x308B;&#x3060;&#x3051;&#x591A;&#x304F;&#x914D;&#x7F6E;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Random</td>
<td>&#x30BF;&#x30B9;&#x30AF;&#x3092;&#x30E9;&#x30F3;&#x30C0;&#x30E0;&#x306B;&#x914D;&#x7F6E;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h2 id="03-&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;">03. &#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;</h2>
<h3 id="ebs&#xFF1A;elastic-block-storage">EBS&#xFF1A;Elastic Block Storage</h3>
<h4 id="&#x30FB;ebs&#x3068;&#x306F;">&#x30FB;EBS&#x3068;&#x306F;</h4>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x5185;&#x8535;&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#x306E;&#x7A2E;&#x985E;&#x3068;&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;&#x30BF;&#x30A4;&#x30D7;">&#x30FB;&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#x306E;&#x7A2E;&#x985E;&#x3068;&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;&#x30BF;&#x30A4;&#x30D7;</h4>
<table>
<thead>
<tr>
<th>&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#x306E;&#x7A2E;&#x985E;</th>
<th>&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;&#x540D;</th>
</tr>
</thead>
<tbody>
<tr>
<td>SSD</td>
<td>&#x6C4E;&#x7528;SSD</td>
</tr>
<tr>
<td>SSD</td>
<td>&#x30D7;&#x30ED;&#x30D3;&#x30B8;&#x30E7;&#x30F3;&#x30C9; IOPS SSD</td>
</tr>
<tr>
<td>HDD</td>
<td>&#x30B9;&#x30EB;&#x30FC;&#x30D7;&#x30C3;&#x30C8;&#x6700;&#x9069;&#x5316; HDD</td>
</tr>
<tr>
<td>HDD</td>
<td>Cold HDD</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x6700;&#x5C0F;&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;">&#x30FB;&#x6700;&#x5C0F;&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;</h4>
<p>&#x8E0F;&#x307F;&#x53F0;&#x30B5;&#x30FC;&#x30D0;&#x3092;&#x69CB;&#x7BC9;&#x3059;&#x308B;&#x6642;&#xFF0C;&#x3067;&#x304D;&#x308B;&#x3060;&#x3051;&#x6700;&#x5C0F;&#x9650;&#x306E;&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;&#x3092;&#x9078;&#x629E;&#x3057;&#xFF0C;&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#x5408;&#x8A08;&#x3092;&#x6291;&#x3048;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>OS</th>
<th>&#x4EEE;&#x60F3;&#x30E1;&#x30E2;&#x30EA;</th>
<th>&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;&#x30B5;&#x30A4;&#x30BA;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Amazon Linux</td>
<td>t2.micro</td>
<td>8</td>
</tr>
<tr>
<td>CentOS</td>
<td>t2.micro</td>
<td>10</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="efs&#xFF1A;elastic-file-system">EFS&#xFF1A;Elastic File System</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/EFS&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x5171;&#x6709;&#x6A5F;&#x80FD;.png" alt="EFS&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x5171;&#x6709;&#x6A5F;&#x80FD;"></p>
<h4 id="&#x30FB;efs&#x3068;&#x306F;">&#x30FB;EFS&#x3068;&#x306F;</h4>
<p>&#x30DE;&#x30A6;&#x30F3;&#x30C8;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x3068;&#x63A5;&#x7D9A;&#x3055;&#x308C;&#x305F;EC2&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x304B;&#x3089;&#xFF0C;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x81EA;&#x8EAB;&#x306B;&#x8EE2;&#x9001;&#x3057;&#xFF0C;&#x3053;&#x308C;&#x3092;&#x7BA1;&#x7406;&#x3059;&#x308B;&#xFF0E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x5B9F;&#x4F53;&#x306F;EFS&#x306E;&#x4E2D;&#x306B;&#x5B58;&#x5728;&#x3057;&#x3066;&#x3044;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x63A5;&#x7D9A;&#x3092;&#x5207;&#x65AD;&#x3057;&#x3066;&#x3044;&#x308B;&#x9593;&#xFF0C;EC2&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x5185;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306F;&#x7121;&#x304F;&#x306A;&#x308B;&#xFF0E;&#x518D;&#x63A5;&#x7D9A;&#x3059;&#x308B;&#x3068;&#xFF0C;&#x5207;&#x65AD;&#x76F4;&#x524D;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x518D;&#x3073;&#x8868;&#x793A;&#x3055;&#x308C;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30B7;&#x30B9;&#x30C6;&#x30E0;</td>
<td>EFS&#x306B;&#x95A2;&#x3059;&#x308B;&#x8A2D;&#x5B9A;</td>
<td></td>
</tr>
<tr>
<td>&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x30A2;&#x30AF;&#x30BB;&#x30B9;</td>
<td>&#x30DE;&#x30A6;&#x30F3;&#x30C8;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x3092;&#x8A2D;&#x7F6E;&#x3059;&#x308B;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#xFF0C;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3092;&#x8A2D;&#x5B9A;</td>
<td>&#x30FB;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306F;&#xFF0C;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x4F9B;&#x7D66;&#x306E;&#x901F;&#x5EA6;&#x306E;&#x89B3;&#x70B9;&#x304B;&#x3089;&#xFF0C;&#x30DE;&#x30A6;&#x30F3;&#x30C8;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3068;&#x540C;&#x3058;&#x306B;&#x3059;&#x308B;&#xFF0E;<br>&#x30FB;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306F;&#xFF0C;EC2&#x304B;&#x3089;&#x306E;NFS&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x8A31;&#x53EF;&#x3057;&#x305F;&#x3082;&#x306E;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;EC2&#x306E;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3092;&#x901A;&#x904E;&#x3057;&#x305F;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3060;&#x3051;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#xFF0C;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3067;&#x306F;&#xFF0C;EC2&#x306E;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30B7;&#x30B9;&#x30C6;&#x30E0;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</td>
<td>AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x304C;EFS&#x3092;&#x5229;&#x7528;&#x3059;&#x308B;&#x6642;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30DE;&#x30A6;&#x30F3;&#x30C8;&#x30B3;&#x30DE;&#x30F3;&#x30C9;">&#x30FB;&#x30DE;&#x30A6;&#x30F3;&#x30C8;&#x30B3;&#x30DE;&#x30F3;&#x30C9;</h4>
<p>DNS&#x7D4C;&#x7531;&#x3067;&#xFF0C;EFS&#x30DE;&#x30A6;&#x30F3;&#x30C8;&#x30D8;&#x30EB;&#x30D1;&#x30FC;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x305F;&#x5834;&#x5408;&#x3092;&#x793A;&#x3059;&#xFF0E;</p>
<pre><code class="lang-bash">$ mount -t &lt;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30B7;&#x30B9;&#x30C6;&#x30E0;&#x30BF;&#x30A4;&#x30D7;&gt; -o tls &lt;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30B7;&#x30B9;&#x30C6;&#x30E0;ID&gt;:/ &lt;&#x30DE;&#x30A6;&#x30F3;&#x30C8;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&gt;
</code></pre>
<pre><code class="lang-bash"><span class="hljs-comment"># Amazon EFS&#x3067;&#xFF0C;&#x30DE;&#x30A6;&#x30F3;&#x30C8;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3092;&#x767B;&#x9332;</span>
$ mount -t efs -o tls fs-xxxxx:/ /var/www/app

<span class="hljs-comment"># &#x30DE;&#x30A6;&#x30F3;&#x30C8;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3092;&#x89E3;&#x9664;</span>
$ umount /var/www/app

<span class="hljs-comment"># df&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x3067;&#x30DE;&#x30A6;&#x30F3;&#x30C8;&#x3057;&#x3066;&#x3044;&#x308B;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x3092;&#x78BA;&#x8A8D;&#x3067;&#x304D;&#x308B;</span>
$ df
Filesystem                                1K-blocks Used Available Use% Mounted on
fs-xxx.efs.ap-northeast-1.amazonaws.com:/ xxx       xxx  xxx       1%   /var/www/cerenavi
</code></pre>
<p><br></p>
<h2 id="03-02-&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#xFF5C;s3">03-02. &#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#xFF5C;S3</h2>
<h3 id="s3&#xFF1A;simple-storage-service">S3&#xFF1A;Simple Storage Service</h3>
<h4 id="&#x30FB;s3&#x3068;&#x306F;">&#x30FB;S3&#x3068;&#x306F;</h4>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x5916;&#x4ED8;&#x3051;&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;Amazon S3&#x306B;&#x4FDD;&#x5B58;&#x3059;&#x308B;CSS&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3084;&#x753B;&#x50CF;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x7BA1;&#x7406;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30D0;&#x30B1;&#x30C3;&#x30C8;</td>
<td>&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x306B;&#x95A2;&#x3057;&#x3066;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30D0;&#x30C3;&#x30C1;&#x30AA;&#x30DA;&#x30EC;&#x30FC;&#x30B7;&#x30E7;&#x30F3;</td>
<td></td>
</tr>
<tr>
<td>&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30A2;&#x30CA;&#x30E9;&#x30A4;&#x30B6;&#x30FC;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30D7;&#x30ED;&#x30D1;&#x30C6;&#x30A3;&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;">&#x30FB;&#x30D7;&#x30ED;&#x30D1;&#x30C6;&#x30A3;&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30CB;&#x30F3;&#x30B0;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30B5;&#x30FC;&#x30D0;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x306E;&#x30ED;&#x30B0;&#x8A18;&#x9332;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x9759;&#x7684;&#x30B5;&#x30A4;&#x30C8;&#x30DB;&#x30B9;&#x30C6;&#x30A3;&#x30F3;&#x30B0;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x30EC;&#x30D9;&#x30EB;&#x306E;&#x30ED;&#x30B0;&#x8A18;&#x9332;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x6697;&#x53F7;&#x5316;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x306E;&#x30ED;&#x30C3;&#x30AF;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Transfer acceleration</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30A4;&#x30D9;&#x30F3;&#x30C8;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30BF;&#x652F;&#x6255;&#x3044;</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x5916;&#x90E8;&#xFF0F;&#x5185;&#x90E8;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x304B;&#x3089;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x5236;&#x9650;&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;">&#x30FB;&#x5916;&#x90E8;&#xFF0F;&#x5185;&#x90E8;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x304B;&#x3089;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x5236;&#x9650;&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30D6;&#x30ED;&#x30C3;&#x30AF;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30A2;&#x30AF;&#x30BB;&#x30B9;</td>
<td>&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x3068;VPC&#x304B;&#x3089;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x306E;&#x8A31;&#x5426;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x6709;&#x52B9;&#x306B;&#x3059;&#x308B;&#x3068;&#xFF0C;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x304B;&#x3089;&#x300C;<code>https://&lt;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x540D;&gt;.s3.amazonaws.com</code>&#x300D;&#x3068;&#x3044;&#x3046;&#x3088;&#x3046;&#x306B;URL&#x3092;&#x6307;&#x5B9A;&#x3057;&#x3066;&#xFF0C;S3&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#xFF0E;&#x305F;&#x3060;&#x3057;&#x975E;&#x63A8;&#x5968;&#xFF0E;<br>&#x30FB;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x5168;&#x3066;&#x7121;&#x52B9;&#x306B;&#x3059;&#x308B;&#x3068;&#xFF0C;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x3068;VPC&#x306E;&#x5168;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x906E;&#x65AD;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x305F;&#x3060;&#x3057;&#xFF0C;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30FC;&#x30EB;&#x307E;&#x305F;&#x306F;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x7528;&#x3044;&#x3066;&#xFF0C;&#x7279;&#x5B9A;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x304B;&#x3089;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x8A31;&#x53EF;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30B3;&#x30F3;&#x30C8;&#x30ED;&#x30FC;&#x30EB;&#x30EA;&#x30B9;&#x30C8;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</td>
<td>S3&#x3078;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3067;&#x7BA1;&#x7406;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF0C;CloudFront&#xFF0C;ALB&#xFF0C;&#x306A;&#x3069;&#x304C;&#x81EA;&#x8EAB;&#x3078;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x3092;&#x751F;&#x6210;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#x5FC5;&#x8981;&#xFF0E;EC2&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x6A29;&#x9650;&#x306F;&#xFF0C;EC2&#x306B;S3&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x4ED8;&#x4E0E;&#x3067;&#x304D;&#x308B;&#x306E;&#x3067;&#x4E0D;&#x8981;&#xFF0E;</td>
</tr>
<tr>
<td>CORS&#x306E;&#x8A2D;&#x5B9A;</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;aws-cli">&#x30FB;AWS-CLI</h4>
<p><strong>&#xFF0A;&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x4F8B;&#xFF0A;</strong></p>
<pre><code class="lang-bash"><span class="hljs-comment"># &#x6307;&#x5B9A;&#x3057;&#x305F;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x5185;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x540D;&#x3092;&#x8868;&#x793A;</span>
$ aws s3 ls s3://&lt;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x540D;&gt;
</code></pre>
<p><br></p>
<h3 id="&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x4F8B;">&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x4F8B;</h3>
<h4 id="&#x30FB;s3&#x306E;arn&#x306B;&#x3064;&#x3044;&#x3066;">&#x30FB;S3&#x306E;ARN&#x306B;&#x3064;&#x3044;&#x3066;</h4>
<p>&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306B;&#x304A;&#x3044;&#x3066;&#xFF0C;S3&#x306E;AR&#x3067;&#x306F;&#xFF0C;&#x300C;<code>arn:aws:s3:::&lt;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x540D;&gt;/*</code>&#x300D;&#x306E;&#x3088;&#x3046;&#x306B;&#xFF0C;&#x6700;&#x5F8C;&#x306B;&#x30D0;&#x30C3;&#x30AF;&#x30B9;&#x30E9;&#x30C3;&#x30B7;&#x30E5;&#x30A2;&#x30B9;&#x30BF;&#x30EA;&#x30B9;&#x30AF;&#x304C;&#x5FC5;&#x8981;&#xFF0E;</p>
<h4 id="&#x30FB;alb&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x306E;&#x4FDD;&#x5B58;&#x3092;&#x8A31;&#x53EF;">&#x30FB;ALB&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x306E;&#x4FDD;&#x5B58;&#x3092;&#x8A31;&#x53EF;</h4>
<p>&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x304C;&#x7121;&#x52B9;&#x5316;&#x3055;&#x308C;&#x305F;S3&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;ALB&#x3078;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x3092;&#x4FDD;&#x5B58;&#x3057;&#x305F;&#x3044;&#x5834;&#x5408;&#xFF0C;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306B;&#x306F;&#xFF0C;ALB&#x304B;&#x3089;S3&#x3078;&#x306E;&#x30ED;&#x30B0;&#x66F8;&#x304D;&#x8FBC;&#x307F;&#x6A29;&#x9650;&#x3092;&#x5B9F;&#x88C5;&#x3059;&#x308B;&#xFF0E;&#x300C;<code>&quot;AWS&quot;: &quot;arn:aws:iam::582318560864:root&quot;</code>&#x300D;&#x306B;&#x304A;&#x3044;&#x3066;&#xFF0C;<code>582318560864</code>&#x306F;&#xFF0C;ALB&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&#x3068;&#x547C;&#x3070;&#x308C;&#xFF0C;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x3054;&#x3068;&#x306B;&#x5024;&#x304C;&#x6C7A;&#x307E;&#x3063;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x3053;&#x308C;&#x306F;&#xFF0C;&#x6771;&#x4EAC;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306E;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&#x3067;&#x3042;&#x308B;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;Version&quot;</span>: <span class="hljs-string">&quot;2012-10-17&quot;</span>,
  <span class="hljs-string">&quot;Statement&quot;</span>: [
    {
      <span class="hljs-string">&quot;Effect&quot;</span>: <span class="hljs-string">&quot;Allow&quot;</span>,
      <span class="hljs-string">&quot;Principal&quot;</span>: {
        <span class="hljs-string">&quot;AWS&quot;</span>: <span class="hljs-string">&quot;arn:aws:iam::582318560864:root&quot;</span>
      },
      <span class="hljs-string">&quot;Action&quot;</span>: <span class="hljs-string">&quot;s3:PutObject&quot;</span>,
      <span class="hljs-string">&quot;Resource&quot;</span>: <span class="hljs-string">&quot;arn:aws:s3:::&lt;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x540D;&gt;/*&quot;</span>
    }
  ]
}
</code></pre>
<h4 id="&#x30FB;cloudfront&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x8AAD;&#x307F;&#x51FA;&#x3057;&#x3092;&#x8A31;&#x53EF;">&#x30FB;CloudFront&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x8AAD;&#x307F;&#x51FA;&#x3057;&#x3092;&#x8A31;&#x53EF;</h4>
<p>&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x304C;&#x7121;&#x52B9;&#x5316;&#x3055;&#x308C;&#x305F;S3&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;CloudFront&#x304B;&#x3089;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3067;&#x9759;&#x7684;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x8AAD;&#x307F;&#x51FA;&#x3057;&#x305F;&#x3044;&#x5834;&#x5408;&#xFF0C;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;Version&quot;</span>: <span class="hljs-string">&quot;2008-10-17&quot;</span>,
  <span class="hljs-string">&quot;Id&quot;</span>: <span class="hljs-string">&quot;PolicyForCloudFrontPrivateContent&quot;</span>,
  <span class="hljs-string">&quot;Statement&quot;</span>: [
    {
      <span class="hljs-string">&quot;Sid&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,
      <span class="hljs-string">&quot;Effect&quot;</span>: <span class="hljs-string">&quot;Allow&quot;</span>,
      <span class="hljs-string">&quot;Principal&quot;</span>: {
        <span class="hljs-string">&quot;AWS&quot;</span>: <span class="hljs-string">&quot;arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity &lt;OAI&#x306E;ID&#x756A;&#x53F7;&gt;&quot;</span>
      },
      <span class="hljs-string">&quot;Action&quot;</span>: <span class="hljs-string">&quot;s3:GetObject&quot;</span>,
      <span class="hljs-string">&quot;Resource&quot;</span>: <span class="hljs-string">&quot;arn:aws:s3:::&lt;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x540D;&gt;/*&quot;</span>
    }
  ]
}
</code></pre>
<h4 id="&#x30FB;cloudfront&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x306E;&#x4FDD;&#x5B58;&#x3092;&#x8A31;&#x53EF;">&#x30FB;CloudFront&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x306E;&#x4FDD;&#x5B58;&#x3092;&#x8A31;&#x53EF;</h4>
<p>2020-10-08&#x6642;&#x70B9;&#x306E;&#x4ED5;&#x69D8;&#x3067;&#x306F;&#xFF0C;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x304C;&#x7121;&#x52B9;&#x5316;&#x3055;&#x308C;&#x305F;S3&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;CloudFront&#x3078;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x3092;&#x4FDD;&#x5B58;&#x3059;&#x308B;&#x3053;&#x3068;&#x306F;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF0E;&#x3088;&#x3063;&#x3066;&#xFF0C;&#x5371;&#x967A;&#x3067;&#x306F;&#x3042;&#x308B;&#x304C;&#xFF0C;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x6709;&#x52B9;&#x5316;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<pre><code class="lang-json"><span class="hljs-comment">// &#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306F;&#x4E0D;&#x8981;</span>
</code></pre>
<h4 id="&#x30FB;lambda&#x304B;&#x3089;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x8A31;&#x53EF;">&#x30FB;Lambda&#x304B;&#x3089;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x8A31;&#x53EF;</h4>
<p>&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306F;&#x4E0D;&#x8981;&#x3067;&#x3042;&#x308B;&#xFF0E;&#x4EE3;&#x308F;&#x308A;&#x306B;&#xFF0C;AWS&#x7BA1;&#x7406;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x300C;<code>AWSLambdaExecute</code>&#x300D;&#x304C;&#x4ED8;&#x4E0E;&#x3055;&#x308C;&#x305F;&#x30ED;&#x30FC;&#x30EB;&#x3092;Lambda&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;&#x3053;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306B;&#x306F;&#xFF0C;S3&#x3078;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x6A29;&#x9650;&#x306E;&#x4ED6;&#xFF0C;CloudWatch Logs&#x306B;&#x30ED;&#x30B0;&#x3092;&#x751F;&#x6210;&#x3059;&#x308B;&#x305F;&#x3081;&#x306E;&#x6A29;&#x9650;&#x304C;&#x8A2D;&#x5B9A;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;Version&quot;</span>: <span class="hljs-string">&quot;2012-10-17&quot;</span>,
  <span class="hljs-string">&quot;Statement&quot;</span>: [
    {
      <span class="hljs-string">&quot;Effect&quot;</span>: <span class="hljs-string">&quot;Allow&quot;</span>,
      <span class="hljs-string">&quot;Action&quot;</span>: [
        <span class="hljs-string">&quot;logs:*&quot;</span>
      ],
      <span class="hljs-string">&quot;Resource&quot;</span>: <span class="hljs-string">&quot;arn:aws:logs:*:*:*&quot;</span>
    },
    {
      <span class="hljs-string">&quot;Effect&quot;</span>: <span class="hljs-string">&quot;Allow&quot;</span>,
      <span class="hljs-string">&quot;Action&quot;</span>: [
        <span class="hljs-string">&quot;s3:GetObject&quot;</span>,
        <span class="hljs-string">&quot;s3:PutObject&quot;</span>
      ],
      <span class="hljs-string">&quot;Resource&quot;</span>: <span class="hljs-string">&quot;arn:aws:s3:::*&quot;</span>
    }
  ]
}
</code></pre>
<h4 id="&#x30FB;&#x7279;&#x5B9A;&#x306E;ip&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304B;&#x3089;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x8A31;&#x53EF;">&#x30FB;&#x7279;&#x5B9A;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304B;&#x3089;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x8A31;&#x53EF;</h4>
<p>&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x4E0A;&#x306E;&#x7279;&#x5B9A;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304B;&#x3089;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x8A31;&#x53EF;&#x3057;&#x305F;&#x3044;&#x5834;&#x5408;&#xFF0C;&#x305D;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;Version&quot;</span>: <span class="hljs-string">&quot;2012-10-17&quot;</span>,
  <span class="hljs-string">&quot;Id&quot;</span>: <span class="hljs-string">&quot;S3PolicyId1&quot;</span>,
  <span class="hljs-string">&quot;Statement&quot;</span>: [
    {
      <span class="hljs-string">&quot;Sid&quot;</span>: <span class="hljs-string">&quot;IPAllow&quot;</span>,
      <span class="hljs-string">&quot;Effect&quot;</span>: <span class="hljs-string">&quot;Allow&quot;</span>,
      <span class="hljs-string">&quot;Principal&quot;</span>: <span class="hljs-string">&quot;*&quot;</span>,
      <span class="hljs-string">&quot;Action&quot;</span>: <span class="hljs-string">&quot;s3:GetObject&quot;</span>,
      <span class="hljs-string">&quot;Resource&quot;</span>: <span class="hljs-string">&quot;arn:aws:s3:::&lt;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x540D;&gt;/*&quot;</span>,
      <span class="hljs-string">&quot;Condition&quot;</span>: {
        <span class="hljs-string">&quot;IpAddress&quot;</span>: {
          <span class="hljs-string">&quot;aws:SourceIp&quot;</span>: <span class="hljs-string">&quot;&lt;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&gt;/32&quot;</span>
        }
      }
    }
  ]
}
</code></pre>
<p><br></p>
<h3 id="cors&#x8A2D;&#x5B9A;">CORS&#x8A2D;&#x5B9A;</h3>
<h4 id="&#x30FB;&#x6307;&#x5B9A;&#x3057;&#x305F;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x304B;&#x3089;&#x306E;get&#x9001;&#x4FE1;&#x3092;&#x8A31;&#x53EF;">&#x30FB;&#x6307;&#x5B9A;&#x3057;&#x305F;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x304B;&#x3089;&#x306E;GET&#x9001;&#x4FE1;&#x3092;&#x8A31;&#x53EF;</h4>
<pre><code class="lang-json">[
  {
    <span class="hljs-string">&quot;AllowedHeaders&quot;</span>: [
      <span class="hljs-string">&quot;Content-*&quot;</span>
    ],
    <span class="hljs-string">&quot;AllowedMethods&quot;</span>: [
      <span class="hljs-string">&quot;GET&quot;</span>
    ],
    <span class="hljs-string">&quot;AllowedOrigins&quot;</span>: [
      <span class="hljs-string">&quot;https://example.jp&quot;</span>
    ],
    <span class="hljs-string">&quot;ExposeHeaders&quot;</span>: [],
    <span class="hljs-string">&quot;MaxAgeSeconds&quot;</span>: <span class="hljs-number">3600</span>
  }
]
</code></pre>
<p><br></p>
<h2 id="04-&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#xFF5C;rds">04. &#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#xFF5C;RDS</h2>
<h3 id="amazon-rds&#xFF1A;amazon-relational-database-service">Amazon RDS&#xFF1A;Amazon Relational Database Service</h3>
<h4 id="&#x30FB;amazon-rds&#x3068;&#x306F;">&#x30FB;Amazon RDS&#x3068;&#x306F;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30A8;&#x30F3;&#x30B8;&#x30F3;&#x306E;&#x30AA;&#x30D7;&#x30B7;&#x30E7;&#x30F3;</td>
<td>&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x30A8;&#x30F3;&#x30B8;&#x30F3;&#x306E;&#x7A2E;&#x985E;&#x3092;&#x8A2D;&#x5B9A;</td>
<td></td>
</tr>
<tr>
<td>&#x30A8;&#x30C7;&#x30A3;&#x30B7;&#x30E7;&#x30F3;</td>
<td>Amazon Aurora&#x3092;&#x9078;&#x3093;&#x3060;&#x5834;&#x5408;&#x306E;&#x4E92;&#x63DB;&#x6027;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30AD;&#x30E3;&#x30D1;&#x30B7;&#x30C6;&#x30A3;&#x30BF;&#x30A4;&#x30D7;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30EC;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x6A5F;&#x80FD;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>DB&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x8B58;&#x5225;&#x5B50;</td>
<td>&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x540D;&#x306F;&#xFF0C;&#x6700;&#x521D;&#x306B;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x305A;&#xFF0C;RDS&#x306E;&#x69CB;&#x7BC9;&#x5F8C;&#x306B;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30DE;&#x30B9;&#x30BF;&#x30E6;&#x30FC;&#x30B6;&#x540D;</td>
<td>&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x306E;root&#x30E6;&#x30FC;&#x30B6;&#x3092;&#x8A2D;&#x5B9A;</td>
<td></td>
</tr>
<tr>
<td>&#x30DE;&#x30B9;&#x30BF;&#x30FC;&#x30D1;&#x30B9;&#x30EF;&#x30FC;&#x30C9;</td>
<td>&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x306E;root&#x30E6;&#x30FC;&#x30B6;&#x306E;&#x30D1;&#x30B9;&#x30EF;&#x30FC;&#x30C9;&#x3092;&#x8A2D;&#x5B9A;</td>
<td></td>
</tr>
<tr>
<td>DB&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x30B5;&#x30A4;&#x30BA;</td>
<td>&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306E;&#x30B9;&#x30DA;&#x30C3;&#x30AF;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30D0;&#x30FC;&#x30B9;&#x30C8;&#x53EF;&#x80FD;&#x30AF;&#x30E9;&#x30B9;&#x3092;&#x9078;&#x3076;&#x3053;&#x3068;&#xFF0E;&#x3061;&#x306A;&#x307F;&#x306B;&#xFF0C;Amazon Aurora&#x306E;&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x5BB9;&#x91CF;&#x306F;&#x81EA;&#x52D5;&#x3067;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x3059;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30DE;&#x30EB;&#x30C1;AZ&#x914D;&#x7F6E;</td>
<td>&#x30D7;&#x30E9;&#x30A4;&#x30DE;&#x30EA;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3068;&#x306F;&#x5225;&#x306B;&#xFF0C;&#x30EA;&#x30FC;&#x30C0;&#x30FC;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x3092;&#x30DE;&#x30EB;&#x30C1;AZ&#x914D;&#x7F6E;&#x3067;&#x8FFD;&#x52A0;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x6700;&#x521D;&#x306E;&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x540D;</td>
<td>&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x306B;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x69CB;&#x7BC9;&#x3055;&#x308C;&#x308B;&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x540D;&#x3092;&#x8A2D;&#x5B9A;</td>
<td></td>
</tr>
<tr>
<td>&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</td>
<td>&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3067;&#x304D;&#x308B;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</td>
<td>&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x3092;&#x4F7F;&#x7528;&#x305B;&#x305A;&#x306B;&#x72EC;&#x81EA;&#x5B9A;&#x7FA9;&#x3059;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x4E8B;&#x524D;&#x306B;&#x69CB;&#x7BC9;&#x3057;&#x3066;&#x304A;&#x304F;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3068;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x304C;&#x3042;&#x308B;&#x304C;&#xFF0C;&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308C;&#x3070;&#x3088;&#x3044;&#xFF0E;&#x65B0;&#x3057;&#x304F;&#x4F5C;&#x6210;&#x3057;&#x305F;&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x3066;&#x4EE5;&#x4E0B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;<br>&#x30FB;<code>time_zone=Asia/Tokyo</code><br>&#x30FB;<code>character_set_client=utf8mb4</code><br>&#x30FB;<code>character_set_connection=utf8mb4</code><br>&#x30FB;<code>character_set_database=utf8mb4</code><br>&#x30FB;<code>character_set_results=utf8mb4</code><br>&#x30FB;<code>character_set_server=utf8mb4</code><br>&#x30FB;<code>server_audit_logging=1</code><br>&#x30FB;<code>server_audit_logs_upload=1</code><br>&#x30FB;<code>general_log=1</code><br>&#x30FB;<code>slow_query_log=1</code><br>&#x30FB;<code>long_query_time=3</code></td>
</tr>
<tr>
<td>&#x30ED;&#x30B0;&#x306E;&#x30A8;&#x30AF;&#x30B9;&#x30DD;&#x30FC;&#x30C8;</td>
<td></td>
<td>&#x5FC5;&#x305A;&#xFF0C;&#x5168;&#x3066;&#x306E;&#x30ED;&#x30B0;&#x3092;&#x9078;&#x629E;&#x3059;&#x308B;&#x3053;&#x3068;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30D0;&#x30C3;&#x30AF;&#x30A2;&#x30C3;&#x30D7;&#x4FDD;&#x6301;&#x671F;&#x9593;</td>
<td>RDS&#x304C;&#x30D0;&#x30C3;&#x30AF;&#x30A2;&#x30C3;&#x30D7;&#x3092;&#x4FDD;&#x6301;&#x3059;&#x308B;&#x671F;&#x9593;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#xFF17;&#x65E5;&#x9593;&#x306B;&#x3057;&#x3066;&#x304A;&#x304F;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30DE;&#x30A4;&#x30CA;&#x30FC;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306E;&#x81EA;&#x52D5;&#x30A2;&#x30C3;&#x30D7;&#x30B0;&#x30EC;&#x30FC;&#x30C9;</td>
<td>&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x30A8;&#x30F3;&#x30B8;&#x30F3;&#x306E;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x3092;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x66F4;&#x65B0;&#x3059;&#x308B;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x958B;&#x767A;&#x74B0;&#x5883;&#x3067;&#x306F;&#x6709;&#x52B9;&#x5316;&#xFF0C;&#x672C;&#x756A;&#x74B0;&#x5883;&#x3068;&#x30B9;&#x30C6;&#x30FC;&#x30B8;&#x30F3;&#x30B0;&#x74B0;&#x5883;&#x3067;&#x306F;&#x7121;&#x52B9;&#x5316;&#x3057;&#x3066;&#x304A;&#x304F;&#xFF0E;&#x958B;&#x767A;&#x74B0;&#x5883;&#x3067;&#x65B0;&#x3057;&#x3044;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306B;&#x554F;&#x984C;&#x304C;&#x306A;&#x3051;&#x308C;&#x3070;&#xFF0C;&#x30B9;&#x30C6;&#x30FC;&#x30B8;&#x30F3;&#x30B0;&#x74B0;&#x5883;&#x3068;&#x672C;&#x756A;&#x74B0;&#x5883;&#x306B;&#x3082;&#x9069;&#x7528;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x30A8;&#x30F3;&#x30B8;&#x30F3;&#xFF0C;rdb&#xFF0C;dbms&#x306E;&#x5BFE;&#x5FDC;&#x95A2;&#x4FC2;">&#x30FB;&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x30A8;&#x30F3;&#x30B8;&#x30F3;&#xFF0C;RDB&#xFF0C;DBMS&#x306E;&#x5BFE;&#x5FDC;&#x95A2;&#x4FC2;</h4>
<p>Amazon RDS&#x3067;&#x306F;&#xFF0C;DBMS&#xFF0C;RDB&#x3092;&#x9078;&#x3079;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>DBMS&#x306E;&#x7A2E;&#x985E;</th>
<th>RDB&#x306E;&#x7A2E;&#x985E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>MySQL&#xFF0F;PostgreSQL</td>
<td>Amazon Aurora</td>
</tr>
<tr>
<td>MariaDB</td>
<td>MariaDB&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;</td>
</tr>
<tr>
<td>MySQL</td>
<td>MySQL&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;</td>
</tr>
<tr>
<td>PostgreSQL</td>
<td>PostgreSQL&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;amazon-rds&#x306E;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;">&#x30FB;Amazon RDS&#x306E;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</h4>
<p>&#x30B3;&#x30F3;&#x30D4;&#x30E5;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x304B;&#x3089;&#x306E;&#x30A4;&#x30F3;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x306E;&#x307F;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#xFF0C;&#x3053;&#x308C;&#x3089;&#x306E;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#xFF08;<code>n.n.n.n/32</code>&#xFF09;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</p>
<p><br></p>
<h3 id="&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;">&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;</h3>
<h4 id="&#x30FB;&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306E;&#x7A2E;&#x985E;">&#x30FB;&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306E;&#x7A2E;&#x985E;</h4>
<table>
<thead>
<tr>
<th></th>
<th>&#x8AAD;&#x307F;&#x51FA;&#x3057;&#xFF0F;&#x66F8;&#x304D;&#x8FBC;&#x307F;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;</th>
<th>&#x8AAD;&#x307F;&#x51FA;&#x3057;&#x30AA;&#x30F3;&#x30EA;&#x30FC;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x5225;&#x540D;</td>
<td>&#x30D7;&#x30E9;&#x30A4;&#x30DE;&#x30EA;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;</td>
<td>&#x30EA;&#x30FC;&#x30C9;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;</td>
</tr>
<tr>
<td>CRUD&#x5236;&#x9650;</td>
<td>&#x5236;&#x9650;&#x306A;&#x3057;&#xFF0E;&#x30E6;&#x30FC;&#x30B6;&#x6A29;&#x9650;&#x306B;&#x4F9D;&#x5B58;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30E6;&#x30FC;&#x30B6;&#x6A29;&#x9650;&#x306E;&#x6A29;&#x9650;&#x306B;&#x95A2;&#x4FC2;&#x306A;&#x304F;&#xFF0C;READ&#x3057;&#x304B;&#x5B9F;&#x884C;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;</td>
<td>&#x5404;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306B;&#xFF0C;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306E;&#x30A4;&#x30CB;&#x30B7;&#x30E3;&#x30EB;&#x306B;&#x5408;&#x308F;&#x305B;&#x305F;&#x30A8;&#x30F3;&#x30C2;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x304C;&#x5272;&#x308A;&#x632F;&#x3089;&#x308C;&#x308B;&#xFF0E;</td>
<td>&#x5404;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306B;&#xFF0C;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306E;&#x30A4;&#x30CB;&#x30B7;&#x30E3;&#x30EB;&#x306B;&#x5408;&#x308F;&#x305B;&#x305F;&#x30A8;&#x30F3;&#x30C2;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x304C;&#x5272;&#x308A;&#x632F;&#x3089;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x306E;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;">&#x30FB;&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x306E;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;</h4>
<table>
<thead>
<tr>
<th>&#x7A2E;&#x985E;</th>
<th>&#x30AF;&#x30A8;&#x30EA;&#x306E;&#x7A2E;&#x985E;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;</td>
<td>&#x66F8;&#x304D;&#x8FBC;&#x307F;&#xFF0F;&#x8AAD;&#x307F;&#x51FA;&#x3057;</td>
<td>&#x30D7;&#x30E9;&#x30A4;&#x30DE;&#x30EA;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306B;&#x63A5;&#x7D9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x8AAD;&#x307F;&#x51FA;&#x3057;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;</td>
<td>&#x8AAD;&#x307F;&#x51FA;&#x3057;</td>
<td>&#x30EA;&#x30FC;&#x30C9;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306B;&#x63A5;&#x7D9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;</td>
<td></td>
<td>&#x9078;&#x629E;&#x3057;&#x305F;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306B;&#x63A5;&#x7D9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/RDS&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;.png" alt="RDS&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;"></p>
<p>&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x7FA4;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;&#x4EE5;&#x4E0B;&#x306E;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x304C;&#x63D0;&#x4F9B;&#x3055;&#x308C;&#x308B;&#xFF0E;</p>
<pre><code># &#x8AAD;&#x307F;&#x51FA;&#x3057;&#xFF0F;&#x66F8;&#x304D;&#x8FBC;&#x307F;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x7FA4;&#x306E;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;
xxxxx-cluster.cluster-abcde12345.ap-northeast-1.rds.amazonaws.com
</code></pre><pre><code># &#x8AAD;&#x307F;&#x51FA;&#x3057;&#x30AA;&#x30F3;&#x30EA;&#x30FC;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x7FA4;&#x306E;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;
xxxxx-cluster.cluster-ro-abcde12345.ap-northeast-1.rds.amazonaws.com
</code></pre><p>&#x8AAD;&#x307F;&#x51FA;&#x3057;&#x30AA;&#x30F3;&#x30EA;&#x30FC;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;READ&#x4EE5;&#x5916;&#x306E;&#x51E6;&#x7406;&#x3092;&#x884C;&#x3046;&#x3068;&#xFF0C;&#x4EE5;&#x4E0B;&#x306E;&#x901A;&#x308A;&#xFF0C;&#x30A8;&#x30E9;&#x30FC;&#x3068;&#x306A;&#x308B;&#xFF0E;</p>
<pre><code class="lang-sql"><span class="hljs-comment">/* SQL Error (1290): The MySQL server is running with the --read-only option so it cannot execute this statement */</span>
</code></pre>
<p><br></p>
<h2 id="04-&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#xFF5C;elasticache">04. &#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#xFF5C;ElastiCache</h2>
<h3 id="elasticache">ElastiCache</h3>
<h4 id="&#x30FB;elasticache&#x3068;&#x306F;">&#x30FB;ElastiCache&#x3068;&#x306F;</h4>
<p>&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x4EE3;&#x308F;&#x308A;&#x306B;&#xFF0C;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#xFF0C;&#x30AF;&#x30A8;&#x30EA;Cache&#xFF0C;&#x3092;&#x7BA1;&#x7406;&#x3059;&#x308B;&#xFF0E;Redis&#x3068;Memcached&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;redis&#x3068;&#x306F;">&#x30FB;Redis&#x3068;&#x306F;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/Redis.png" alt="Redis"></p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x30A8;&#x30F3;&#x30B8;&#x30F3;</td>
<td>&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x30A8;&#x30F3;&#x30B8;&#x30F3;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;Redis&#x901A;&#x5E38;&#x30E2;&#x30FC;&#x30C9;&#xFF0C;Redis&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x30E2;&#x30FC;&#x30C9;&#x304B;&#x3089;&#x9078;&#x629E;&#x3059;&#x308B;&#xFF0E;</td>
<td>Redis&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x30E2;&#x30FC;&#x30C9;&#x3068;&#x540C;&#x69D8;&#x306B;&#xFF0C;Redis&#x901A;&#x5E38;&#x30E2;&#x30FC;&#x30C9;&#x3082;&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x69CB;&#x6210;&#x306B;&#x306A;&#x308B;&#xFF0E;&#x305F;&#x3060;&#xFF0C;&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x30E2;&#x30FC;&#x30C9;&#x3068;&#x306F;&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x306E;&#x69CB;&#x6210;&#x65B9;&#x6CD5;&#x304C;&#x7570;&#x306A;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30A8;&#x30F3;&#x30B8;&#x30F3;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306E;&#x4E92;&#x63DB;&#x6027;</td>
<td>&#x9078;&#x3093;&#x3060;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x30A8;&#x30F3;&#x30B8;&#x30F3;&#x306E;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30DE;&#x30A4;&#x30CA;&#x30FC;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x304C;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x66F4;&#x65B0;&#x3055;&#x308C;&#x306A;&#x3044;&#x3088;&#x3046;&#x306B;&#xFF0C;&#x4F8B;&#x3048;&#x3070;&#x300C;6.x&#x300D;&#x306F;&#x8A2D;&#x5B9A;&#x3057;&#x306A;&#x3044;&#x65B9;&#x304C;&#x3088;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</td>
<td>&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x3092;&#x4F7F;&#x7528;&#x305B;&#x305A;&#x306B;&#x72EC;&#x81EA;&#x5B9A;&#x7FA9;&#x3059;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x4E8B;&#x524D;&#x306B;&#x69CB;&#x7BC9;&#x3057;&#x3066;&#x304A;&#x304F;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30CE;&#x30FC;&#x30C9;&#x306E;&#x30BF;&#x30A4;&#x30D7;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30EC;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x6570;</td>
<td>&#x30D7;&#x30E9;&#x30A4;&#x30DE;&#x30EA;&#x30CE;&#x30FC;&#x30C9;&#x3068;&#x306F;&#x5225;&#x306B;&#xFF0C;&#x30EA;&#x30FC;&#x30C9;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x30CE;&#x30FC;&#x30C9;&#x3092;&#x3044;&#x304F;&#x3064;&#x69CB;&#x7BC9;&#x3059;&#x308B;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30DE;&#x30EB;&#x30C1;AZ&#x306B;&#x30D7;&#x30E9;&#x30A4;&#x30DE;&#x30EA;&#x30CE;&#x30FC;&#x30C9;&#x3068;&#x30EA;&#x30FC;&#x30C9;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x30CE;&#x30FC;&#x30C9;&#x3092;&#x4E00;&#x3064;&#x305A;&#x3064;&#x914D;&#x7F6E;&#x3055;&#x305B;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x3053;&#x3053;&#x3067;&#x306F;&#x300C;&#xFF11;&#x500B;&#x300D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30DE;&#x30EB;&#x30C1;AZ</td>
<td>&#x30D7;&#x30E9;&#x30A4;&#x30DE;&#x30EA;&#x30CE;&#x30FC;&#x30C9;&#x3068;&#x30EA;&#x30FC;&#x30C9;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x3092;&#x7570;&#x306A;&#x308B;AZ&#x306B;&#x914D;&#x7F6E;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;&#x5408;&#x308F;&#x305B;&#x3066;&#xFF0C;&#x81EA;&#x52D5;&#x30D5;&#x30A7;&#x30FC;&#x30EB;&#x30AA;&#x30FC;&#x30D0;&#x30FC;&#x3092;&#x5B9F;&#x884C;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</td>
<td>Redis&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3067;&#x304D;&#x308B;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;</td>
<td>&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x3078;&#x306E;&#x30C7;&#x30FC;&#x30BF;&#x306E;&#x30A4;&#x30F3;&#x30DD;&#x30FC;&#x30C8;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30D0;&#x30C3;&#x30AF;&#x30A2;&#x30C3;&#x30D7;</td>
<td>&#x30D0;&#x30C3;&#x30AF;&#x30A2;&#x30C3;&#x30D7;&#x306E;&#x6709;&#x52B9;&#x5316;&#xFF0C;&#x4FDD;&#x6301;&#x671F;&#x9593;&#xFF0C;&#x6642;&#x9593;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30D0;&#x30C3;&#x30AF;&#x30A2;&#x30C3;&#x30D7;&#x3092;&#x53D6;&#x308B;&#x307B;&#x3069;&#x3067;&#x3082;&#x306A;&#x3044;&#x305F;&#x3081;&#xFF0C;&#x7121;&#x52B9;&#x5316;&#x3057;&#x3066;&#x304A;&#x3044;&#x3066;&#x554F;&#x984C;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30E1;&#x30F3;&#x30C6;&#x30CA;&#x30F3;&#x30B9;</td>
<td>&#x30E1;&#x30F3;&#x30C6;&#x30CA;&#x30F3;&#x30B9;&#x306E;&#x6642;&#x9593;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30D5;&#x30A7;&#x30FC;&#x30EB;&#x30AA;&#x30FC;&#x30D0;&#x30FC;">&#x30FB;&#x30D5;&#x30A7;&#x30FC;&#x30EB;&#x30AA;&#x30FC;&#x30D0;&#x30FC;</h4>
<p>&#x30CE;&#x30FC;&#x30C9;&#x306E;&#x969C;&#x5BB3;&#x3092;&#x691C;&#x77E5;&#x3057;&#xFF0C;&#x969C;&#x5BB3;&#x304C;&#x767A;&#x751F;&#x3057;&#x305F;&#x30CE;&#x30FC;&#x30C9;&#x3092;&#x65B0;&#x3057;&#x3044;&#x3082;&#x306E;&#x306B;&#x7F6E;&#x304D;&#x63DB;&#x3048;&#x308B;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x969C;&#x5BB3;&#x306E;&#x767A;&#x751F;&#x3057;&#x305F;&#x30CE;&#x30FC;&#x30C9;</th>
<th>&#x6319;&#x52D5;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30D7;&#x30E9;&#x30A4;&#x30DE;&#x30EA;&#x30CE;&#x30FC;&#x30C9;</td>
<td>&#x30EA;&#x30FC;&#x30C9;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x306E;&#x4E00;&#x3064;&#x304C;&#x30D7;&#x30E9;&#x30A4;&#x30DE;&#x30EA;&#x30CE;&#x30FC;&#x30C9;&#x306B;&#x6607;&#x683C;&#x3057;&#xFF0C;&#x969C;&#x5BB3;&#x304C;&#x8D77;&#x304D;&#x305F;&#x30D7;&#x30E9;&#x30A4;&#x30DE;&#x30EA;&#x30CE;&#x30FC;&#x30C9;&#x3068;&#x7F6E;&#x304D;&#x63DB;&#x3048;&#x3089;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30EA;&#x30FC;&#x30C9;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x30CE;&#x30FC;&#x30C9;</td>
<td>&#x969C;&#x5BB3;&#x304C;&#x8D77;&#x304D;&#x305F;&#x30EA;&#x30FC;&#x30C9;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x30CE;&#x30FC;&#x30C9;&#x304C;&#xFF0C;&#x5225;&#x306E;&#x65B0;&#x3057;&#x3044;&#x3082;&#x306E;&#x306B;&#x7F6E;&#x304D;&#x63DB;&#x3048;&#x3089;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="redis">Redis</h3>
<h4 id="&#x30FB;&#x30B3;&#x30DE;&#x30F3;&#x30C9;">&#x30FB;&#x30B3;&#x30DE;&#x30F3;&#x30C9;</h4>
<pre><code class="lang-bash"><span class="hljs-comment"># Redis&#x63A5;&#x7D9A;&#x30B3;&#x30DE;&#x30F3;&#x30C9;</span>
$ /usr/<span class="hljs-built_in">local</span>/sbin/redis-stable/src/redis-cli -c -h &lt;Redis&#x306E;&#x30DB;&#x30B9;&#x30C8;&#x540D;&gt; -p 6379
</code></pre>
<pre><code class="lang-bash"><span class="hljs-comment"># Redis&#x63A5;&#x7D9A;&#x4E2D;&#x306E;&#x72B6;&#x614B;</span>
<span class="hljs-comment"># &#x5168;&#x3066;&#x306E;&#x30AD;&#x30FC;&#x3092;&#x8868;&#x793A;</span>
redis xxxxx:6379&gt; keys *
</code></pre>
<pre><code class="lang-bash"><span class="hljs-comment"># Redis&#x63A5;&#x7D9A;&#x4E2D;&#x306E;&#x72B6;&#x614B;</span>
<span class="hljs-comment"># &#x30AD;&#x30FC;&#x3092;&#x6307;&#x5B9A;&#x3057;&#x3066;&#xFF0C;&#x5BFE;&#x5FDC;&#x3059;&#x308B;&#x5024;&#x3092;&#x8868;&#x793A;</span>
redis xxxxx:6379&gt; <span class="hljs-built_in">type</span> &lt;&#x30AD;&#x30FC;&#x540D;&gt;
</code></pre>
<pre><code class="lang-bash"><span class="hljs-comment"># Redis&#x63A5;&#x7D9A;&#x4E2D;&#x306E;&#x72B6;&#x614B;</span>
<span class="hljs-comment"># Redis&#x304C;&#x53D7;&#x3051;&#x53D6;&#x3063;&#x305F;&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x3092;&#x30D5;&#x30A9;&#x30A2;&#x30B0;&#x30E9;&#x30A6;&#x30F3;&#x30C9;&#x3067;&#x8868;&#x793A;</span>
redis xxxxx:6379&gt; monitor
</code></pre>
<h4 id="&#x30FB;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x7BA1;&#x7406;&#x6A5F;&#x80FD;">&#x30FB;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x7BA1;&#x7406;&#x6A5F;&#x80FD;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/ElastiCache&#x306E;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x7BA1;&#x7406;&#x6A5F;&#x80FD;.png" alt="ElastiCache&#x306E;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x7BA1;&#x7406;&#x6A5F;&#x80FD;"></p>
<p>EC2&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306E;&#x5197;&#x9577;&#x5316;&#x6642;&#xFF0C;&#x3053;&#x308C;&#x3089;&#x306E;&#x9593;&#x3067;&#x5171;&#x901A;&#x306E;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x4F7F;&#x7528;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#xFF0C;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x7BA1;&#x7406;&#x3059;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30AF;&#x30A8;&#x30EA;cache&#x7BA1;&#x7406;&#x6A5F;&#x80FD;">&#x30FB;&#x30AF;&#x30A8;&#x30EA;Cache&#x7BA1;&#x7406;&#x6A5F;&#x80FD;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/ElastiCache&#x306E;&#x30AF;&#x30A8;&#x30EA;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x7BA1;&#x7406;&#x6A5F;&#x80FD;.png" alt="ElastiCache&#x306E;&#x30AF;&#x30A8;&#x30EA;Cache&#x7BA1;&#x7406;&#x6A5F;&#x80FD;"></p>
<ol>
<li>SQL&#x306E;&#x5B9F;&#x884C;&#x7D50;&#x679C;&#x3092;&#x7BA1;&#x7406;&#x3059;&#x308B;&#xFF0E;&#x6700;&#x521D;&#xFF0C;EC2&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x304B;&#x3089;RDS&#x306B;SQL&#x304C;&#x5B9F;&#x884C;&#x3055;&#x308C;&#x308B;&#x6642;&#xFF0C;SQL&#x306E;&#x5B9F;&#x884C;&#x7D50;&#x679C;&#x3092;&#x4FDD;&#x5B58;&#x3057;&#x3066;&#x304A;&#x304F;&#xFF0E;</li>
</ol>
<pre><code class="lang-mysql"># &#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x304C;SQL&#x3092;&#x5B9F;&#x884C;&#x3059;&#x308B;
SELECT * FROM users;
</code></pre>
<pre><code class="lang-bash"><span class="hljs-comment"># ElastiCache&#x306B;&#x306F;&#xFF0C;SQL&#x306E;&#x5B9F;&#x884C;&#x7D50;&#x679C;&#x304C;&#x307E;&#x3060;&#x4FDD;&#x5B58;&#x3055;&#x308C;&#x3066;&#x3044;&#x306A;&#x3044;</span>
*** no cache ***
{<span class="hljs-string">&quot;id&quot;</span>=&gt;<span class="hljs-string">&quot;1&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>=&gt;<span class="hljs-string">&quot;alice&quot;</span>}
{<span class="hljs-string">&quot;id&quot;</span>=&gt;<span class="hljs-string">&quot;2&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>=&gt;<span class="hljs-string">&quot;bob&quot;</span>}
{<span class="hljs-string">&quot;id&quot;</span>=&gt;<span class="hljs-string">&quot;3&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>=&gt;<span class="hljs-string">&quot;charles&quot;</span>}
{<span class="hljs-string">&quot;id&quot;</span>=&gt;<span class="hljs-string">&quot;4&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>=&gt;<span class="hljs-string">&quot;donny&quot;</span>}
{<span class="hljs-string">&quot;id&quot;</span>=&gt;<span class="hljs-string">&quot;5&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>=&gt;<span class="hljs-string">&quot;elie&quot;</span>}
{<span class="hljs-string">&quot;id&quot;</span>=&gt;<span class="hljs-string">&quot;6&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>=&gt;<span class="hljs-string">&quot;fabian&quot;</span>}
{<span class="hljs-string">&quot;id&quot;</span>=&gt;<span class="hljs-string">&quot;7&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>=&gt;<span class="hljs-string">&quot;gabriel&quot;</span>}
{<span class="hljs-string">&quot;id&quot;</span>=&gt;<span class="hljs-string">&quot;8&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>=&gt;<span class="hljs-string">&quot;harold&quot;</span>}
{<span class="hljs-string">&quot;id&quot;</span>=&gt;<span class="hljs-string">&quot;9&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>=&gt;<span class="hljs-string">&quot;Ignatius&quot;</span>}
{<span class="hljs-string">&quot;id&quot;</span>=&gt;<span class="hljs-string">&quot;10&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>=&gt;<span class="hljs-string">&quot;jonny&quot;</span>}
</code></pre>
<ol>
<li>&#x4EE5;&#x964D;&#xFF0C;&#x540C;&#x3058;SQL&#x304C;&#x5B9F;&#x884C;&#x3055;&#x308C;&#x305F;&#x6642;&#x306B;&#x306F;&#xFF0C;RDS&#x306E;&#x4EE3;&#x308F;&#x308A;&#x306B;&#x30C7;&#x30FC;&#x30BF;&#x3092;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;&#x6E21;&#x3059;&#xFF0E;</li>
</ol>
<pre><code class="lang-mysql"># &#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x304C;&#xFF11;&#x756A;&#x3068;&#x540C;&#x3058;SQL&#x3092;&#x5B9F;&#x884C;&#x3059;&#x308B;
SELECT * FROM users;
</code></pre>
<pre><code class="lang-bash"><span class="hljs-comment"># ElastiCache&#x306B;&#x306F;&#xFF0C;SQL&#x306E;&#x5B9F;&#x884C;&#x7D50;&#x679C;&#x304C;&#x65E2;&#x306B;&#x4FDD;&#x5B58;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;</span>
*** cache hit ***
{<span class="hljs-string">&quot;id&quot;</span>=&gt;<span class="hljs-string">&quot;1&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>=&gt;<span class="hljs-string">&quot;alice&quot;</span>}
{<span class="hljs-string">&quot;id&quot;</span>=&gt;<span class="hljs-string">&quot;2&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>=&gt;<span class="hljs-string">&quot;bob&quot;</span>}
{<span class="hljs-string">&quot;id&quot;</span>=&gt;<span class="hljs-string">&quot;3&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>=&gt;<span class="hljs-string">&quot;charles&quot;</span>}
{<span class="hljs-string">&quot;id&quot;</span>=&gt;<span class="hljs-string">&quot;4&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>=&gt;<span class="hljs-string">&quot;donny&quot;</span>}
{<span class="hljs-string">&quot;id&quot;</span>=&gt;<span class="hljs-string">&quot;5&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>=&gt;<span class="hljs-string">&quot;elie&quot;</span>}
{<span class="hljs-string">&quot;id&quot;</span>=&gt;<span class="hljs-string">&quot;6&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>=&gt;<span class="hljs-string">&quot;fabian&quot;</span>}
{<span class="hljs-string">&quot;id&quot;</span>=&gt;<span class="hljs-string">&quot;7&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>=&gt;<span class="hljs-string">&quot;gabriel&quot;</span>}
{<span class="hljs-string">&quot;id&quot;</span>=&gt;<span class="hljs-string">&quot;8&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>=&gt;<span class="hljs-string">&quot;harold&quot;</span>}
{<span class="hljs-string">&quot;id&quot;</span>=&gt;<span class="hljs-string">&quot;9&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>=&gt;<span class="hljs-string">&quot;Ignatius&quot;</span>}
{<span class="hljs-string">&quot;id&quot;</span>=&gt;<span class="hljs-string">&quot;10&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>=&gt;<span class="hljs-string">&quot;jonny&quot;</span>}
</code></pre>
<p><br></p>
<h2 id="05-&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AD;&#x30F3;&#x30B0;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x914D;&#x4FE1;&#xFF5C;api-gateway">05. &#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AD;&#x30F3;&#x30B0;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x914D;&#x4FE1;&#xFF5C;API Gateway</h2>
<h3 id="api-gateway">API Gateway</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/APIGateway&#x306E;&#x4ED5;&#x7D44;&#x307F;.png" alt="APIGateway&#x306E;&#x4ED5;&#x7D44;&#x307F;"></p>
<h4 id="&#x30FB;api-gateway&#x3068;&#x306F;">&#x30FB;API Gateway&#x3068;&#x306F;</h4>
<p>API Gateway&#x306F;&#xFF0C;&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#xFF0C;&#x7D71;&#x5408;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#xFF0C;&#x7D71;&#x5408;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#xFF0C;&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#xFF0C;&#x304B;&#x3089;&#x69CB;&#x6210;&#x3055;&#x308C;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;</td>
<td>&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#xFF0C;HTTP&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#xFF0C;&#x8EE2;&#x9001;&#x5148;&#xFF0C;&#x306A;&#x3069;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x4F5C;&#x6210;&#x3057;&#x305F;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x30D1;&#x30B9;&#x304C;&#xFF0C;APIGateway&#x306E;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x306B;&#x306A;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30B9;&#x30C6;&#x30FC;&#x30B8;</td>
<td>APIGateway&#x3092;&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x3059;&#x308B;&#x74B0;&#x5883;&#x3092;&#x5B9A;&#x7FA9;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30AA;&#x30FC;&#x30BD;&#x30E9;&#x30A4;&#x30B6;&#x30FC;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30B2;&#x30FC;&#x30C8;&#x30A6;&#x30A7;&#x30A4;&#x306E;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30E2;&#x30C7;&#x30EB;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30C9;&#x30AD;&#x30E5;&#x30E1;&#x30F3;&#x30C8;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30C0;&#x30C3;&#x30B7;&#x30E5;&#x30DC;&#x30FC;&#x30C9;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x305D;&#x306E;&#x4ED6;&#x306E;&#x8A2D;&#x5B9A;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x4F7F;&#x7528;&#x91CF;&#x30D7;&#x30E9;&#x30F3;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>API&#x30AD;&#x30FC;</td>
<td>API&#x30AD;&#x30FC;&#x306B;&#x3088;&#x308B;&#x8A8D;&#x53EF;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x8A3C;&#x660E;&#x66F8;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>CloudWatchLogs&#x306E;&#x8A2D;&#x5B9A;</td>
<td>APIGateway&#x304C;CloudWatchLogs&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#xFF0C;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x4E00;&#x3064;&#x306E;AWS&#x74B0;&#x5883;&#x306B;&#x3064;&#x304D;&#xFF0C;&#x4E00;&#x3064;&#x306E;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308C;&#x3070;&#x3088;&#x3044;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x30EA;&#x30BD;&#x30FC;&#x30B9;">&#x30EA;&#x30BD;&#x30FC;&#x30B9;</h3>
<h4 id="&#x30FB;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;">&#x30FB;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;</h4>
<table>
<thead>
<tr>
<th>&#x9806;&#x756A;</th>
<th>&#x51E6;&#x7406;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;</td>
<td>&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x304B;&#x3089;&#x9001;&#x4FE1;&#x3055;&#x308C;&#x305F;&#x30C7;&#x30FC;&#x30BF;&#x306E;&#x3046;&#x3061;&#xFF0C;&#x5B9F;&#x969B;&#x306B;&#x8EE2;&#x9001;&#x3059;&#x308B;&#x30C7;&#x30FC;&#x30BF;&#x306E;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30EA;&#x30F3;&#x30B0;&#x3092;&#x884C;&#x3046;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>&#x7D71;&#x5408;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;</td>
<td>&#x6307;&#x5B9A;&#x306E;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x8EE2;&#x9001;&#x3059;&#x308B;&#x30C7;&#x30FC;&#x30BF;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>&#x7D71;&#x5408;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;</td>
<td></td>
<td>&#x7D71;&#x5408;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3067;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;&#x3092;&#x4F7F;&#x7528;&#x3059;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x7D71;&#x5408;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3092;&#x4F7F;&#x7528;&#x3067;&#x304D;&#x306A;&#x304F;&#x306A;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>4</td>
<td>&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;</td>
<td>&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x304C;&#x6210;&#x529F;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x306B;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x30B9;&#x30C6;&#x30FC;&#x30BF;&#x30B9;&#x30B3;&#x30FC;&#x30C9;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;">&#x30FB;&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x8A8D;&#x53EF;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x691C;&#x8A3C;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>API&#x30AD;&#x30FC;&#x306E;&#x5FC5;&#x8981;&#x6027;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>URL&#x30AF;&#x30A8;&#x30EA;&#x6587;&#x5B57;&#x5217;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>HTTP&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x30D8;&#x30C3;&#x30C0;&#x30FC;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x672C;&#x6587;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>SDK&#x8A2D;&#x5B9A;</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x7D71;&#x5408;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;">&#x30FB;&#x7D71;&#x5408;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x7D71;&#x5408;&#x30BF;&#x30A4;&#x30D7;</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x8EE2;&#x9001;&#x5148;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>VPC&#x30EA;&#x30F3;&#x30AF;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;</td>
<td>HTTP&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30C7;&#x30FC;&#x30BF;&#x3092;AWS&#x5074;&#x304C;&#x7528;&#x610F;&#x3057;&#x305F;JSON&#x306B;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>Lambda&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;&#x306B;&#x3064;&#x3044;&#x3066;&#x306F;&#xFF0C;Lambda&#x306E;&#x8AAC;&#x660E;&#x3092;&#x53C2;&#x7167;&#x305B;&#x3088;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;URL</td>
<td>&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3067;&#x53D7;&#x4FE1;&#x3057;&#x305F;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x5148;URL&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x30BF;&#x30A4;&#x30E0;&#x30A2;&#x30A6;&#x30C8;&#x306E;&#x4F7F;&#x7528;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>URL&#x30D1;&#x30B9;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>URL&#x30AF;&#x30A8;&#x30EA;&#x6587;&#x5B57;&#x5217;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>HTTP&#x30D8;&#x30C3;&#x30C0;&#x30FC;</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30C6;&#x30B9;&#x30C8;">&#x30FB;&#x30C6;&#x30B9;&#x30C8;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8A2D;&#x5B9A;&#x4F8B;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30AF;&#x30A8;&#x30EA;&#x6587;&#x5B57;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30D8;&#x30C3;&#x30C0;&#x30FC;</td>
<td><code>X-API-Token:test</code></td>
<td>&#x6CE2;&#x62EC;&#x5F27;&#xFF0C;&#x30B9;&#x30DA;&#x30FC;&#x30B9;&#xFF0C;&#x30AF;&#x30AA;&#x30FC;&#x30C6;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306F;&#x4E0D;&#x8981;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x672C;&#x6587;</td>
<td>{test:&quot;test&quot;}</td>
<td>&#x6539;&#x884C;&#x30BF;&#x30B0;&#x3084;&#x30B9;&#x30DA;&#x30FC;&#x30B9;&#x304C;&#x5165;&#x308A;&#x8FBC;&#x307E;&#x306A;&#x3044;&#x3088;&#x3046;&#xFF0C;&#x6574;&#x5F62;&#x3057;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x30B9;&#x30C6;&#x30FC;&#x30B8;">&#x30B9;&#x30C6;&#x30FC;&#x30B8;</h3>
<h4 id="&#x30FB;&#x30B9;&#x30C6;&#x30FC;&#x30B8;&#x306E;&#x8A73;&#x7D30;&#x8A2D;&#x5B9A;">&#x30FB;&#x30B9;&#x30C6;&#x30FC;&#x30B8;&#x306E;&#x8A73;&#x7D30;&#x8A2D;&#x5B9A;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x305D;&#x306E;&#x4ED6;&#x306E;&#x8A2D;&#x5B9A;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30ED;&#x30B0;&#xFF0F;&#x30C8;&#x30EC;&#x30FC;&#x30B9;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30B9;&#x30C6;&#x30FC;&#x30B8;&#x5909;&#x6570;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>SDK&#x306E;&#x751F;&#x6210;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Canary</td>
<td></td>
</tr>
</tbody>
</table>
<p><br></p>
<h2 id="05-02-&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AD;&#x30F3;&#x30B0;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x914D;&#x4FE1;&#xFF5C;route53">05-02. &#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AD;&#x30F3;&#x30B0;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x914D;&#x4FE1;&#xFF5C;Route53</h2>
<h3 id="route53">Route53</h3>
<h4 id="&#x30FB;route53&#x3068;&#x306F;">&#x30FB;Route53&#x3068;&#x306F;</h4>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;DNS&#x30B5;&#x30FC;&#x30D0;&#x30FC;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3055;&#x308C;&#x305F;&#x5B8C;&#x5168;&#x4FEE;&#x98FE;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3068;EC2&#x306E;&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x3057;&#x3066;&#x3044;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30DB;&#x30B9;&#x30C8;&#x30BE;&#x30FC;&#x30F3;</td>
<td>&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x30BB;&#x30C3;&#x30C8;</td>
<td>&#x540D;&#x524D;&#x89E3;&#x6C7A;&#x6642;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x65B9;&#x6CD5;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;<br>&#x203B; &#x30B5;&#x30D6;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3092;&#x6271;&#x3046;&#x3053;&#x3068;&#x3082;&#x53EF;&#x80FD;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x30DB;&#x30B9;&#x30C8;&#x30BE;&#x30FC;&#x30F3;">&#x30DB;&#x30B9;&#x30C8;&#x30BE;&#x30FC;&#x30F3;</h3>
<h4 id="&#x30FB;&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x30BF;&#x30A4;&#x30D7;&#x306E;&#x8A2D;&#x5B9A;&#x5024;&#x306E;&#x9055;&#x3044;">&#x30FB;&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x30BF;&#x30A4;&#x30D7;&#x306E;&#x8A2D;&#x5B9A;&#x5024;&#x306E;&#x9055;&#x3044;</h4>
<table>
<thead>
<tr>
<th>&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x30BF;&#x30A4;&#x30D7;</th>
<th></th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x8EE2;&#x9001;&#x3057;&#x305F;&#x3044;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#xFF0C;IPv4&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x307E;&#x305F;&#x306F;DNS&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>AAAA</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x8EE2;&#x9001;&#x3057;&#x305F;&#x3044;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#xFF0C;IPv6&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x307E;&#x305F;&#x306F;DNS&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>CNAME</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x8EE2;&#x9001;&#x3057;&#x305F;&#x3044;&#x4EFB;&#x610F;&#x306E;&#x30B5;&#x30FC;&#x30D0;&#x306E;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x8EE2;&#x9001;&#x5148;&#x306F;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3067;&#x306A;&#x304F;&#x3068;&#x3082;&#x3088;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>MX</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x8EE2;&#x9001;&#x3057;&#x305F;&#x3044;&#x30E1;&#x30FC;&#x30EB;&#x30B5;&#x30FC;&#x30D0;&#x306E;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>TXT</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x8EE2;&#x9001;&#x3057;&#x305F;&#x3044;&#x30B5;&#x30FC;&#x30D0;&#x306E;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x306B;&#x95A2;&#x9023;&#x4ED8;&#x3051;&#x3089;&#x308C;&#x305F;&#x6587;&#x5B57;&#x5217;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;dns&#x540D;&#xFF0C;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#xFF0C;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x540D;">&#x30FB;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;DNS&#x540D;&#xFF0C;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#xFF0C;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x540D;</h4>
<p>&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;DNS&#x540D;&#x306F;&#xFF0C;&#x4EE5;&#x4E0B;&#x306E;&#x69D8;&#x306B;&#x6C7A;&#x5B9A;&#x3055;&#x308C;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x7A2E;&#x5225;</th>
<th>&#x30EA;&#x30BD;&#x30FC;&#x30B9;</th>
<th>&#x4F8B;</th>
</tr>
</thead>
<tbody>
<tr>
<td>DNS&#x540D;</td>
<td>ALB</td>
<td><code>&lt;ALB&#x540D;&gt;-&lt;&#x30E9;&#x30F3;&#x30C0;&#x30E0;&#x306A;&#x6587;&#x5B57;&#x5217;&gt;.&lt;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&gt;.elb.amazonaws.com</code></td>
</tr>
<tr>
<td></td>
<td>EC2</td>
<td><code>ec2-&lt;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IP&#x3092;&#x30CF;&#x30A4;&#x30D5;&#x30F3;&#x533A;&#x5207;&#x308A;&#x306B;&#x3057;&#x305F;&#x3082;&#x306E;&gt;.&lt;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&gt;.compute.amazonaws.com</code></td>
</tr>
<tr>
<td>&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;</td>
<td>CloudFront</td>
<td><code>&lt;&#x30E9;&#x30F3;&#x30C0;&#x30E0;&#x306A;&#x6587;&#x5B57;&#x5217;&gt;.cloudfront.net</code></td>
</tr>
<tr>
<td>&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x540D;</td>
<td>S3</td>
<td><code>&lt;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x540D;&gt;.&lt;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&gt;.amazonaws.com</code></td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x30BF;&#x30A4;&#x30D7;&#x306E;&#x540D;&#x524D;&#x89E3;&#x6C7A;&#x65B9;&#x6CD5;&#x306E;&#x9055;&#x3044;">&#x30FB;&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x30BF;&#x30A4;&#x30D7;&#x306E;&#x540D;&#x524D;&#x89E3;&#x6C7A;&#x65B9;&#x6CD5;&#x306E;&#x9055;&#x3044;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/URL&#x3068;&#x96FB;&#x5B50;&#x30E1;&#x30FC;&#x30EB;&#x306E;&#x69CB;&#x9020;.png" alt="URL&#x3068;&#x96FB;&#x5B50;&#x30E1;&#x30FC;&#x30EB;&#x306E;&#x69CB;&#x9020;"></p>
<table>
<thead>
<tr>
<th>&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x30BF;&#x30A4;&#x30D7;</th>
<th style="text-align:center">&#x540D;&#x524D;&#x89E3;&#x6C7A;&#x65B9;&#x6CD5;&#xFF08;1&#xFF09;</th>
<th style="text-align:center"></th>
<th style="text-align:center">&#xFF08;2&#xFF09;</th>
<th style="text-align:center"></th>
<th style="text-align:center">&#xFF08;3&#xFF09;</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td style="text-align:center">&#x5B8C;&#x5168;&#x4FEE;&#x98FE;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;</td>
<td style="text-align:center">&#x2192;</td>
<td style="text-align:center">&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IPv4</td>
<td style="text-align:center">&#x2192;</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td>AAAA</td>
<td style="text-align:center">&#x5B8C;&#x5168;&#x4FEE;&#x98FE;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;</td>
<td style="text-align:center">&#x2192;</td>
<td style="text-align:center">&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IPv6</td>
<td style="text-align:center">&#x2192;</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td>CNAME</td>
<td style="text-align:center">&#x5B8C;&#x5168;&#x4FEE;&#x98FE;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;</td>
<td style="text-align:center">&#x2192;</td>
<td style="text-align:center">&#xFF08;&#x30EA;&#x30C0;&#x30A4;&#x30EC;&#x30AF;&#x30C8;&#xFF09;</td>
<td style="text-align:center">&#x2192;</td>
<td style="text-align:center">&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IPv4</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;cloudfront&#x3078;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;">&#x30FB;CloudFront&#x3078;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;</h4>
<p>CloudFront&#x306B;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3059;&#x308B;&#x5834;&#x5408;&#xFF0C;CloudFront&#x306E;CNAME&#x3092;&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x540D;&#x3068;&#x3059;&#x308B;&#x3068;&#xFF0C;CloudFront&#x306E;&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#xFF08;<code>xxxxx.cloudfront.net.</code>&#xFF09;&#x304C;&#xFF0C;&#x5165;&#x529B;&#x30D5;&#x30A9;&#x30FC;&#x30E0;&#x306B;&#x8868;&#x793A;&#x3055;&#x308C;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;route53&#x3092;&#x542B;&#x3080;&#x591A;&#x6570;&#x306E;dns&#x30B5;&#x30FC;&#x30D0;&#x306B;&#x3088;&#x3063;&#x3066;&#x540D;&#x524D;&#x89E3;&#x6C7A;&#x3055;&#x308C;&#x308B;&#x4ED5;&#x7D44;&#x307F;">&#x30FB;Route53&#x3092;&#x542B;&#x3080;&#x591A;&#x6570;&#x306E;DNS&#x30B5;&#x30FC;&#x30D0;&#x306B;&#x3088;&#x3063;&#x3066;&#x540D;&#x524D;&#x89E3;&#x6C7A;&#x3055;&#x308C;&#x308B;&#x4ED5;&#x7D44;&#x307F;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/Route53&#x3092;&#x542B;&#x3080;&#x540D;&#x524D;&#x89E3;&#x6C7A;&#x306E;&#x4ED5;&#x7D44;&#x307F;.png" alt="Route53&#x3092;&#x542B;&#x3080;&#x540D;&#x524D;&#x89E3;&#x6C7A;&#x306E;&#x4ED5;&#x7D44;&#x307F;"></p>
<p>&#xFF08;1&#xFF09;&#x5B8C;&#x5168;&#x4FEE;&#x98FE;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x306B;&#x5BFE;&#x5FDC;&#x3059;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;</p>
<ol>
<li><p>&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;PC&#x306F;&#xFF0C;&#x5B8C;&#x5168;&#x4FEE;&#x98FE;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3092;&#xFF0C;&#x30D5;&#x30A9;&#x30EF;&#x30FC;&#x30C9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#xFF08;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;DNS&#x30B5;&#x30FC;&#x30D0;&#xFF09;&#x306B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#xFF0E;</p>
</li>
<li><p>&#x30D5;&#x30A9;&#x30EF;&#x30FC;&#x30C9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306F;&#xFF0C;&#x5B8C;&#x5168;&#x4FEE;&#x98FE;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3092;&#xFF0C;&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306B;&#x4EE3;&#x7406;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#xFF0E;</p>
</li>
<li><p>&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306F;&#xFF0C;&#x5B8C;&#x5168;&#x4FEE;&#x98FE;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3092;&#xFF0C;DNS&#x30B5;&#x30FC;&#x30D0;&#xFF08;&#x30CD;&#x30FC;&#x30E0;&#x30B5;&#x30FC;&#x30D0;&#xFF09;&#x306B;&#x4EE3;&#x7406;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#xFF0E;</p>
</li>
<li><p>Route53&#x306F;&#xFF0C;DNS&#x30B5;&#x30FC;&#x30D0;&#x3068;&#x3057;&#x3066;&#x6A5F;&#x80FD;&#x3059;&#x308B;&#xFF0E;&#x5B8C;&#x5168;&#x4FEE;&#x98FE;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x306B;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x3055;&#x308C;&#x308B;IPv4&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x53D6;&#x5F97;&#x3057;&#xFF0C;&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306B;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#xFF0E;</p>
</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:center">&#x5B8C;&#x5168;&#x4FEE;&#x98FE;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;</th>
<th style="text-align:center">&#x21C4;</th>
<th style="text-align:center">IPv4&#x30A2;&#x30C9;&#x30EC;&#x30B9;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>http://www.example.com</code></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>203.142.205.139</code></td>
</tr>
</tbody>
</table>
<ol>
<li><p>&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306F;&#xFF0C;IPv4&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#xFF0C;&#x30D5;&#x30A9;&#x30EF;&#x30FC;&#x30C9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306B;&#x4EE3;&#x7406;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#xFF0E;&#xFF08;&#x203B; NAT&#x306B;&#x3088;&#x308B;IPv4&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x9593;&#x5909;&#x63DB;&#x304C;&#x8D77;&#x3053;&#x308B;&#xFF09;</p>
</li>
<li><p>&#x30D5;&#x30A9;&#x30EF;&#x30FC;&#x30C9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306F;&#xFF0C;IPv4&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#xFF0C;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;PC&#x306B;&#x4EE3;&#x7406;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#xFF0E;</p>
</li>
</ol>
<p>&#xFF08;2&#xFF09;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306B;&#x5BFE;&#x5FDC;&#x3059;&#x308B;Web&#x30DA;&#x30FC;&#x30B8;&#x306E;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;</p>
<ol>
<li>&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;PC&#x306F;&#xFF0C;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3055;&#x308C;&#x305F;IPv4&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x57FA;&#x306B;&#xFF0C;Web&#x30DA;&#x30FC;&#x30B8;&#x3092;&#xFF0C;&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#xFF0E;</li>
<li>&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306F;&#xFF0C;Web&#x30DA;&#x30FC;&#x30B8;&#x3092;&#xFF0C;Web&#x30B5;&#x30FC;&#x30D0;&#x306B;&#x4EE3;&#x7406;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#xFF0E;</li>
<li>EC2&#x306F;&#xFF0C;Web&#x30DA;&#x30FC;&#x30B8;&#x3092;&#xFF0C;&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306B;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#xFF0E;</li>
<li>&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306F;&#xFF0C;Web&#x30DA;&#x30FC;&#x30B8;&#x3092;&#xFF0C;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;PC&#x306B;&#x4EE3;&#x7406;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#xFF0E;</li>
</ol>
<h4 id="&#x30FB;route53&#x306B;&#x304A;&#x3051;&#x308B;dns&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;">&#x30FB;Route53&#x306B;&#x304A;&#x3051;&#x308B;DNS&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;</h4>
<p>&#x30EB;&#x30FC;&#x30C8;&#x30B5;&#x30FC;&#x30D0;&#x306F;&#x4E16;&#x754C;&#x306B;13&#x6A5F;&#x3057;&#x304B;&#x5B58;&#x5728;&#x3057;&#x3066;&#x304A;&#x3089;&#x305A;&#xFF0C;&#x4E16;&#x754C;&#x4E2D;&#x306E;&#x540D;&#x524D;&#x89E3;&#x6C7A;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x5168;&#x3066;&#x51E6;&#x7406;&#x3059;&#x308B;&#x3053;&#x3068;&#x306F;&#x73FE;&#x5B9F;&#x7684;&#x306B;&#x4E0D;&#x53EF;&#x80FD;&#x3067;&#x3042;&#x308B;&#xFF0E;&#x305D;&#x3053;&#x3067;&#xFF0C;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3068;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x306E;&#x95A2;&#x4FC2;&#x3092;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x3059;&#x308B;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#xFF08;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;DNS&#x30B5;&#x30FC;&#x30D0;&#xFF09;&#x304C;&#x4F7F;&#x7528;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x57FA;&#x672C;&#x7684;&#x306B;&#x306F;&#xFF0C;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x3068;DNS&#x30B5;&#x30FC;&#x30D0;&#x306F;&#x533A;&#x5225;&#x3055;&#x308C;&#x308B;&#x304C;&#xFF0C;Route53&#x306F;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x3068;DNS&#x30B5;&#x30FC;&#x30D0;&#x306E;&#x6A5F;&#x80FD;&#x3092;&#x4E21;&#x7ACB;&#x3057;&#x3066;&#x3044;&#x308B;&#xFF0E;</p>
<p><br></p>
<h3 id="&#x30EA;&#x30BE;&#x30EB;&#x30D0;&#x30FC;">&#x30EA;&#x30BE;&#x30EB;&#x30D0;&#x30FC;</h3>
<h4 id="&#x30FB;&#x30EA;&#x30BE;&#x30EB;&#x30D0;&#x30FC;&#x3068;&#x306F;">&#x30FB;&#x30EA;&#x30BE;&#x30EB;&#x30D0;&#x30FC;&#x3068;&#x306F;</h4>
<p>&#x8981;&#x52C9;&#x5F37;&#xFF0E;</p>
<p><br></p>
<h2 id="05-03-&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AD;&#x30F3;&#x30B0;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x914D;&#x4FE1;&#xFF5C;cloudfront">05-03. &#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AD;&#x30F3;&#x30B0;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x914D;&#x4FE1;&#xFF5C;CloudFront</h2>
<h3 id="cloudfront">CloudFront</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/CloudFront&#x306B;&#x3088;&#x308B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x632F;&#x308A;&#x5206;&#x3051;.png" alt="AWS&#x306E;&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30C7;&#x30B6;&#x30A4;&#x30F3;&#x4E00;&#x4F8B;"></p>
<h4 id="&#x30FB;cloudfront&#x3068;&#x306F;">&#x30FB;CloudFront&#x3068;&#x306F;</h4>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;VPC&#x306E;&#x5916;&#x5074;&#xFF08;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#xFF09;&#x306B;&#x8A2D;&#x7F6E;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x30B5;&#x30FC;&#x30D0;&#xFF08;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x63D0;&#x4F9B;&#x5143;&#xFF09;&#x3092;S3&#x3068;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x52D5;&#x7684;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x3078;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;EC2&#x306B;&#x632F;&#x308A;&#x5206;&#x3051;&#x308B;&#xFF0E;&#x307E;&#x305F;&#xFF0C;&#x9759;&#x7684;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x3078;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;Cache&#x3057;&#xFF0C;&#x305D;&#x306E;&#x4E0A;&#x3067;Amazon S3&#x3078;&#x632F;&#x308A;&#x5206;&#x3051;&#x308B;&#xFF0E;&#x6B21;&#x56DE;&#x4EE5;&#x964D;&#x306E;&#x9759;&#x7684;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x306E;&#x30EA;&#x30F3;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306F;&#xFF0C;CloudFront&#x304C;&#x30EC;&#x30F3;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3092;&#x884C;&#x3046;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Distributions</td>
<td></td>
</tr>
<tr>
<td>Reports &amp; analytics</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x5168;&#x3066;&#x306E;&#x30A8;&#x30C3;&#x30B8;&#x30B5;&#x30FC;&#x30D0;&#x306E;ip&#x30A2;&#x30C9;&#x30EC;&#x30B9;">&#x30FB;&#x5168;&#x3066;&#x306E;&#x30A8;&#x30C3;&#x30B8;&#x30B5;&#x30FC;&#x30D0;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;</h4>
<p>CloudFront&#x306B;&#x306F;&#xFF0C;&#x30A8;&#x30C3;&#x30B8;&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x6570;&#x3060;&#x3051;&#x30A8;&#x30C3;&#x30B8;&#x30B5;&#x30FC;&#x30D0;&#x304C;&#x3042;&#x308A;&#xFF0C;&#x5404;&#x30B5;&#x30FC;&#x30D0;&#x306B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304C;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x4EE5;&#x4E0B;&#x306E;&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x3067;&#xFF0C;&#x5168;&#x3066;&#x306E;&#x30A8;&#x30C3;&#x30B8;&#x30B5;&#x30FC;&#x30D0;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x78BA;&#x8A8D;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<pre><code class="lang-bash">$ curl https://ip-ranges.amazonaws.com/ip-ranges.json |
jq  <span class="hljs-string">&apos;.prefixes[] | select(.service==&quot;CLOUDFRONT&quot;) | .ip_prefix&apos;</span>
</code></pre>
<p>&#x3082;&#x3057;&#x304F;&#x306F;&#xFF0C;&#x4EE5;&#x4E0B;&#x306E;&#x30EA;&#x30F3;&#x30AF;&#x3092;&#x76F4;&#x63A5;&#x53C2;&#x7167;&#x3057;&#xFF0C;&#x300C;<code>&quot;service&quot;: &quot;CLOUDFRONT&quot;</code>&#x300D;&#x3068;&#x306A;&#x3063;&#x3066;&#x3044;&#x308B;&#x90E8;&#x5206;&#x3092;&#x63A2;&#x3059;&#xFF0E;</p>
<p>&#x53C2;&#x7167;&#x30EA;&#x30F3;&#x30AF;&#xFF1A;<a href="https://ip-ranges.amazonaws.com/ip-ranges.json" target="_blank">https://ip-ranges.amazonaws.com/ip-ranges.json</a></p>
<h4 id="&#x30FB;&#x73FE;&#x5728;&#x4F7F;&#x7528;&#x3057;&#x3066;&#x3044;&#x308B;&#x30A8;&#x30C3;&#x30B8;&#x30B5;&#x30FC;&#x30D0;&#x306E;ip&#x30A2;&#x30C9;&#x30EC;&#x30B9;">&#x30FB;&#x73FE;&#x5728;&#x4F7F;&#x7528;&#x3057;&#x3066;&#x3044;&#x308B;&#x30A8;&#x30C3;&#x30B8;&#x30B5;&#x30FC;&#x30D0;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;</h4>
<p>CloudFront&#x306B;&#x306F;&#x8907;&#x6570;&#x306E;&#x30A8;&#x30C3;&#x30B8;&#x30B5;&#x30FC;&#x30D0;&#x304C;&#x3042;&#x308A;&#xFF0C;&#x3053;&#x308C;&#x306E;&#x3046;&#x3061;&#x3044;&#x304F;&#x3064;&#x304B;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x3066;&#x3044;&#x308B;&#x72B6;&#x614B;&#x306B;&#x3042;&#x308B;&#xFF0E;&#x4EE5;&#x4E0B;&#x306E;&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x3067;&#xFF0C;CloudFront&#x306E;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x306B;&#x5BFE;&#x5FDC;&#x3059;&#x308B;&#x30A8;&#x30C3;&#x30B8;&#x30B5;&#x30FC;&#x30D0;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x78BA;&#x8A8D;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<pre><code class="lang-bash">$ nslookup &lt;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x305F;&#x6587;&#x5B57;&#x5217;&gt;.cloudfront.net
</code></pre>
<p><br></p>
<h3 id="distributions">Distributions</h3>
<h4 id="&#x30FB;distributions&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;">&#x30FB;Distributions&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;</h4>
<p><a href="https://www.geekfeed.co.jp/geekblog/wordpress%E3%81%A7%E6%A7%8B%E7%AF%89%E3%81%95%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E3%82%A6%E3%82%A7%E3%83%96%E3%82%B5%E3%82%A4%E3%83%88%E3%81%ABcloudfront%E3%82%92%E7%AB%8B%E3%81%A6%E3%81%A6%E9%AB%98/" target="_blank">&#x53C2;&#x8003;&#x306B;&#x306A;&#x3063;&#x305F;&#x30B5;&#x30A4;&#x30C8;</a></p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>General</td>
<td></td>
</tr>
<tr>
<td>Origin and Origin Groups</td>
<td>&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x3092;&#x63D0;&#x4F9B;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x8A2D;&#x5B9A;</td>
</tr>
<tr>
<td>Behavior</td>
<td>&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x304C;&#x884C;&#x308F;&#x308C;&#x305F;&#x6642;&#x306E;CloudFront&#x306E;&#x6319;&#x52D5;&#x3092;&#x8A2D;&#x5B9A;</td>
</tr>
<tr>
<td>ErrorPage</td>
<td></td>
</tr>
<tr>
<td>Restriction</td>
<td></td>
</tr>
<tr>
<td>Invalidation</td>
<td>CloudFront&#x306B;&#x4FDD;&#x5B58;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;Cache&#x3092;&#x524A;&#x9664;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;general&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;">&#x30FB;General&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Price Class</td>
<td>&#x4F7F;&#x7528;&#x3059;&#x308B;&#x30A8;&#x30C3;&#x30B8;&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>Asia&#x304C;&#x542B;&#x307E;&#x308C;&#x3066;&#x3044;&#x308B;&#x3082;&#x306E;&#x3092;&#x9078;&#x629E;&#xFF0E;</td>
</tr>
<tr>
<td>AWS WAF</td>
<td>CloudFront&#x306B;&#x7D10;&#x3065;&#x3051;&#x308B;WAF&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>CNAME</td>
<td>CloudFront&#x306E;&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#xFF08;<code>xxxxx.cloudfront.net.</code>&#xFF09;&#x306B;&#x7D10;&#x3065;&#x3051;&#x308B;Route53&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;Route53&#x304B;&#x3089;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3059;&#x308B;&#x5834;&#x5408;&#x306F;&#x5FC5;&#x9808;&#xFF0E;<br>&#x30FB;&#x8907;&#x6570;&#x306E;&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>SSL Certificate</td>
<td>HTTPS&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3067;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306B;&#x8EE2;&#x9001;&#x3059;&#x308B;&#x5834;&#x5408;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x4E0A;&#x8FF0;&#x306E;CNAME&#x3092;&#x8A2D;&#x5B9A;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;SSL&#x8A3C;&#x660E;&#x66F8;&#x304C;&#x5225;&#x9014;&#x5FC5;&#x8981;&#x306B;&#x306A;&#x308B;&#xFF0E;&#x307E;&#x305F;&#xFF0C;Certificate Manager&#x3092;&#x4F7F;&#x7528;&#x3059;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x3053;&#x306E;&#x8A3C;&#x660E;&#x66F8;&#x306F;&#x300E;&#x30D0;&#x30FC;&#x30B8;&#x30CB;&#x30A2;&#x5317;&#x90E8;&#x300F;&#x3067;&#x7533;&#x8ACB;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Default Root Object</td>
<td>&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306E;&#x30C9;&#x30AD;&#x30E5;&#x30E1;&#x30F3;&#x30C8;&#x30EB;&#x30FC;&#x30C8;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x4F8B;&#x3048;&#x3070;&#xFF0C;index.html&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x3068;&#xFF0C;&#x300C;<code>/</code>&#x300D;&#x3067;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3057;&#x305F;&#x6642;&#x306B;&#xFF0C;index,html&#x304C;&#x81EA;&#x52D5;&#x3067;&#x7701;&#x7565;&#x3055;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Standard Logging</td>
<td>CloudFront&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x3092;S3&#x306B;&#x751F;&#x6210;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;origin-and-origin-groups&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;">&#x30FB;Origin and Origin Groups&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Origin Domain Name</td>
<td>CloudFront&#x3092;&#x7D4C;&#x7531;&#x3057;&#x3066;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x3092;&#x63D0;&#x4F9B;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3084;DNS&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x4F8B;&#x3048;&#x3070;&#xFF0C;S3&#x306E;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#xFF0C;ALB&#x306E;DNS&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;<br>&#x30FB;&#x5225;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;DNS&#x540D;&#x3067;&#x3042;&#x3063;&#x3066;&#x3082;&#x3088;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>Origin Path</td>
<td>&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306E;&#x30EB;&#x30FC;&#x30C8;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x306F;&#x300C;<code>/</code>&#x300D;&#x3067;&#xFF0C;&#x305D;&#x306E;&#x5F8C;&#x306B;Behavior&#x306E;&#x30D1;&#x30B9;&#x304C;&#x8FFD;&#x52A0;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x4F8B;&#x3048;&#x3070;&#xFF0C;&#x300C;<code>/var/www/app</code>&#x300D;&#x3068;&#x3059;&#x308B;&#x3068;&#xFF0C;Behavior&#x3067;&#x8A2D;&#x5B9A;&#x3057;&#x305F;&#x30D1;&#x30B9;&#x304C;&#x300C;<code>/var/www/app/xxxxx</code>&#x300D;&#x306E;&#x3088;&#x3046;&#x306B;&#x8FFD;&#x52A0;&#x3055;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Origin Access Identity</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x8EE2;&#x9001;&#x5148;&#x3068;&#x306A;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3067;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x6A29;&#x9650;&#x306E;&#x4ED8;&#x4E0E;&#x304C;&#x5FC5;&#x8981;&#x306A;&#x5834;&#x5408;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;&#x8EE2;&#x9001;&#x5148;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3067;&#x306F;&#xFF0C;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;&#x3059;&#x308B;&#xFF0E;</td>
<td>CloudFront&#x304C;S3&#x306B;&#x5BFE;&#x3057;&#x3066;&#x8AAD;&#x307F;&#x51FA;&#x3057;&#x3092;&#x884C;&#x3046;&#x305F;&#x3081;&#x306B;&#x5FC5;&#x8981;&#xFF0E;</td>
</tr>
<tr>
<td>Origin Protocol Policy</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x8EE2;&#x9001;&#x5148;&#x3068;&#x306A;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;HTTP&#x3068;HTTPS&#x306E;&#x3044;&#x305A;&#x308C;&#x306E;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3067;&#x8EE2;&#x9001;&#x3059;&#x308B;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;ALB&#x3067;&#x5FC5;&#x8981;&#xFF0E;ALB&#x306E;&#x30EA;&#x30B9;&#x30CA;&#x30FC;&#x306E;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x306B;&#x5408;&#x308F;&#x305B;&#x3066;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;<br>&#x30FB;<code>HTTP Only</code>&#xFF1A;HTTP&#x3067;&#x8EE2;&#x9001;<br>&#x30FB;<code>HTTPS Only</code>&#xFF1A;HTTPS&#x3067;&#x8EE2;&#x9001;<br>&#x30FB;<code>Match Viewer</code>&#xFF1A;&#x4E21;&#x65B9;&#x3067;&#x8EE2;&#x9001;</td>
</tr>
<tr>
<td>HTTP&#x30DD;&#x30FC;&#x30C8;</td>
<td>&#x8EE2;&#x9001;&#x6642;&#x306B;&#x6307;&#x5B9A;&#x3059;&#x308B;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306E;HTTP&#x306E;&#x30DD;&#x30FC;&#x30C8;&#x756A;&#x53F7;</td>
<td></td>
</tr>
<tr>
<td>HTTPS&#x30DD;&#x30FC;&#x30C8;</td>
<td>&#x8EE2;&#x9001;&#x6642;&#x306B;&#x6307;&#x5B9A;&#x3059;&#x308B;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306E;HTTPS&#x306E;&#x30DD;&#x30FC;&#x30C8;&#x756A;&#x53F7;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;behavior&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;">&#x30FB;Behavior&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;</h4>
<p>&#x4F55;&#x306B;&#x57FA;&#x3065;&#x3044;&#x305F;Cache&#x3092;&#x884C;&#x3046;&#x304B;&#x306B;&#x3064;&#x3044;&#x3066;&#x306F;&#xFF0C;&#x2605;&#x30DE;&#x30FC;&#x30AF;&#x306E;&#x9805;&#x76EE;&#x3067;&#x5236;&#x5FA1;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x2605;&#x30DE;&#x30FC;&#x30AF;&#x3067;&#xFF0C;&#x5404;&#x9805;&#x76EE;&#x306E;&#x5168;&#x3066;&#x5024;&#x304C;&#xFF0C;&#x904E;&#x53BB;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306B;&#x5408;&#x81F4;&#x3057;&#x305F;&#x6642;&#x306E;&#x307F;&#xFF0C;&#x305D;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3068;&#x904E;&#x53BB;&#x306E;&#x3082;&#x306E;&#x304C;&#x540C;&#x4E00;&#x3067;&#x3042;&#x308B;&#x3068;&#x898B;&#x306A;&#x3059;&#x4ED5;&#x7D44;&#x307F;&#x306B;&#x306A;&#x3063;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x5224;&#x5B9A;&#x6642;&#x306E;&#x30D1;&#x30BF;&#x30FC;&#x30F3;&#x3092;&#x6E1B;&#x3089;&#x3057;&#xFF0C;HIT&#x7387;&#x3092;&#x6539;&#x5584;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#xFF0C;&#x2605;&#x30DE;&#x30FC;&#x30AF;&#x3067;&#x53EF;&#x80FD;&#x306A;&#x9650;&#x308A;&#x300C;None&#x300D;&#x3092;&#x9078;&#x629E;&#x3057;&#x305F;&#x65B9;&#x304C;&#x826F;&#x3044;&#xFF0E;&#x305D;&#x306E;&#x4ED6;&#x306E;&#x6539;&#x5584;&#x65B9;&#x6CD5;&#x306F;&#xFF0C;&#x4EE5;&#x4E0B;&#x30EA;&#x30F3;&#x30AF;&#x3092;&#x53C2;&#x7167;&#x305B;&#x3088;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/AmazonCloudFront/latest/DeveloperGuide/cache-hit-ratio.html#cache-hit-ratio-query-string-parameters" target="_blank">https://docs.aws.amazon.com/ja_jp/AmazonCloudFront/latest/DeveloperGuide/cache-hit-ratio.html#cache-hit-ratio-query-string-parameters</a></p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Precedence</td>
<td>&#x51E6;&#x7406;&#x306E;&#x512A;&#x5148;&#x9806;&#x4F4D;&#xFF0E;</td>
<td>&#x6700;&#x521D;&#x306B;&#x4F5C;&#x6210;&#x3057;&#x305F;Behavior&#x304C;&#x300C;<code>Default (*)</code>&#x300D;&#x3068;&#x306A;&#x308A;&#xFF0C;&#x3053;&#x308C;&#x306F;&#x5F8C;&#x304B;&#x3089;&#x5909;&#x66F4;&#x3067;&#x304D;&#x306A;&#x3044;&#x305F;&#x3081;&#xFF0C;&#x4E3B;&#x8981;&#x306A;Behavior&#x3092;&#x307E;&#x305A;&#x6700;&#x521D;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Path Pattern</td>
<td>Behavior&#x3092;&#x884C;&#x3046;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30D1;&#x30B9;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>Origin or Origin Group</td>
<td>Behavior&#x3092;&#x884C;&#x3046;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>Viewer Protocol Policy</td>
<td>HTTP&#xFF0F;HTTPS&#x306E;&#x3069;&#x3061;&#x3089;&#x3092;&#x53D7;&#x4FE1;&#x3059;&#x308B;&#x304B;&#xFF0C;&#x307E;&#x305F;&#x3069;&#x306E;&#x3088;&#x3046;&#x306B;&#x5909;&#x63DB;&#x3057;&#x3066;&#x8EE2;&#x9001;&#x3059;&#x308B;&#x304B;&#x3092;&#x8A2D;&#x5B9A;</td>
<td>&#x30FB;<code>HTTP and HTTPS</code>&#xFF1A;&#x4E21;&#x65B9;&#x53D7;&#x4FE1;&#x3057;&#xFF0C;&#x305D;&#x306E;&#x307E;&#x307E;&#x8EE2;&#x9001;<br>&#x30FB;<code>Redirect HTTP to HTTPS</code>&#xFF1A;&#x4E21;&#x65B9;&#x53D7;&#x4FE1;&#x3057;&#xFF0C;HTTPS&#x3067;&#x8EE2;&#x9001;<br>&#x30FB;<code>HTTPS Only</code>&#xFF1A;HTTPS&#x306E;&#x307F;&#x53D7;&#x4FE1;&#x3057;&#xFF0C;HTTPS&#x3067;&#x8EE2;&#x9001;</td>
</tr>
<tr>
<td>Allowed HTTP Methods</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;HTTP&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x306E;&#x3046;&#x3061;&#xFF0C;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x3078;&#x306E;&#x8EE2;&#x9001;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x3082;&#x306E;&#x3092;&#x8A2D;&#x5B9A;</td>
<td>&#x30FB;&#x30D1;&#x30B9;&#x30D1;&#x30BF;&#x30FC;&#x30F3;&#x304C;&#x9759;&#x7684;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3078;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x5834;&#x5408;&#xFF0C;GET&#x306E;&#x307F;&#x8A31;&#x53EF;&#xFF0E;<br>&#x30FB;&#x30D1;&#x30B9;&#x30D1;&#x30BF;&#x30FC;&#x30F3;&#x304C;&#x52D5;&#x7684;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3078;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x5834;&#x5408;&#xFF0C;&#x5168;&#x3066;&#x306E;&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x3092;&#x8A31;&#x53EF;&#xFF0E;</td>
</tr>
<tr>
<td>&#x2605;Cache Based on Selected Request Headers<br>&#xFF08;&#x2605;&#x306B;&#x3064;&#x3044;&#x3066;&#x306F;&#x8868;&#x4E0A;&#x90E8;&#x53C2;&#x7167;&#xFF09;</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306E;&#x3046;&#x3061;&#xFF0C;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x3078;&#x306E;&#x8EE2;&#x9001;&#x3092;&#x8A31;&#x53EF;&#x3057;&#xFF0C;&#x307E;&#x305F;Cache&#x306E;&#x5BFE;&#x8C61;&#x3068;&#x3059;&#x308B;&#x3082;&#x306E;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x5404;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x8EE2;&#x9001;&#x306E;&#x5168;&#x62D2;&#x5426;&#xFF0C;&#x4E00;&#x90E8;&#x8A31;&#x53EF;&#xFF0C;&#x5168;&#x8A31;&#x53EF;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;<br>&#x30FB;&#x5168;&#x62D2;&#x5426;&#xFF1A;&#x5168;&#x3066;&#x306E;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306E;&#x8EE2;&#x9001;&#x3092;&#x62D2;&#x5426;&#x3057;&#xFF0C;Cache&#x306E;&#x5BFE;&#x8C61;&#x3068;&#x3057;&#x306A;&#x3044;&#xFF0E;&#x52D5;&#x7684;&#x306B;&#x306A;&#x308A;&#x3084;&#x3059;&#x3044;&#x5024;&#x3092;&#x3082;&#x3064;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#xFF08;Accept-Datetime&#x306A;&#x3069;&#xFF09;&#x3092;&#x4E00;&#x5207;&#x4F7F;&#x7528;&#x305B;&#x305A;&#x306B;&#xFF0C;&#x305D;&#x308C;&#x4EE5;&#x5916;&#x306E;&#x30AF;&#x30A8;&#x30EA;&#x6587;&#x5B57;&#x3084;Cookie&#x3067;Cache&#x3092;&#x5224;&#x5B9A;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x540C;&#x4E00;&#x3068;&#x898B;&#x306A;&#x3059;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x304C;&#x5897;&#x3048;&#xFF0C;HIT&#x7387;&#x6539;&#x5584;&#x306B;&#x3064;&#x306A;&#x304C;&#x308B;&#xFF0E;<br>&#x30FB;&#x4E00;&#x90E8;&#x8EE2;&#x9001;&#xFF1A;&#x6307;&#x5B9A;&#x3057;&#x305F;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306E;&#x307F;&#x8EE2;&#x9001;&#x3092;&#x8A31;&#x53EF;&#x3057;&#xFF0C;Cache&#x306E;&#x5BFE;&#x8C61;&#x3068;&#x3059;&#x308B;&#xFF0E;<br>&#x30FB;&#x5168;&#x8A31;&#x53EF;&#xFF1A;&#x5168;&#x3066;&#x306E;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x304C;Cache&#x306E;&#x5BFE;&#x8C61;&#x3068;&#x306A;&#x308B;&#xFF0E;&#x3057;&#x304B;&#x3057;&#xFF0C;&#x65E5;&#x4ED8;&#x306B;&#x95A2;&#x3059;&#x308B;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306A;&#x3069;&#x306E;&#x52D5;&#x7684;&#x306A;&#x5024;&#x3092;Cache&#x306E;&#x5BFE;&#x8C61;&#x3068;&#x3057;&#x3066;&#x3057;&#x307E;&#x3046;&#x3068;&#xFF0E;&#x540C;&#x4E00;&#x3068;&#x898B;&#x306A;&#x3059;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x304C;&#x307B;&#x3068;&#x3093;&#x3069;&#x306A;&#x304F;&#x306A;&#x308A;&#xFF0C;HIT&#x3057;&#x306A;&#x304F;&#x306A;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x305F;&#x3081;&#xFF0C;&#x3053;&#x306E;&#x8A2D;&#x5B9A;&#x3067;Cache&#x306F;&#x5B9F;&#x8CEA;&#x7121;&#x52B9;&#x3068;&#x306A;&#x308A;&#xFF0C;&#x300C;&#x5BFE;&#x8C61;&#x3068;&#x3057;&#x306A;&#x3044;&#x300D;&#x306B;&#x7B49;&#x3057;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>Whitelist Header</td>
<td>Cache Based on Selected Request Headers &#x3092;&#x53C2;&#x7167;&#x305B;&#x3088;&#xFF0E;</td>
<td>&#x30FB;<code>Accept-xxxxx</code>&#xFF1A;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3057;&#x3066;&#x6B32;&#x3057;&#x3044;&#x30C7;&#x30FC;&#x30BF;&#x306E;&#x7A2E;&#x985E;&#xFF08;&#x30C7;&#x30FC;&#x30BF;&#x578B;&#x306A;&#x3069;&#xFF09;&#x3092;&#x6307;&#x5B9A;&#xFF0E;<br>&#x30FB; <code>CloudFront-Is-xxxxx-Viewer</code>&#xFF1A;&#x30C7;&#x30D0;&#x30A4;&#x30B9;&#x30BF;&#x30A4;&#x30D7;&#x306E;Bool&#x5024;&#x304C;&#x683C;&#x7D0D;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;<br>&#x30FB;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x306E;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306B;&#x542B;&#x307E;&#x308C;&#x308B;&#x300C;<code>X-Cache:</code>&#x300D;&#x304C;&#x300C;<code>Hit from cloudfront</code>&#x300D;&#xFF0C;&#x300C;<code>Miss from cloudfront</code>&#x300D;&#x306E;&#x3069;&#x3061;&#x3089;&#x3067;&#xFF0C;Cache&#x306E;&#x4F7F;&#x7528;&#x306E;&#x6709;&#x7121;&#x3092;&#x5224;&#x65AD;&#x3067;&#x304D;&#x308B;&#xFF0E;<br></td>
</tr>
<tr>
<td>Object Caching</td>
<td>CloudFront&#x306B;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x306E;Cache&#x3092;&#x4FDD;&#x5B58;&#x3057;&#x3066;&#x304A;&#x304F;&#x79D2;&#x6570;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;Origin Cache &#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x3092;&#x9078;&#x629E;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x304B;&#x3089;&#x306E;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306E;Cache-Control&#x306E;&#x5024;&#x304C;&#x9069;&#x7528;&#x3055;&#x308C;&#x308B;&#xFF0E;<br>&#x30FB;&#x30AB;&#x30B9;&#x30BF;&#x30DE;&#x30A4;&#x30BA;&#x3092;&#x9078;&#x629E;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x30D6;&#x30E9;&#x30A6;&#x30B6;&#x306E;TTL&#x3068;&#x306F;&#x5225;&#x306B;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>TTL</td>
<td>CloudFront&#x306B;Cache&#x3092;&#x4FDD;&#x5B58;&#x3057;&#x3066;&#x304A;&#x304F;&#x79D2;&#x6570;&#x3092;&#x8A73;&#x7D30;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;Min&#xFF0C;Max&#xFF0C;Default&#xFF0C;&#x306E;&#x5168;&#x3066;&#x3092;0&#x79D2;&#x3068;&#x3059;&#x308B;&#x3068;&#xFF0C;Cache&#x3092;&#x7121;&#x52B9;&#x5316;&#x3067;&#x304D;&#x308B;&#xFF0E;<br>&#x30FB;&#x300C;Cache Based on Selected Request Headers = All&#x300D;&#x3068;&#x3057;&#x3066;&#x3044;&#x308B;&#x5834;&#x5408;&#xFF0C;Cache&#x304C;&#x5B9F;&#x8CEA;&#x7121;&#x52B9;&#x3068;&#x306A;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x6700;&#x5C0F;TTL&#x306F;&#x30BC;&#x30ED;&#x3067;&#x306A;&#x3051;&#x308C;&#x3070;&#x306A;&#x3089;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>&#x2605;Farward Cookies<br>&#xFF08;&#x2605;&#x306B;&#x3064;&#x3044;&#x3066;&#x306F;&#x8868;&#x4E0A;&#x90E8;&#x53C2;&#x7167;&#xFF09;</td>
<td>Cookie&#x60C5;&#x5831;&#x306E;&#x30AD;&#x30FC;&#x540D;&#x306E;&#x3046;&#x3061;&#xFF0C;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x3078;&#x306E;&#x8EE2;&#x9001;&#x3092;&#x8A31;&#x53EF;&#x3057;&#xFF0C;Cache&#x306E;&#x5BFE;&#x8C61;&#x3068;&#x3059;&#x308B;&#x3082;&#x306E;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;Cookie&#x60C5;&#x5831;&#x30AD;&#x30FC;&#x540D;&#x8EE2;&#x9001;&#x306E;&#x5168;&#x62D2;&#x5426;&#xFF0C;&#x4E00;&#x90E8;&#x8A31;&#x53EF;&#xFF0C;&#x5168;&#x8A31;&#x53EF;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;<br>&#x30FB;&#x5168;&#x62D2;&#x5426;&#xFF1A;&#x5168;&#x3066;&#x306E;Cookie&#x306E;&#x8EE2;&#x9001;&#x3092;&#x62D2;&#x5426;&#x3057;&#xFF0C;Cache&#x306E;&#x5BFE;&#x8C61;&#x3068;&#x3057;&#x306A;&#x3044;&#xFF0E;Cookie&#x306F;&#x30E6;&#x30FC;&#x30B6;&#x3054;&#x3068;&#x306B;&#x4E00;&#x610F;&#x306B;&#x306A;&#x308B;&#x3053;&#x3068;&#x304C;&#x591A;&#x304F;&#xFF0C;&#x52D5;&#x7684;&#x3067;&#x3042;&#x308B;&#x304C;&#xFF0C;&#x305D;&#x308C;&#x4EE5;&#x5916;&#x306E;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x3084;&#x30AF;&#x30A8;&#x30EA;&#x6587;&#x5B57;&#x3067;Cache&#x3092;&#x5224;&#x5B9A;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x540C;&#x4E00;&#x3068;&#x898B;&#x306A;&#x3059;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x304C;&#x5897;&#x3048;&#xFF0C;HIT&#x7387;&#x6539;&#x5584;&#x306B;&#x3064;&#x306A;&#x304C;&#x308B;&#xFF0E;<br>&#x30FB;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306B;&#x542B;&#x307E;&#x308C;&#x308B;Cookie&#x60C5;&#x5831;&#xFF08;&#x30AD;&#x30FC;&#x540D;&#xFF0F;&#x5024;&#xFF09;&#x304C;&#x5909;&#x52D5;&#x3057;&#x3066;&#x3044;&#x308B;&#x3068;&#xFF0C;CloudFront&#x306B;&#x4FDD;&#x5B58;&#x3055;&#x308C;&#x305F;Cache&#x304C;HIT&#x3057;&#x306A;&#x3044;&#xFF0E;CloudFront&#x306F;&#x30AD;&#x30FC;&#x540D;&#xFF0F;&#x5024;&#x3092;&#x4FDD;&#x6301;&#x3059;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x5909;&#x5316;&#x3057;&#x3084;&#x3059;&#x3044;&#x30AD;&#x30FC;&#x540D;&#xFF0F;&#x5024;&#x306F;&#xFF0C;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306B;&#x8EE2;&#x9001;&#x3057;&#x306A;&#x3044;&#x3088;&#x3046;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;&#x4F8B;&#x3048;&#x3070;&#xFF0C;GoogleAnalytics&#x306E;&#x30AD;&#x30FC;&#x540D;&#xFF08;<code>_ga</code>&#xFF09;&#x306E;&#x5024;&#x306F;&#xFF0C;&#x30D6;&#x30E9;&#x30A6;&#x30B6;&#x306B;&#x3088;&#x3063;&#x3066;&#x7570;&#x306A;&#x308B;&#x305F;&#x3081;&#xFF0C;&#xFF11;&#x30E6;&#x30FC;&#x30B6;&#x304C;&#x30D6;&#x30E9;&#x30A6;&#x30B6;&#x3092;&#x5909;&#x3048;&#x308B;&#x305F;&#x3073;&#x306B;&#xFF0C;&#x7570;&#x306A;&#x308B;Cache&#x304C;&#x751F;&#x6210;&#x3055;&#x308C;&#x308B;&#x3053;&#x3068;&#x306B;&#x306A;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x305F;&#x3081;&#xFF0C;&#x30E6;&#x30FC;&#x30B6;&#x3092;&#x4E00;&#x610F;&#x306B;&#x5224;&#x5B9A;&#x3059;&#x308B;&#x3053;&#x3068;&#x304C;&#x96E3;&#x3057;&#x304F;&#x306A;&#x3063;&#x3066;&#x3057;&#x307E;&#x3046;&#xFF0E;<br>&#x30FB;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;ID&#x306F;Cookie&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306B;&#x8A2D;&#x5B9A;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x30D5;&#x30A9;&#x30FC;&#x30E0;&#x9001;&#x4FE1;&#x306B;&#x95A2;&#x308F;&#x308B;&#x30D1;&#x30B9;&#x30D1;&#x30BF;&#x30FC;&#x30F3;&#x3067;&#x306F;&#xFF0C;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;ID&#x306E;&#x30AD;&#x30FC;&#x540D;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x2605;Query String Forwarding and Caching<br>&#xFF08;&#x2605;&#x306B;&#x3064;&#x3044;&#x3066;&#x306F;&#x8868;&#x4E0A;&#x90E8;&#x53C2;&#x7167;&#xFF09;</td>
<td>&#x30AF;&#x30A8;&#x30EA;&#x30B9;&#x30C8;&#x30EA;&#x30F3;&#x30B0;&#x306E;&#x3046;&#x3061;&#xFF0C;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x3078;&#x306E;&#x8EE2;&#x9001;&#x3092;&#x8A31;&#x53EF;&#x3057;&#xFF0C;Cache&#x306E;&#x5BFE;&#x8C61;&#x3068;&#x3059;&#x308B;&#x3082;&#x306E;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x30AF;&#x30A8;&#x30EA;&#x30B9;&#x30C8;&#x30EA;&#x30F3;&#x30B0;&#x8EE2;&#x9001;&#x3068;Cache&#x306E;&#xFF0C;&#x5168;&#x62D2;&#x5426;&#xFF0C;&#x4E00;&#x90E8;&#x8A31;&#x53EF;&#xFF0C;&#x5168;&#x8A31;&#x53EF;&#x3092;&#x9078;&#x629E;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x5168;&#x62D2;&#x5426;&#x306B;&#x3059;&#x308B;&#x3068;&#xFF0C;Web&#x30B5;&#x30A4;&#x30C8;&#x306B;&#x30AF;&#x30A8;&#x30EA;&#x30B9;&#x30C8;&#x30EA;&#x30F3;&#x30B0;&#x3092;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3067;&#x304D;&#x306A;&#x304F;&#x306A;&#x308B;&#x306E;&#x3067;&#x6CE8;&#x610F;&#xFF0E;<br>&#x30FB;&#x7570;&#x306A;&#x308B;&#x30AF;&#x30A8;&#x30EA;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x3092;&#xFF0C;&#x5225;&#x3005;&#x306E;Cache&#x3068;&#x3057;&#x3066;&#x4FDD;&#x5B58;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Restrict Viewer Access</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x9001;&#x4FE1;&#x5143;&#x3092;&#x5236;&#x9650;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
<td>&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3067;&#x5236;&#x5FA1;&#x3067;&#x304D;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x3053;&#x3053;&#x3067;&#x306F;&#x8A2D;&#x5B9A;&#x3057;&#x306A;&#x304F;&#x3066;&#x3088;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>Compress Objects Automatically</td>
<td>&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x6642;&#x306B;gzip&#x3092;&#x5727;&#x7E2E;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8A2D;&#x5B9A;</td>
<td>&#x30FB;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x304B;&#x3089;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306E;Accept-Encoding&#x306B;gzip&#x304C;&#x8A2D;&#x5B9A;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x6642;&#x306B;&#xFF0C;gzip&#x5F62;&#x5F0F;&#x3067;&#x5727;&#x7E2E;&#x3057;&#x3066;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;&#x8A2D;&#x5B9A;&#x3057;&#x306A;&#x3044;&#x5834;&#x5408;&#xFF0C;&#x5727;&#x7E2E;&#x305B;&#x305A;&#x306B;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#xFF0E;<br>&#x30FB;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x5074;&#x306E;&#x30C0;&#x30A6;&#x30F3;&#x30ED;&#x30FC;&#x30C9;&#x901F;&#x5EA6;&#x5411;&#x4E0A;&#x306E;&#x305F;&#x3081;&#xFF0C;&#x57FA;&#x672C;&#x7684;&#x306B;&#x306F;&#x6709;&#x52B9;&#x5316;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;invalidation">&#x30FB;Invalidation</h4>
<p>CloudFront&#x306B;&#x4FDD;&#x5B58;&#x3057;&#x3066;&#x3042;&#x308B;Cache&#x3092;&#x524A;&#x9664;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x5168;&#x3066;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;Cache&#x3092;&#x524A;&#x9664;&#x3057;&#x305F;&#x3044;&#x5834;&#x5408;&#x306F;&#x300C;<code>/*</code>&#x300D;&#xFF0C;&#x7279;&#x5B9A;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;Cache&#x3092;&#x524A;&#x9664;&#x3057;&#x305F;&#x3044;&#x5834;&#x5408;&#x306F;&#x300C;<code>/&lt;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3078;&#x306E;&#x30D1;&#x30B9;&gt;</code>&#x300D;&#xFF0C;&#x3092;&#x6307;&#x5B9A;&#x3059;&#x308B;&#xFF0E;CloudFront&#x306B;&#x95A2;&#x3059;&#x308B;&#x30A8;&#x30E9;&#x30FC;&#x30DA;&#x30FC;&#x30B8;&#x304C;&#x8868;&#x793A;&#x3055;&#x308C;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x4E0D;&#x5177;&#x5408;&#x3092;&#x4FEE;&#x6B63;&#x3057;&#x305F;&#x5F8C;&#x3067;&#x3082;Cache&#x304C;&#x6B8B;&#x3063;&#x3066;&#x3044;&#x308B;&#x3068;&#xFF0C;&#x30A8;&#x30E9;&#x30FC;&#x30DA;&#x30FC;&#x30B8;&#x304C;&#x8868;&#x793A;&#x3055;&#x308C;&#x3066;&#x3057;&#x307E;&#x3046;&#x305F;&#x3081;&#xFF0C;&#x4F5C;&#x696D;&#x5F8C;&#x306B;&#x306F;&#x5FC5;&#x305A;Cache&#x3092;&#x524A;&#x9664;&#x3059;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x306E;&#x69CB;&#x9020;">&#x30FB;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x306E;&#x69CB;&#x9020;</h4>
<p>CloudFront&#x304B;&#x3089;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306B;&#x9001;&#x4FE1;&#x3055;&#x308C;&#x308B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x306E;&#x69CB;&#x9020;&#x4F8B;&#x3092;&#x4EE5;&#x4E0B;&#x306B;&#x793A;&#x3059;&#xFF0E;</p>
<pre><code class="lang-http">GET /example/
Host: stg.osohshiki.jp
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Authorization: Bearer XXXXX
X-Amz-Cf-Id: XXXXX
Via: 2.0 77c20654dd474081d033f27ad1b56e1e.cloudfront.net (CloudFront)
Cookie: PHPSESSID=xxxxx; ___ua=1787709890.1608200633; __ulfpc=202012171924472692; _fbp=fb.1.1608200694475.952015011; _ga=GA1.1.859191015.1558955663; _ga_68HTFJXME5=GS1.1.1608200317.1.1.1608201840.60; _gid=GA1.2.1864559874.1608200687; _td=cfeba1dc-be70-454d-a749-a5f6112fab39; _ts_yjad=1608200694057; accessId=24941993; bookmark=27
X-Forwarded-For: nn.nnn.nnn.nnn
Accept-Language: ja,en;q=0.9
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
Accept-Encoding: gzip, deflate, br
pragma: no-cache
cache-control: no-cache
upgrade-insecure-requests: 1
sec-fetch-site: none
sec-fetch-mode: navigate
sec-fetch-user: ?1
sec-fetch-dest: document
CloudFront-Is-Mobile-Viewer: true
CloudFront-Is-Tablet-Viewer: false
CloudFront-Is-SmartTV-Viewer: false
CloudFront-Is-Desktop-Viewer: false
CloudFront-Viewer-Country: JP
CloudFront-Forwarded-Proto: https
</code></pre>
<h4 id="&#x30FB;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x306E;&#x6642;&#x9593;&#x306E;&#x6C7A;&#x307E;&#x308A;&#x65B9;">&#x30FB;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x306E;&#x6642;&#x9593;&#x306E;&#x6C7A;&#x307E;&#x308A;&#x65B9;</h4>
<p>&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x306E;&#x6642;&#x9593;&#x306F;&#xFF0C;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#xFF08;<code>Cache-Control</code>&#xFF0C;<code>Expires</code>&#xFF09;&#x306E;&#x5024;&#x3068;CloudFront&#x306E;&#x8A2D;&#x5B9A;&#xFF08;&#x6700;&#x5927;&#x6700;&#x5C0F;&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;TTL&#xFF09;&#x306E;&#x7D44;&#x307F;&#x5408;&#x308F;&#x305B;&#x306B;&#x3088;&#x3063;&#x3066;&#x6C7A;&#x307E;&#x308B;&#xFF0E;&#x3061;&#x306A;&#x307F;&#x306B;&#xFF0C;CloudFront&#x306E;&#x6700;&#x5927;&#x6700;&#x5C0F;&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;TTL&#x3092;&#x5168;&#x3066;&#xFF10;&#x79D2;&#x306B;&#x3059;&#x308B;&#x3068;&#xFF0C;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x3092;&#x5B8C;&#x5168;&#x306B;&#x7121;&#x52B9;&#x5316;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p>&#x53C2;&#x7167;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/AmazonCloudFront/latest/DeveloperGuide/Expiration.html#ExpirationDownloadDist" target="_blank">https://docs.aws.amazon.com/ja_jp/AmazonCloudFront/latest/DeveloperGuide/Expiration.html#ExpirationDownloadDist</a></p>
<p><br></p>
<h3 id="reports--analytics">Reports &amp; analytics</h3>
<h4 id="&#x30FB;cache-statistics">&#x30FB;Cache statistics</h4>
<p>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306B;&#x95A2;&#x9023;&#x3059;&#x308B;&#x69D8;&#x3005;&#x306A;&#x30C7;&#x30FC;&#x30BF;&#x3092;&#xFF0C;&#x65E5;&#x4ED8;&#x5225;&#x306B;&#x96C6;&#x8A08;&#x3057;&#x305F;&#x3082;&#x306E;&#x3092;&#x78BA;&#x8A8D;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;popular-objects">&#x30FB;Popular objects</h4>
<p>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306B;&#x95A2;&#x9023;&#x3059;&#x308B;&#x69D8;&#x3005;&#x306A;&#x30C7;&#x30FC;&#x30BF;&#x3092;&#xFF0C;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x5225;&#x306B;&#x96C6;&#x8A08;&#x3057;&#x305F;&#x3082;&#x306E;&#x3092;&#x78BA;&#x8A8D;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p><br></p>
<h2 id="05-04-&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AD;&#x30F3;&#x30B0;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x914D;&#x4FE1;&#xFF5C;alb">05-04. &#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AD;&#x30F3;&#x30B0;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x914D;&#x4FE1;&#xFF5C;ALB</h2>
<h3 id="alb&#xFF1A;application-load-balancing">ALB&#xFF1A;Application Load Balancing</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/ALB&#x306E;&#x6A5F;&#x80FD;.png" alt="ALB&#x306E;&#x6A5F;&#x80FD;"></p>
<h4 id="&#x30FB;alb&#x3068;&#x306F;">&#x30FB;ALB&#x3068;&#x306F;</h4>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#xFF0C;&#x304B;&#x3064;&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30ED;&#x30FC;&#x30C9;&#x30D0;&#x30E9;&#x30F3;&#x30B5;&#x30FC;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x4EE3;&#x7406;&#x3067;&#x53D7;&#x4FE1;&#x3057;&#xFF0C;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3078;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x30D0;&#x30E9;&#x30F3;&#x30B9;&#x3088;&#x304F;&#x5206;&#x914D;&#x3059;&#x308B;&#x3053;&#x3068;&#x306B;&#x3088;&#x3063;&#x3066;&#xFF0C;&#x30B5;&#x30FC;&#x30D0;&#x3078;&#x306E;&#x8CA0;&#x8377;&#x3092;&#x7DE9;&#x548C;&#x3059;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30EA;&#x30B9;&#x30CA;&#x30FC;</td>
<td>ALB&#x306B;&#x5272;&#x308A;&#x632F;&#x308B;&#x30DD;&#x30FC;&#x30C8;&#x756A;&#x53F7;&#x304A;&#xFF0C;&#x53D7;&#x4FE1;&#x3059;&#x308B;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x304B;&#x3064;&#x30ED;&#x30FC;&#x30C9;&#x30D0;&#x30E9;&#x30F3;&#x30B5;&#xFF0D;&#x3068;&#x3057;&#x3066;&#xFF0C;&#x3053;&#x308C;&#x3089;&#x306E;&#x901A;&#x4FE1;&#x3092;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30EB;&#x30FC;&#x30EB;</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x306E;&#x30ED;&#x30B8;&#x30C3;&#x30AF;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</td>
<td>&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x6642;&#x306B;&#x4F7F;&#x7528;&#x3059;&#x308B;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3068;&#xFF0C;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x5148;&#x306E;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x305F;&#x30DD;&#x30FC;&#x30C8;&#x756A;&#x53F7;&#x3092;&#x6307;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x5185;&#x306E;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x306E;&#x3046;&#x3061;&#xFF0C;&#x30C8;&#x30E9;&#x30D5;&#x30A3;&#x30C3;&#x30AF;&#x306F;&#x30D8;&#x30EB;&#x30B9;&#x30C1;&#x30A7;&#x30C3;&#x30AF;&#x304C;OK&#x306B;&#x306A;&#x3063;&#x3066;&#x3044;&#x308B;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x306B;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3055;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30D8;&#x30EB;&#x30B9;&#x30C1;&#x30A7;&#x30C3;&#x30AF;</td>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x5C5E;&#x3059;&#x308B;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3068;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x30DD;&#x30FC;&#x30C8;&#x756A;&#x53F7;&#x3092;&#x6307;&#x5B9A;&#x3057;&#x3066;&#xFF0C;&#x5B9A;&#x671F;&#x7684;&#x306B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30EB;&#x30FC;&#x30EB;&#x306E;&#x8A2D;&#x5B9A;&#x4F8B;">&#x30FB;&#x30EB;&#x30FC;&#x30EB;&#x306E;&#x8A2D;&#x5B9A;&#x4F8B;</h4>
<table>
<thead>
<tr>
<th>&#x30E6;&#x30FC;&#x30B9;&#x30B1;&#x30FC;&#x30B9;</th>
<th>&#x30DD;&#x30FC;&#x30C8;</th>
<th>IF</th>
<th>THEN</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x304C;&#x30DD;&#x30FC;&#x30C8;<code>80</code>&#x3092;&#x6307;&#x5B9A;&#x3057;&#x305F;&#x6642;&#x306B;&#xFF0C;<code>443</code>&#x306B;&#x30EA;&#x30C0;&#x30A4;&#x30EC;&#x30AF;&#x30C8;&#x3057;&#x305F;&#x3044;&#xFF0E;</td>
<td><code>80</code></td>
<td>&#x305D;&#x308C;&#x4EE5;&#x5916;&#x306E;&#x5834;&#x5408;&#x306F;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3055;&#x308C;&#x306A;&#x3044;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;</td>
<td>&#x30EA;&#x30C0;&#x30A4;&#x30EC;&#x30AF;&#x30C8;&#x5148;&#xFF1A;<code>https://#{host}:443/#{path}?#{query}</code><br>&#x30B9;&#x30C6;&#x30FC;&#x30BF;&#x30B9;&#x30B3;&#x30FC;&#x30C9;&#xFF1A;<code>HTTP_301</code></td>
</tr>
<tr>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x304C;&#x30DD;&#x30FC;&#x30C8;<code>443</code>&#x3092;&#x6307;&#x5B9A;&#x3057;&#x305F;&#x6642;&#x306B;&#xFF0C;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x8EE2;&#x9001;&#x3057;&#x305F;&#x3044;&#xFF0E;</td>
<td><code>443</code></td>
<td>&#x305D;&#x308C;&#x4EE5;&#x5916;&#x306E;&#x5834;&#x5408;&#x306F;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3055;&#x308C;&#x306A;&#x3044;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;</td>
<td>&#x7279;&#x5B9A;&#x306E;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x306E;&#x6307;&#x5B9A;&#x65B9;&#x6CD5;">&#x30FB;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x306E;&#x6307;&#x5B9A;&#x65B9;&#x6CD5;</h4>
<table>
<thead>
<tr>
<th>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x306E;&#x6307;&#x5B9A;&#x65B9;&#x6CD5;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;</td>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x304C;&#xFF0C;EC2&#x3067;&#x306A;&#x3051;&#x308C;&#x3070;&#x306A;&#x3089;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;</td>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x306E;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304C;&#xFF0C;&#x9759;&#x7684;&#x3067;&#x306A;&#x3051;&#x308C;&#x3070;&#x306A;&#x3089;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>Lambda</td>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x304C;&#xFF0C;Lambda&#x3067;&#x306A;&#x3051;&#x308C;&#x3070;&#x306A;&#x3089;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="web&#x30B5;&#x30FC;&#x30D0;&#xFF0C;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;&#x304A;&#x3051;&#x308B;&#x5BFE;&#x5FDC;">Web&#x30B5;&#x30FC;&#x30D0;&#xFF0C;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;&#x304A;&#x3051;&#x308B;&#x5BFE;&#x5FDC;</h3>
<h4 id="&#x30FB;&#x554F;&#x984C;">&#x30FB;&#x554F;&#x984C;</h4>
<p>ALB&#x304B;&#x3089;EC2&#x3078;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3092;HTTP&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3068;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x5074;&#x3067;&#xFF0C;HTTPS&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3092;&#x7528;&#x3044;&#x305F;&#x51E6;&#x7406;&#x304C;&#x3067;&#x304D;&#x306A;&#x304F;&#x306A;&#x308B;&#xFF0E;&#x305D;&#x3053;&#x3067;&#xFF0C;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x304B;&#x3089;ALB&#x306B;&#x5BFE;&#x3059;&#x308B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x304C;HTTPS&#x3060;&#x3063;&#x305F;&#x5834;&#x5408;&#x306B;&#xFF0C;Web&#x30B5;&#x30FC;&#x30D0;&#x307E;&#x305F;&#x306F;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;&#x304A;&#x3044;&#x3066;&#xFF0C;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x306E;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3092;HTTPS&#x3068;&#x898B;&#x306A;&#x3059;&#x3088;&#x3046;&#x306B;&#x5BFE;&#x51E6;&#x3059;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/ALB&#x304B;&#x3089;EC2&#x3078;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3092;HTTPS&#x3068;&#x898B;&#x306A;&#x3059;.png" alt="ALB&#x304B;&#x3089;EC2&#x3078;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3092;HTTPS&#x3068;&#x898B;&#x306A;&#x3059;"></p>
<h4 id="&#x30FB;web&#x30B5;&#x30FC;&#x30D0;&#x306B;&#x304A;&#x3051;&#x308B;&#x5BFE;&#x51E6;&#x65B9;&#x6CD5;">&#x30FB;Web&#x30B5;&#x30FC;&#x30D0;&#x306B;&#x304A;&#x3051;&#x308B;&#x5BFE;&#x51E6;&#x65B9;&#x6CD5;</h4>
<p>ALB&#x3092;&#x7D4C;&#x7531;&#x3057;&#x305F;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x5834;&#x5408;&#xFF0C;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306B;<code>X-Forwarded-Proto</code>&#x304C;&#x4ED8;&#x4E0E;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x3053;&#x308C;&#x306B;&#x306F;&#xFF0C;ALB&#x306B;&#x5BFE;&#x3059;&#x308B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x306E;&#x7A2E;&#x985E;&#x304C;&#xFF0E;&#x6587;&#x5B57;&#x5217;&#x3067;&#x683C;&#x7D0D;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x3053;&#x308C;&#x304C;&#x300C;<code>https</code>&#x300D;&#x3060;&#x3063;&#x305F;&#x5834;&#x5408;&#x306B;&#xFF0C;Web&#x30B5;&#x30FC;&#x30D0;&#x3078;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;HTTPS&#x3067;&#x3042;&#x308B;&#x3068;&#x307F;&#x306A;&#x3059;&#x3088;&#x3046;&#x306B;&#x5BFE;&#x51E6;&#x3059;&#x308B;&#xFF0E;&#x3053;&#x308C;&#x306B;&#x3088;&#x308A;&#xFF0C;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x3078;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x304C;HTTPS&#x3068;&#x306A;&#x308B;&#xFF08;&#x3053;&#x3061;&#x3089;&#x3092;&#x884C;&#x3063;&#x305F;&#x5834;&#x5408;&#x306F;&#xFF0C;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x5074;&#x306E;&#x5BFE;&#x5FDC;&#x4E0D;&#x8981;&#xFF09;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<pre><code class="lang-apacheconf"><span class="hljs-attribute">SetEnvIf</span> X-Forwarded-Proto https HTTPS=<span class="hljs-literal">on</span>
</code></pre>
<h4 id="&#x30FB;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;&#x304A;&#x3051;&#x308B;&#x5BFE;&#x51E6;&#x65B9;&#x6CD5;">&#x30FB;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;&#x304A;&#x3051;&#x308B;&#x5BFE;&#x51E6;&#x65B9;&#x6CD5;</h4>
<p>ALB&#x3092;&#x7D4C;&#x7531;&#x3057;&#x305F;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x5834;&#x5408;&#xFF0C;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306B;<code>HTTP_X_FORWARDED_PROTO</code>&#x304C;&#x4ED8;&#x4E0E;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x3053;&#x308C;&#x306B;&#x306F;&#xFF0C;ALB&#x306B;&#x5BFE;&#x3059;&#x308B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x306E;&#x7A2E;&#x985E;&#x304C;&#xFF0E;&#x6587;&#x5B57;&#x5217;&#x3067;&#x683C;&#x7D0D;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x3053;&#x308C;&#x304C;&#x300C;<code>https</code>&#x300D;&#x3060;&#x3063;&#x305F;&#x5834;&#x5408;&#x306B;&#xFF0C;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x3078;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;HTTPS&#x3067;&#x3042;&#x308B;&#x3068;&#x307F;&#x306A;&#x3059;&#x3088;&#x3046;&#x306B;&#xFF0C;<code>index.php</code>&#x306B;&#x8FFD;&#x52A0;&#x5B9F;&#x88C5;&#x3092;&#x884C;&#x3046;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">// index.php</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($_SERVER[<span class="hljs-string">&quot;HTTP_X_FORWARDED_PROTO&quot;</span>])
    &amp;&amp; $_SERVER[<span class="hljs-string">&quot;HTTP_X_FORWARDED_PROTO&quot;</span>] == <span class="hljs-string">&apos;https&apos;</span>) {
    $_SERVER[<span class="hljs-string">&quot;HTTPS&quot;</span>] = <span class="hljs-string">&apos;on&apos;</span>;
}
</code></pre>
<p><br></p>
<h3 id="&#x305D;&#x306E;&#x4ED6;&#x306E;&#x7559;&#x610F;&#x4E8B;&#x9805;">&#x305D;&#x306E;&#x4ED6;&#x306E;&#x7559;&#x610F;&#x4E8B;&#x9805;</h3>
<h4 id="&#x30FB;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x308B;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;ip&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;">&#x30FB;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x308B;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;</h4>
<p>ALB&#x306B;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;&#x306B;&#x306F;&#xFF0C;VPC&#x306E;&#x3082;&#x306E;&#x304C;&#x9069;&#x7528;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x305F;&#x3081;&#xFF0C;EC2&#x306E;Security Group&#x3067;&#x306F;&#xFF0C;VPC&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;alb&#x306E;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;">&#x30FB;ALB&#x306E;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</h4>
<p>Route53&#x304B;&#x3089;&#x8EE2;&#x9001;&#x3055;&#x308C;&#x308B;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x53D7;&#x4FE1;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x3057;&#x3066;&#x304A;&#x304F;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x306B;&#x516C;&#x958B;&#x3059;&#x308B;Web&#x30B5;&#x30A4;&#x30C8;&#x3067;&#x3042;&#x308C;&#x3070;&#xFF0C;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306F;&#x5168;&#x3066;&#x306E;&#x7BC4;&#x56F2;&#xFF08;<code>0.0.0.0/0</code>&#x3068;<code>::/0</code>&#xFF09;&#x306B;&#x3059;&#x308B;&#xFF0E;&#x793E;&#x5185;&#x5411;&#x3051;&#x306E;Web&#x30B5;&#x30A4;&#x30C8;&#x3067;&#x3042;&#x308C;&#x3070;&#xFF0C;&#x793E;&#x5185;&#x306E;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x307F;&#xFF08;<code>n.n.n.n/32</code>&#xFF09;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x3059;&#x308B;&#xFF0E;</p>
<p><br></p>
<h2 id="05-05-&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AD;&#x30F3;&#x30B0;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x914D;&#x4FE1;&#xFF5C;vpc">05-05. &#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AD;&#x30F3;&#x30B0;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x914D;&#x4FE1;&#xFF5C;VPC</h2>
<h3 id="vpc&#xFF1A;virtual-private-cloud&#xFF08;&#xFF1D;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#xFF09;">VPC&#xFF1A;Virtual Private Cloud&#xFF08;&#xFF1D;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#xFF09;</h3>
<h4 id="&#x30FB;vpc&#x3068;&#x306F;">&#x30FB;VPC&#x3068;&#x306F;</h4>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304C;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x305F;&#xFF0C;VPC&#x3068;&#x547C;&#x3070;&#x308C;&#x308B;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x3092;&#x4EEE;&#x60F3;&#x7684;&#x306B;&#x69CB;&#x7BC9;&#x3059;&#x308B;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x7570;&#x306A;&#x308B;Availability Zone&#x306B;&#x6E21;&#x3063;&#x3066;EC2&#x3092;&#x7ACB;&#x3061;&#x4E0A;&#x3052;&#x308B;&#x3053;&#x3068;&#x306B;&#x3088;&#x3063;&#x3066;&#xFF0C;&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30B5;&#x30FC;&#x30D0;&#x3092;&#x30C7;&#x30E5;&#x30A2;&#x30EB;&#x5316;&#x3059;&#x308B;&#x3053;&#x3068;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/VPC&#x304C;&#x63D0;&#x4F9B;&#x3067;&#x304D;&#x308B;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x306E;&#x7BC4;&#x56F2;.png" alt="VPC&#x304C;&#x63D0;&#x4F9B;&#x3067;&#x304D;&#x308B;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x306E;&#x7BC4;&#x56F2;"></p>
<p><br></p>
<h3 id="ip&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x5272;&#x308A;&#x5F53;&#x3066;">IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x5272;&#x308A;&#x5F53;&#x3066;</h3>
<h4 id="&#x30FB;&#x81EA;&#x52D5;&#x5272;&#x308A;&#x5F53;&#x3066;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;ip&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#xFF08;&#x52D5;&#x7684;ip&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#xFF09;">&#x30FB;&#x81EA;&#x52D5;&#x5272;&#x308A;&#x5F53;&#x3066;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#xFF08;&#x52D5;&#x7684;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#xFF09;</h4>
<p>&#x52D5;&#x7684;&#x306A;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3067;&#xFF0C;EC2&#x306E;&#x518D;&#x69CB;&#x7BC9;&#x5F8C;&#x306B;&#x5909;&#x5316;&#x3059;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;elastic-ip&#xFF08;&#x9759;&#x7684;ip&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#xFF09;">&#x30FB;Elastic IP&#xFF08;&#x9759;&#x7684;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#xFF09;</h4>
<p>&#x9759;&#x7684;&#x306A;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3067;&#xFF0C;&#x518D;&#x69CB;&#x7BC9;&#x5F8C;&#x3082;&#x4FDD;&#x6301;&#x3055;&#x308C;&#x308B;&#xFF0E;</p>
<p><br></p>
<h3 id="internet-gateway&#xFF0C;nat-gateway">Internet Gateway&#xFF0C;NAT Gateway</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/InternetGateway&#x3068;NATGateway.png" alt="InternetGateway&#x3068;NATGateway"></p>
<h4 id="&#x30FB;internet-gateway&#x3068;&#x306F;">&#x30FB;Internet Gateway&#x3068;&#x306F;</h4>
<p>VPC&#x306E;&#x51FA;&#x5165;&#x308A;&#x53E3;&#x306B;&#x8A2D;&#x7F6E;&#x3055;&#x308C;&#xFF0C;&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x3068;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x9593;&#xFF08;&#x3053;&#x3053;&#x3067;&#x306F;VPC&#xFF09;&#x306B;&#x304A;&#x3051;&#x308B;NAT&#xFF08;&#x9759;&#x7684;NAT&#xFF09;&#x306E;&#x6A5F;&#x80FD;&#x3092;&#x6301;&#x3064;&#xFF0E;&#x4E00;&#x3064;&#x306E;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IP&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;&#x4E00;&#x3064;&#x306E;EC2&#x306E;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;IP&#x3092;&#x7D10;&#x3065;&#x3051;&#x3089;&#x308C;&#x308B;&#xFF0E;&#x8A73;&#x3057;&#x304F;&#x306F;&#xFF0C;&#x5225;&#x30CE;&#x30FC;&#x30C8;&#x306E;NAT&#xFF08;&#x9759;&#x7684;NAT&#xFF09;&#x3092;&#x53C2;&#x7167;&#x305B;&#x3088;&#xFF0E;</p>
<h4 id="&#x30FB;nat-gateway&#x3068;&#x306F;">&#x30FB;NAT Gateway&#x3068;&#x306F;</h4>
<p>NAPT&#xFF08;&#x52D5;&#x7684;NAT&#xFF09;&#x306E;&#x6A5F;&#x80FD;&#x3092;&#x6301;&#x3064;&#xFF0E;&#x4E00;&#x3064;&#x306E;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IP&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;&#x8907;&#x6570;&#x306E;EC2&#x306E;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;IP&#x3092;&#x7D10;&#x3065;&#x3051;&#x3089;&#x308C;&#x308B;&#xFF0E;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;subnet&#x306B;&#x7F6E;&#x304D;&#xFF0C;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;Subnet&#x306E;EC2&#x304B;&#x3089;&#x306E;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3092;&#x53D7;&#x3051;&#x4ED8;&#x3051;&#x308B;&#xFF0E;&#x8A73;&#x3057;&#x304F;&#x306F;&#xFF0C;&#x5225;&#x30CE;&#x30FC;&#x30C8;&#x306E;NAPT&#xFF08;&#x52D5;&#x7684;NAT&#xFF09;&#x3092;&#x53C2;&#x7167;&#x305B;&#x3088;&#xFF0E;</p>
<h4 id="&#x30FB;&#x6BD4;&#x8F03;&#x8868;">&#x30FB;&#x6BD4;&#x8F03;&#x8868;</h4>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:left">Internet Gateway</th>
<th style="text-align:left">NAT Gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>&#x6A5F;&#x80FD;</strong></td>
<td style="text-align:left">&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x3068;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x9593;&#xFF08;&#x3053;&#x3053;&#x3067;&#x306F;VPC&#xFF09;&#x306B;&#x304A;&#x3051;&#x308B;NAT&#xFF08;&#x9759;&#x7684;NAT&#xFF09;</td>
<td style="text-align:left">NAPT&#xFF08;&#x52D5;&#x7684;NAT&#xFF09;</td>
</tr>
<tr>
<td style="text-align:left"><strong>&#x8A2D;&#x7F6E;&#x5834;&#x6240;</strong></td>
<td style="text-align:left">VPC&#x4E0A;</td>
<td style="text-align:left">&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;subnet&#x5185;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="route-table&#xFF08;-&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x30C6;&#x30FC;&#x30D6;&#x30EB;&#xFF09;">Route Table&#xFF08;= &#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x30C6;&#x30FC;&#x30D6;&#x30EB;&#xFF09;</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;.png" alt="&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;"></p>
<h4 id="&#x30FB;&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;&#x3068;&#x306F;">&#x30FB;&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;&#x3068;&#x306F;</h4>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30EB;&#x30FC;&#x30BF;&#x306E;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x30C6;&#x30FC;&#x30D6;&#x30EB;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;&#x30EB;&#x30FC;&#x30BF;&#x306B;&#x3064;&#x3044;&#x3066;&#x306F;&#xFF0C;&#x5225;&#x30CE;&#x30FC;&#x30C8;&#x306E;NAT&#x3068;NAPT&#x3092;&#x53C2;&#x7167;&#x305B;&#x3088;&#xFF0E;</p>
<table>
<thead>
<tr>
<th style="text-align:center">Destination&#xFF08;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;IP&#x306E;&#x7BC4;&#x56F2;&#xFF09;</th>
<th style="text-align:center">Target</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>xx.x.x.x/xx</code></td>
<td style="text-align:center">Destination&#x306E;&#x7BC4;&#x56F2;&#x5185;&#x3060;&#x3063;&#x305F;&#x5834;&#x5408;&#x306E;&#x9001;&#x4FE1;&#x5148;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;&#x306E;&#x7A2E;&#x985E;">&#x30FB;&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;&#x306E;&#x7A2E;&#x985E;</h4>
<table>
<thead>
<tr>
<th>&#x7A2E;&#x985E;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30E1;&#x30A4;&#x30F3;&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;</td>
<td>VPC&#x306E;&#x69CB;&#x7BC9;&#x6642;&#x306B;&#x81EA;&#x52D5;&#x3067;&#x69CB;&#x7BC9;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x3069;&#x306E;&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;&#x306B;&#x3082;&#x95A2;&#x9023;&#x4ED8;&#x3051;&#x3089;&#x308C;&#x3066;&#x3044;&#x306A;&#x3044;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30AB;&#x30B9;&#x30BF;&#x30E0;&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;</td>
<td>&#x7279;&#x5B9A;&#x306E;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x5177;&#x4F53;&#x4F8B;1">&#x30FB;&#x5177;&#x4F53;&#x4F8B;1</h4>
<p>&#x4E0A;&#x306E;&#x56F3;&#x4E2D;&#x3067;&#xFF0C;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;2&#x306B;&#x306F;&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;1&#x304C;&#x95A2;&#x9023;&#x3065;&#x3051;&#x3089;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;2&#x5185;&#x306E;EC2&#x306E;&#x9001;&#x4FE1;&#x5148;&#x306E;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304C;&#xFF0C;<code>10.0.0.0/16</code>&#x306E;&#x7BC4;&#x56F2;&#x5185;&#x306B;&#x3042;&#x308C;&#x3070;&#xFF0C;&#x30A4;&#x30F3;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x3068;&#x898B;&#x306A;&#x3057;&#xFF0C;local&#xFF08;VPC&#x5185;&#x306E;&#x4ED6;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#xFF09;&#x3092;&#x9001;&#x4FE1;&#x5148;&#x306B;&#x9078;&#x3073;&#xFF0C;&#x7BC4;&#x56F2;&#x5916;&#x306B;&#x3042;&#x308C;&#x3070;&#x901A;&#x4FE1;&#x3092;&#x7834;&#x68C4;&#x3059;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th style="text-align:center">Destination&#xFF08;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;&#xFF09;</th>
<th style="text-align:center">Target</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>10.0.0.0/16</code></td>
<td style="text-align:center">local</td>
</tr>
<tr>
<td style="text-align:center">&#x6307;&#x5B9A;&#x7BC4;&#x56F2;&#x4EE5;&#x5916;&#x306E;&#x5834;&#x5408;</td>
<td style="text-align:center">&#x901A;&#x4FE1;&#x7834;&#x68C4;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x5177;&#x4F53;&#x4F8B;2">&#x30FB;&#x5177;&#x4F53;&#x4F8B;2</h4>
<p>&#x4E0A;&#x306E;&#x56F3;&#x4E2D;&#x3067;&#xFF0C;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;3&#x306B;&#x306F;&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;2&#x304C;&#x95A2;&#x9023;&#x3065;&#x3051;&#x3089;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;3&#x5185;&#x306E;EC2&#x306E;&#x9001;&#x4FE1;&#x5148;&#x306E;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304C;&#xFF0C;<code>10.0.0.0/16</code>&#x306E;&#x7BC4;&#x56F2;&#x5185;&#x306B;&#x3042;&#x308C;&#x3070;&#xFF0C;&#x30A4;&#x30F3;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x3068;&#x898B;&#x306A;&#x3057;&#xFF0C;local&#xFF08;VPC&#x5185;&#x306E;&#x4ED6;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#xFF09;&#x3092;&#x9001;&#x4FE1;&#x5148;&#x306B;&#x9078;&#x3073;&#xFF0C;<code>0.0.0.0/0</code>&#xFF08;local&#x4EE5;&#x5916;&#x306E;&#x5168;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#xFF09;&#x306E;&#x7BC4;&#x56F2;&#x5185;&#x306B;&#x3042;&#x308C;&#x3070;&#xFF0C;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x3068;&#x898B;&#x306A;&#x3057;&#xFF0C;&#x30A4;&#x30F3;&#x30BF;&#x30FC;&#x30CD;&#x30C3;&#x30C8;&#x30B2;&#x30FC;&#x30C8;&#x30A6;&#x30A7;&#x30A4;&#x3092;&#x9001;&#x4FE1;&#x5148;&#x306B;&#x9078;&#x3076;&#xFF0E;</p>
<table>
<thead>
<tr>
<th style="text-align:center">Destination&#xFF08;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;&#xFF09;</th>
<th style="text-align:center">Target</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>10.0.0.0/16</code></td>
<td style="text-align:center">local</td>
</tr>
<tr>
<td style="text-align:center"><code>0.0.0.0/0</code></td>
<td style="text-align:center">Internet Gateway</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="network-acl&#xFF1A;network-access--control-list">Network ACL&#xFF1A;Network Access  Control List</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;ACL.png" alt="&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;ACL"></p>
<h4 id="&#x30FB;network-acl&#x3068;&#x306F;">&#x30FB;Network ACL&#x3068;&#x306F;</h4>
<p>&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306E;&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30D1;&#x30B1;&#x30C3;&#x30C8;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30EA;&#x30F3;&#x30B0;&#x578B;&#x30D5;&#x30A1;&#x30A4;&#x30A2;&#x30A6;&#x30A9;&#x30FC;&#x30EB;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;&#x3068;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306E;&#x9593;&#x306B;&#x8A2D;&#x7F6E;&#x3055;&#x308C;&#xFF0C;&#x53CC;&#x65B9;&#x5411;&#x306E;&#x30A4;&#x30F3;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x30EB;&#x30FC;&#x30EB;&#x3068;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x30EB;&#x30FC;&#x30EB;&#x3092;&#x6C7A;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;acl&#x30EB;&#x30FC;&#x30EB;">&#x30FB;ACL&#x30EB;&#x30FC;&#x30EB;</h4>
<p>&#x30EB;&#x30FC;&#x30EB;&#x306F;&#x4E0A;&#x304B;&#x3089;&#x9806;&#x306B;&#x9069;&#x7528;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x4F8B;&#x3048;&#x3070;&#xFF0C;&#x30A4;&#x30F3;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x30EB;&#x30FC;&#x30EB;&#x304C;&#x4EE5;&#x4E0B;&#x3060;&#x3063;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x30EB;&#x30FC;&#x30EB;100&#x304C;&#x6700;&#x521D;&#x306B;&#x9069;&#x7528;&#x3055;&#x308C;&#xFF0C;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306B;&#x5BFE;&#x3059;&#x308B;&#xFF0C;&#x5168;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#xFF08;<code>0.0.0.0/0</code>&#xFF09;&#x304B;&#x3089;&#x306E;&#x30A4;&#x30F3;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x3092;&#x8A31;&#x53EF;&#x3057;&#x3066;&#x3044;&#x308B;&#x3053;&#x3068;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x30EB;&#x30FC;&#x30EB; #</th>
<th>&#x30BF;&#x30A4;&#x30D7;</th>
<th>&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;</th>
<th>&#x30DD;&#x30FC;&#x30C8;&#x7BC4;&#x56F2; / ICMP &#x30BF;&#x30A4;&#x30D7;</th>
<th>&#x30BD;&#x30FC;&#x30B9;</th>
<th>&#x8A31;&#x53EF; / &#x62D2;&#x5426;</th>
</tr>
</thead>
<tbody>
<tr>
<td>100</td>
<td>&#x3059;&#x3079;&#x3066;&#x306E; &#x30C8;&#x30E9;&#x30D5;&#x30A3;&#x30C3;&#x30AF;</td>
<td>&#x3059;&#x3079;&#x3066;</td>
<td>&#x3059;&#x3079;&#x3066;</td>
<td>0.0.0.0/0</td>
<td>ALLOW</td>
</tr>
<tr>
<td>*</td>
<td>&#x3059;&#x3079;&#x3066;&#x306E; &#x30C8;&#x30E9;&#x30D5;&#x30A3;&#x30C3;&#x30AF;</td>
<td>&#x3059;&#x3079;&#x3066;</td>
<td>&#x3059;&#x3079;&#x3066;</td>
<td>0.0.0.0/0</td>
<td>DENY</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="vpc-subnet">VPC subnet</h3>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x306B;&#x304A;&#x3051;&#x308B;&#x30BB;&#x30B0;&#x30E1;&#x30F3;&#x30C8;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;subnet&#x3068;&#x306F;">&#x30FB;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;subnet&#x3068;&#x306F;</h4>
<p>&#x975E;&#x6B66;&#x88C5;&#x5730;&#x5E2F;&#x306B;&#x76F8;&#x5F53;&#x3059;&#x308B;&#xFF0E;&#x653B;&#x6483;&#x306E;&#x5F71;&#x97FF;&#x304C;&#x5185;&#x90E8;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x306B;&#x5E83;&#x304C;&#x308B;&#x53EF;&#x80FD;&#x6027;&#x3092;&#x9632;&#x3050;&#x305F;&#x3081;&#x306B;&#xFF0C;&#x5916;&#x90E8;&#x304B;&#x3089;&#x76F4;&#x63A5;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x53D7;&#x3051;&#x308B;&#xFF0C;</p>
<h4 id="&#x30FB;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;subnet&#x3068;&#x306F;">&#x30FB;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;subnet&#x3068;&#x306F;</h4>
<p>&#x5185;&#x90E8;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x306B;&#x76F8;&#x5F53;&#x3059;&#x308B;&#xFF0E;&#x5916;&#x90E8;&#x304B;&#x3089;&#x76F4;&#x63A5;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x53D7;&#x3051;&#x305A;&#x306B;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3092;&#x8FD4;&#x305B;&#x308B;&#x3088;&#x3046;&#x306B;&#xFF0C;&#x5185;&#x306E;NAT&#x3092;&#x7D4C;&#x7531;&#x3055;&#x305B;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x3068;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306E;&#x8A2D;&#x8A08;.png" alt="&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x3068;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306E;&#x8A2D;&#x8A08;"></p>
<h4 id="&#x30FB;&#x540C;&#x4E00;vpc&#x5185;&#x306E;&#x5404;aws&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x5272;&#x308A;&#x5F53;&#x3066;&#x308B;&#x6700;&#x4F4E;&#x9650;&#x306E;ip&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x6570;">&#x30FB;&#x540C;&#x4E00;VPC&#x5185;&#x306E;&#x5404;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x5272;&#x308A;&#x5F53;&#x3066;&#x308B;&#x6700;&#x4F4E;&#x9650;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x6570;</h4>
<p>&#x4E00;&#x3064;&#x306E;VPC&#x5185;&#x306B;&#x306F;&#x8907;&#x6570;&#x306E;Subnet&#x304C;&#x5165;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x305F;&#x3081;&#xFF0C;Subnet&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;&#x306F;&#xFF0C;Subnet&#x306E;&#x500B;&#x6570;&#x3060;&#x3051;&#x72ED;&#x3081;&#x306A;&#x3051;&#x308C;&#x3070;&#x306A;&#x3089;&#x306A;&#x3044;&#xFF0E;&#x307E;&#x305F;&#xFF0C;VPC&#x304C;&#x3082;&#x3064;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;&#x304B;&#x3089;&#xFF0C;VPC&#x5185;&#x306E;&#x5404;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3066;&#x3044;&#x304B;&#x306A;&#x3051;&#x308C;&#x3070;&#x306A;&#x3089;&#x306A;&#x3044;&#xFF0E;VPC&#x5185;&#x3067;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304C;&#x67AF;&#x6E07;&#x3057;&#x306A;&#x3044;&#x3088;&#x3046;&#x306B;&#xFF0C;&#x3000;&#x4EE5;&#x4E0B;&#x306E;&#x624B;&#x9806;&#x3067;&#xFF0C;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3092;&#x8003;&#x3048;&#x308B;&#xFF0E;</p>
<ol>
<li>rfc1918 &#x306B;&#x6E96;&#x62E0;&#x3057;&#xFF0C;VPC&#x306B;&#x4EE5;&#x4E0B;&#x306E;&#x7BC4;&#x56F2;&#x5185;&#x3067;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x5272;&#x308A;&#x5F53;&#x3066;&#x308B;&#xFF0E;</li>
</ol>
<table>
<thead>
<tr>
<th>IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;</th>
<th>&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x30DE;&#x30B9;&#x30AF;&#xFF08;CIDR&#x5F62;&#x5F0F;&#xFF09;</th>
<th>&#x7BC4;&#x56F2;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>10.0.0.0</code>  ~ <code>10.255.255.255</code></td>
<td><code>/8</code></td>
<td><code>10.0.0.0/8</code></td>
</tr>
<tr>
<td><code>172.16.0.0</code> ~ <code>172.31.255.255</code></td>
<td><code>/12</code></td>
<td><code>172.16.0.0/12</code></td>
</tr>
<tr>
<td><code>192.168.0.0</code> ~ <code>192.168.255.255</code></td>
<td><code>/16</code></td>
<td><code>192.168.0.0/16</code></td>
</tr>
</tbody>
</table>
<ol>
<li>VPC&#x5185;&#x306E;&#x5404;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;&#x3092;&#x5272;&#x308A;&#x5F53;&#x3066;&#x308B;&#xFF0E;</li>
</ol>
<table>
<thead>
<tr>
<th>AWS&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x306E;&#x7A2E;&#x985E;</th>
<th>&#x6700;&#x4F4E;&#x9650;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x6570;</th>
</tr>
</thead>
<tbody>
<tr>
<td>ALB</td>
<td>ALB1&#x3064;&#x5F53;&#x305F;&#x308A;&#xFF0C;8&#x500B;</td>
</tr>
<tr>
<td>&#x30AA;&#x30FC;&#x30C8;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;</td>
<td>&#x6C34;&#x5E73;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x6642;&#x306E;EC2&#x6700;&#x5927;&#x6570;&#x3068;&#x540C;&#x3058;&#x500B;&#x6570;</td>
</tr>
<tr>
<td>VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;</td>
<td>VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;1&#x3064;&#x5F53;&#x305F;&#x308A;&#xFF0C;1&#x500B;</td>
</tr>
<tr>
<td>ECS</td>
<td>Elastic Network Interface &#x6570;&#x3068;&#x540C;&#x3058;&#x500B;&#x6570;</td>
</tr>
<tr>
<td>Lambda</td>
<td>Elastic Network Interface &#x6570;&#x3068;&#x540C;&#x3058;&#x500B;&#x6570;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;subnet&#x306E;&#x7A2E;&#x985E;">&#x30FB;Subnet&#x306E;&#x7A2E;&#x985E;</h4>
<p>Subnet&#x306B;&#x306F;&#xFF0C;&#x5F79;&#x5272;&#x3054;&#x3068;&#x306B;&#x3044;&#x304F;&#x3064;&#x304B;&#x7A2E;&#x985E;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x540D;&#x524D;</th>
<th>&#x5F79;&#x5272;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Public subnet (Frontend Subnet)</td>
<td>NATGateway&#x3092;&#x914D;&#x7F6E;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Private app subnet</td>
<td>&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#xFF0C;Nginx&#x306A;&#x3069;&#x3092;&#x914D;&#x7F6E;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Private datastore subnet</td>
<td>RDS&#xFF0C;Redis&#x306A;&#x3069;&#x3092;&#x914D;&#x7F6E;&#x3059;&#x308B;</td>
</tr>
</tbody>
</table>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/Subnet&#x306E;&#x7A2E;&#x985E;.png" alt="Subnet&#x306E;&#x7A2E;&#x985E;"></p>
<p><br></p>
<h3 id="vpc&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#xFF08;private-link&#xFF09;">VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#xFF08;Private Link&#xFF09;</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;.png" alt="VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;"></p>
<h4 id="&#x30FB;vpc&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3068;&#x306F;">&#x30FB;VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3068;&#x306F;</h4>
<p>NAT Gateway&#x3092;&#x4F7F;&#x7528;&#x305B;&#x305A;&#x306B;&#xFF0C;VPC&#x306E;&#x5916;&#x5074;&#x3068;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x306A;&#x901A;&#x4FE1;&#x3092;&#x884C;&#x3046;&#x6A5F;&#x80FD;&#xFF0E;</p>
<table>
<thead>
<tr>
<th></th>
<th>&#x30E1;&#x30EA;&#x30C3;&#x30C8;</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>NAT Gateway&#x3092;&#x901A;&#x904E;&#x3057;&#x306A;&#x3044;&#x305F;&#x3081;&#xFF0C;&#x6599;&#x91D1;&#x304C;&#x5C11;&#x3057;&#x3060;&#x3051;&#x5B89;&#x304F;&#x306A;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>2</td>
<td>&#x30A4;&#x30F3;&#x30BF;&#x30FC;&#x30CD;&#x30C3;&#x30C8;&#x30B2;&#x30FC;&#x30C8;&#x30A6;&#x30A7;&#x30A4;&#x3092;&#x901A;&#x904E;&#x3057;&#x306A;&#x3044;&#x305F;&#x3081;&#xFF0C;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x306A;&#x901A;&#x4FE1;&#x304C;&#x30BB;&#x30AD;&#x30E5;&#x30A2;&#x306B;&#x306A;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="vpc&#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;&#x63A5;&#x7D9A;">VPC&#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;&#x63A5;&#x7D9A;</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/VPC&#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;&#x63A5;&#x7D9A;.png" alt="VPC&#x30D2;&#x309A;&#x30A2;&#x30EA;&#x30F3;&#x30AF;&#x3099;&#x63A5;&#x7D9A;"></p>
<h4 id="&#x30FB;vpc&#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;&#x63A5;&#x7D9A;&#x3068;&#x306F;">&#x30FB;VPC&#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;&#x63A5;&#x7D9A;&#x3068;&#x306F;</h4>
<p>&#x7570;&#x306A;&#x308B;VPC&#x306B;&#x3042;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x9593;&#x3067;&#xFF0C;&#x76F8;&#x4E92;&#x306B;&#x30C7;&#x30FC;&#x30BF;&#x901A;&#x4FE1;&#x3092;&#x884C;&#x3046;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;vpc&#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;&#x63A5;&#x7D9A;&#x304C;&#x3067;&#x304D;&#x306A;&#x3044;&#x5834;&#x5408;">&#x30FB;VPC&#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;&#x63A5;&#x7D9A;&#x304C;&#x3067;&#x304D;&#x306A;&#x3044;&#x5834;&#x5408;</h4>
<table>
<thead>
<tr>
<th>&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;</th>
<th>VPC&#x306E;&#x3042;&#x308B;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;</th>
<th>VPC&#x5185;&#x306E;CIDR&#x30D6;&#x30ED;&#x30C3;&#x30AF;</th>
<th>&#x63A5;&#x7D9A;&#x306E;&#x53EF;&#x5426;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x540C;&#x3058;&#xFF0F;&#x7570;&#x306A;&#x308B;</td>
<td>&#x540C;&#x3058;&#xFF0F;&#x7570;&#x306A;&#x308B;</td>
<td>&#x5168;&#x3066;&#x7570;&#x306A;&#x308B;</td>
<td><strong>&#x3007;</strong></td>
</tr>
<tr>
<td></td>
<td></td>
<td>&#x540C;&#x3058;&#x3082;&#x306E;&#x304C;&#x4E00;&#x3064;&#x3067;&#x3082;&#x3042;&#x308B;</td>
<td>&#x2715;</td>
</tr>
</tbody>
</table>
<p>VPC &#x306B;&#x8907;&#x6570;&#x306E; IPv4 CIDR &#x30D6;&#x30ED;&#x30C3;&#x30AF;&#x304C;&#x3042;&#x308A;&#xFF0C;&#x4E00;&#x3064;&#x3067;&#x3082; &#x540C;&#x3058;CIDR &#x30D6;&#x30ED;&#x30C3;&#x30AF;&#x304C;&#x3042;&#x308B;&#x5834;&#x5408;&#x306F;&#x3001;VPC &#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;&#x63A5;&#x7D9A;&#x306F;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/VPC&#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;&#x63A5;&#x7D9A;&#x4E0D;&#x53EF;&#x306E;&#x5834;&#x5408;-1.png" alt="VPC&#x30D2;&#x309A;&#x30A2;&#x30EA;&#x30F3;&#x30AF;&#x3099;&#x63A5;&#x7D9A;&#x4E0D;&#x53EF;&#x306E;&#x5834;&#x5408;-1"></p>
<p>&#x305F;&#x3068;&#x3048;&#xFF0C;IPv6&#x304C;&#x7570;&#x306A;&#x3063;&#x3066;&#x3044;&#x3066;&#x3082;&#xFF0C;&#x540C;&#x69D8;&#x3067;&#x3042;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/VPC&#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;&#x63A5;&#x7D9A;&#x4E0D;&#x53EF;&#x306E;&#x5834;&#x5408;-2.png" alt="VPC&#x30D2;&#x309A;&#x30A2;&#x30EA;&#x30F3;&#x30AF;&#x3099;&#x63A5;&#x7D9A;&#x4E0D;&#x53EF;&#x306E;&#x5834;&#x5408;-2"></p>
<h2 id="06-&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x30A4;&#x30F3;&#x30C6;&#x30B0;&#x30EC;&#x30FC;&#x30B7;&#x30E7;&#x30F3;">06. &#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x30A4;&#x30F3;&#x30C6;&#x30B0;&#x30EC;&#x30FC;&#x30B7;&#x30E7;&#x30F3;</h2>
<h3 id="sqs&#xFF1A;simple-queue-service">SQS&#xFF1A;Simple Queue Service</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/AmazonSQS&#x3068;&#x306F;.jpeg" alt="AmazonSQS&#x3068;&#x306F;"></p>
<h4 id="&#x30FB;sqs&#x3068;&#x306F;">&#x30FB;SQS&#x3068;&#x306F;</h4>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x30AD;&#x30E5;&#x30FC;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;&#x7570;&#x306A;&#x308B;VPC&#x9593;&#x3067;&#x3082;&#xFF0C;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x30AD;&#x30E5;&#x30FC;&#x3092;&#x540C;&#x671F;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30B5;&#x30FC;&#x30D0;&#x3067;&#x751F;&#x6210;&#x3055;&#x308C;&#x305F;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x306F;&#xFF0C;&#x4E00;&#x65E6;SQS&#x306B;&#x8FFD;&#x52A0;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x306B;&#x3088;&#x3063;&#x3066;&#x30D0;&#x30C3;&#x30C1;&#x304C;&#x5B9F;&#x884C;&#x3055;&#x308C;&#xFF0C;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x304C;&#x53D6;&#x308A;&#x51FA;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x5F8C;&#xFF0C;&#x4F8B;&#x3048;&#x3070;&#xFF0C;&#x30D0;&#x30C3;&#x30C1;&#x51E6;&#x7406;&#x306B;&#x3088;&#x3063;&#x3066;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x304B;&#x3089;&#x30C7;&#x30FC;&#x30BF;&#x304C;&#x53D6;&#x308A;&#x51FA;&#x3055;&#x308C;&#x3066;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x751F;&#x6210;&#x3055;&#x308C;&#xFF0C;S3&#x306B;&#x4FDD;&#x5B58;&#x3055;&#x308C;&#x308B;&#x3088;&#x3046;&#x306A;&#x51E6;&#x7406;&#x304C;&#x7D9A;&#x304F;&#xFF0E;</p>
<h4 id="&#x30FB;sqs&#x306E;&#x7A2E;&#x985E;">&#x30FB;SQS&#x306E;&#x7A2E;&#x985E;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30B9;&#x30BF;&#x30F3;&#x30C0;&#x30FC;&#x30C9;&#x65B9;&#x5F0F;</td>
<td></td>
</tr>
<tr>
<td>FIFO&#x65B9;&#x5F0F;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="sns&#xFF1A;simple-notification-service">SNS&#xFF1A;Simple Notification Service</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/SNS&#x3068;&#x306F;.png" alt="SNS&#x3068;&#x306F;"></p>
<h4 id="&#x30FB;sns&#x3068;&#x306F;">&#x30FB;SNS&#x3068;&#x306F;</h4>
<p>&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30B7;&#x30E3;&#x30FC;&#x304B;&#x3089;&#x767A;&#x4FE1;&#x3055;&#x308C;&#x305F;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x3092;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3067;&#x53D7;&#x4FE1;&#x3057;&#xFF0C;&#x30B5;&#x30D6;&#x30B9;&#x30AF;&#x30E9;&#x30A4;&#x30D0;&#x30FC;&#x306B;&#x8EE2;&#x9001;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30C8;&#x30D4;&#x30C3;&#x30AF;</td>
<td>&#x8907;&#x6570;&#x306E;&#x30B5;&#x30D6;&#x30B9;&#x30AF;&#x30EA;&#x30D7;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x5316;&#x3057;&#x305F;&#x3082;&#x306E;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30B5;&#x30D6;&#x30B9;&#x30AF;&#x30EA;&#x30D7;&#x30B7;&#x30E7;&#x30F3;</td>
<td>&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3067;&#x53D7;&#x4FE1;&#x3059;&#x308B;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x306E;&#x7A2E;&#x985E;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30B5;&#x30D6;&#x30B9;&#x30AF;&#x30EA;&#x30D7;&#x30B7;&#x30E7;&#x30F3;">&#x30FB;&#x30B5;&#x30D6;&#x30B9;&#x30AF;&#x30EA;&#x30D7;&#x30B7;&#x30E7;&#x30F3;</h4>
<table>
<thead>
<tr>
<th>&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x306E;&#x7A2E;&#x985E;</th>
<th>&#x8EE2;&#x9001;&#x5148;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>HTTPS</td>
<td>&#x4EFB;&#x610F;&#x306E;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;</td>
<td>Chatbot&#x306E;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x306F;&#x300C;<code>https://global.sns-api.chatbot.amazonaws.com</code>&#x300D;</td>
</tr>
<tr>
<td>E&#x30E1;&#x30FC;&#x30EB;</td>
<td>&#x4EFB;&#x610F;&#x306E;&#x30E1;&#x30FC;&#x30EB;&#x30A2;&#x30C9;&#x30EC;&#x30B9;</td>
<td></td>
</tr>
<tr>
<td>JSON&#x5F62;&#x5F0F;&#x306E;&#x30E1;&#x30FC;&#x30EB;</td>
<td>&#x4EFB;&#x610F;&#x306E;&#x30E1;&#x30FC;&#x30EB;&#x30A2;&#x30C9;&#x30EC;&#x30B9;</td>
<td></td>
</tr>
<tr>
<td>SQS</td>
<td>SQS</td>
<td></td>
</tr>
<tr>
<td>Lambda</td>
<td>Lambda</td>
<td></td>
</tr>
<tr>
<td>SMS</td>
<td>SMS</td>
</tr>
</tbody>
</table>
<p><br></p>
<h2 id="07-&#x7BA1;&#x7406;&#xFF0C;&#x30AC;&#x30D0;&#x30CA;&#x30F3;&#x30B9;">07. &#x7BA1;&#x7406;&#xFF0C;&#x30AC;&#x30D0;&#x30CA;&#x30F3;&#x30B9;</h2>
<h3 id="&#x30AA;&#x30FC;&#x30C8;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;">&#x30AA;&#x30FC;&#x30C8;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;</h3>
<h4 id="&#x30FB;&#x30AA;&#x30FC;&#x30C8;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x3068;&#x306F;">&#x30FB;&#x30AA;&#x30FC;&#x30C8;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x3068;&#x306F;</h4>
<p>AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x81EA;&#x52D5;&#x6C34;&#x5E73;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x3092;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x5B9F;&#x884C;&#x3059;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/Auto-scaling.png" alt="Auto-scaling"></p>
<h4 id="&#x30FB;&#x8D77;&#x52D5;&#x8A2D;&#x5B9A;">&#x30FB;&#x8D77;&#x52D5;&#x8A2D;&#x5B9A;</h4>
<p>&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x306E;&#x5BFE;&#x8C61;&#x3068;&#x306A;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x5B9A;&#x7FA9;&#x3059;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;">&#x30FB;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</h4>
<p>&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x306E;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x69CB;&#x6210;&#x3092;&#x5B9A;&#x7FA9;&#x3059;&#x308B;&#xFF0E;&#x5404;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3067;&#x6700;&#x5927;&#x6700;&#x5C0F;&#x5FC5;&#x8981;&#x6570;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<p>&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x306E;&#x65B9;&#x6CD5;&#x3092;&#x5B9A;&#x7FA9;&#x3059;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x7A2E;&#x985E;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30B7;&#x30F3;&#x30D7;&#x30EB;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;</td>
<td>&#x7279;&#x5B9A;&#x306E;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x306B;&#x5358;&#x4E00;&#x306E;&#x95BE;&#x5024;&#x3092;&#x8A2D;&#x5B9A;&#x3057;&#xFF0C;&#x305D;&#x308C;&#x306B;&#x5FDC;&#x3058;&#x3066;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x3092;&#x884C;&#x3046;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30B9;&#x30C6;&#x30C3;&#x30D7;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;</td>
<td>&#x7279;&#x5B9A;&#x306E;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x306B;&#x6BB5;&#x968E;&#x7684;&#x306A;&#x95BE;&#x5024;&#x3092;&#x8A2D;&#x5B9A;&#x3057;&#xFF0C;&#x305D;&#x308C;&#x306B;&#x5FDC;&#x3058;&#x3066;&#x6BB5;&#x968E;&#x7684;&#x306B;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x3092;&#x5B9F;&#x884C;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#xFF08;&#x4F8B;&#xFF09;CPU&#x5E73;&#x5747;&#x4F7F;&#x7528;&#x7387;&#x306B;&#x6BB5;&#x968E;&#x7684;&#x306A;&#x95BE;&#x5024;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;<br>&#x30FB;40%&#x306E;&#x6642;&#x306B;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x304C;&#xFF11;&#x3064;&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A2;&#x30A6;&#x30C8;<br>&#x30FB;70%&#x306E;&#x6642;&#x306B;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3092;&#xFF12;&#x3064;&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A2;&#x30A6;&#x30C8;<br>&#x30FB;90%&#x306E;&#x6642;&#x306B;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3092;&#xFF13;&#x3064;&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A2;&#x30A6;&#x30C8;</td>
</tr>
<tr>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x8FFD;&#x8DE1;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;</td>
<td>&#x7279;&#x5B9A;&#x306E;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#xFF08;CPU&#x5E73;&#x5747;&#x4F7F;&#x7528;&#x7387;&#x3084;Memory&#x5E73;&#x5747;&#x4F7F;&#x7528;&#x7387;&#xFF09;&#x306B;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x5024;&#x3092;&#x8A2D;&#x5B9A;&#x3057;&#xFF0C;&#x305D;&#x308C;&#x306B;&#x53CE;&#x675F;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A4;&#x30F3;&#x3068;&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A2;&#x30A6;&#x30C8;&#x3092;&#x5B9F;&#x884C;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x5024;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x4F8B;<br>&#x30FB;ECS&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x306E;&#x30BF;&#x30B9;&#x30AF;&#x6570;<br>&#x30FB;RDS&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x306E;Aurora&#x306E;&#x30EA;&#x30FC;&#x30C9;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x6570;<br>&#x30FB;Lambda&#x306E;&#x30B9;&#x30AF;&#x30EA;&#x30D7;&#x30C8;&#x540C;&#x6642;&#x5B9F;&#x884C;&#x6570;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="chatbot">Chatbot</h3>
<h4 id="&#x30FB;chatbot&#x3068;&#x306F;">&#x30FB;Chatbot&#x3068;&#x306F;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/Chatbot&#x3068;SNS&#x306E;&#x9023;&#x643A;.png" alt="Chatbot&#x3068;SNS&#x306E;&#x9023;&#x643A;"></p>
<p>SNS&#x3092;&#x7D4C;&#x7531;&#x3057;&#x3066;&#xFF0C;CloudWatch&#x304B;&#x3089;&#x306E;&#x901A;&#x77E5;&#x3092;&#x30C1;&#x30E3;&#x30C3;&#x30C8;&#x30A2;&#x30D7;&#x30EA;&#x306B;&#x8EE2;&#x9001;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#xFF0E;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x3092;Slack&#x3068;&#x3057;&#x305F;&#x5834;&#x5408;&#x306E;&#x8A2D;&#x5B9A;&#x3092;&#x4EE5;&#x4E0B;&#x306B;&#x793A;&#x3059;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Slack&#x30C1;&#x30E3;&#x30F3;&#x30CD;&#x30EB;</td>
<td>&#x901A;&#x77E5;&#x306E;&#x8EE2;&#x9001;&#x5148;&#x306E;Slack&#x30C1;&#x30E3;&#x30F3;&#x30CD;&#x30EB;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x8A31;&#x53EF;</td>
<td>SNS&#x3092;&#x4ECB;&#x3057;&#x3066;&#xFF0C;CloudWatch&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x305F;&#x3081;&#x306E;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>SNS&#x30C8;&#x30D4;&#x30C3;&#x30AF;</td>
<td>CloudWatch&#x3078;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x6642;&#x7D4C;&#x7531;&#x3059;&#x308B;&#xFF0C;SNS&#x30C8;&#x30D4;&#x30C3;&#x30AF;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="cloudtrail">CloudTrail</h3>
<h4 id="&#x30FB;cloudtrail&#x3068;&#x306F;">&#x30FB;CloudTrail&#x3068;&#x306F;</h4>
<p>IAM&#x30E6;&#x30FC;&#x30B6;&#x306B;&#x3088;&#x308B;&#x64CD;&#x4F5C;&#x3084;&#xFF0C;&#x30ED;&#x30FC;&#x30EB;&#x306E;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x306E;&#x5C65;&#x6B74;&#x3092;&#x8A18;&#x9332;&#x3057;&#xFF0C;&#x30ED;&#x30B0;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3068;&#x3057;&#x3066;S3&#x306B;&#x8EE2;&#x9001;&#x3059;&#x308B;&#xFF0E;CloudWatch&#x3068;&#x9023;&#x643A;&#x3059;&#x308B;&#x3053;&#x3068;&#x3082;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/CloudTrail&#x3068;&#x306F;.jpeg" alt="CloudTrail&#x3068;&#x306F;"></p>
<p><br></p>
<h2 id="07-02-&#x7BA1;&#x7406;&#xFF0C;&#x30AC;&#x30D0;&#x30CA;&#x30F3;&#x30B9;&#xFF5C;cloudwatch">07-02. &#x7BA1;&#x7406;&#xFF0C;&#x30AC;&#x30D0;&#x30CA;&#x30F3;&#x30B9;&#xFF5C;CloudWatch</h2>
<h3 id="cloudwatch">CloudWatch</h3>
<h4 id="&#x30FB;aws-cli">&#x30FB;AWS-CLI</h4>
<p><strong>&#xFF0A;&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x4F8B;&#xFF0A;</strong></p>
<pre><code class="lang-bash"><span class="hljs-comment"># CloudWatch&#x306E;&#x30A2;&#x30E9;&#x30FC;&#x30E0;&#x306E;&#x72B6;&#x614B;&#x3092;&#x5909;&#x66F4;&#x3059;&#x308B;&#xFF0E;</span>
aws cloudwatch <span class="hljs-built_in">set</span>-alarm-state --alarm-name <span class="hljs-string">&quot;Alarm&#x540D;&quot;</span> --state-value ALARM --state-reason <span class="hljs-string">&quot;&#x30A2;&#x30E9;&#x30FC;&#x30E0;&#x6587;&#x8A00;&quot;</span>
</code></pre>
<p><br></p>
<h3 id="cloudwatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;">CloudWatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;</h3>
<h4 id="&#x30FB;cloudwatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x3068;&#x306F;">&#x30FB;CloudWatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x3068;&#x306F;</h4>
<p>EC2&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x5185;&#x3067;&#x767A;&#x751F;&#x3057;&#x305F;&#x30C7;&#x30FC;&#x30BF;&#x3092;&#x53CE;&#x96C6;&#x3057;&#xFF0C;CloudWatch&#x306B;&#x5BFE;&#x3057;&#x3066;&#x30D7;&#x30C3;&#x30B7;&#x30E5;&#x3059;&#x308B;&#x5E38;&#x99D0;&#x30B7;&#x30B9;&#x30C6;&#x30E0;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<h4 id="&#x30FB;cloudwatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x306E;&#x8A2D;&#x5B9A;">&#x30FB;CloudWatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x306E;&#x8A2D;&#x5B9A;</h4>
<p>CloudWatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x306F;&#xFF0C;<code>/opt/aws/amazon-cloudwatch-agent/bin/config.json</code>&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x5B9A;&#x7FA9;&#x3092;&#x5143;&#x306B;&#xFF0C;&#x5B9F;&#x884C;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x8A2D;&#x5B9A;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306F;&#xFF0C;&#x5206;&#x5272;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x30BB;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x7A2E;&#x985E;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>agent</code>&#x30BB;&#x30AF;&#x30B7;&#x30E7;&#x30F3;</td>
<td>CloudWatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x5168;&#x4F53;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x30A6;&#x30A3;&#x30B6;&#x30FC;&#x30C9;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x3053;&#x306E;&#x30BB;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x8A2D;&#x5B9A;&#x306F;&#x30B9;&#x30AD;&#x30C3;&#x30D7;&#x3055;&#x308C;&#x308B;&#xFF0E;<br>&#x30FB;&#x5B9F;&#x88C5;&#x3057;&#x306A;&#x304B;&#x3063;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x5024;&#x304C;&#x9069;&#x7528;&#x3055;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td><code>metrics</code>&#x30BB;&#x30AF;&#x30B7;&#x30E7;&#x30F3;</td>
<td></td>
<td>&#x30FB;&#x30A6;&#x30A3;&#x30B6;&#x30FC;&#x30C9;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x3053;&#x306E;&#x30BB;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x8A2D;&#x5B9A;&#x306F;&#x30B9;&#x30AD;&#x30C3;&#x30D7;&#x3055;&#x308C;&#x308B;&#xFF0E;<br>&#x30FB;&#x5B9F;&#x88C5;&#x3057;&#x306A;&#x304B;&#x3063;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x4F55;&#x3082;&#x8A2D;&#x5B9A;&#x3055;&#x308C;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td><code>logs</code>&#x30BB;&#x30AF;&#x30B7;&#x30E7;&#x30F3;</td>
<td></td>
</tr>
</tbody>
</table>
<p>&#x8A2D;&#x5B9A;&#x5F8C;&#xFF0C;<code>amazon-cloudwatch-agent-ctl</code>&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x3067;&#x8A2D;&#x5B9A;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x8AAD;&#x307F;&#x8FBC;&#x307E;&#x305B;&#x308B;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x4F8B;&#xFF0A;</strong></p>
<pre><code class="lang-bash"><span class="hljs-comment"># EC2&#x5185;&#x306B;&#x3042;&#x308B;&#x8A2D;&#x5B9A;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#xFF0C;CloudWatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x306B;&#x8AAD;&#x307F;&#x8FBC;&#x307E;&#x305B;&#x308B;&#xFF08;&#x518D;&#x8D77;&#x52D5;&#x3092;&#x542B;&#x3080;&#xFF09;</span>
$ /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-ctl <span class="hljs-_">-a</span> fetch-config -m ec2 <span class="hljs-_">-s</span> -c file:/opt/aws/amazon-cloudwatch-agent/bin/config.json

<span class="hljs-comment"># &#x30D7;&#x30ED;&#x30BB;&#x30B9;&#x306E;&#x30B9;&#x30C6;&#x30FC;&#x30BF;&#x30B9;&#x3092;&#x78BA;&#x8A8D;</span>
$ /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-ctl -m ec2 <span class="hljs-_">-a</span> status
</code></pre>
<pre><code class="lang-bash"><span class="hljs-comment"># &#x8A2D;&#x5B9A;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x8AAD;&#x307F;&#x8FBC;&#x307E;&#x308C;&#x305F;&#x304B;&#x3092;&#x78BA;&#x8A8D;</span>

<span class="hljs-comment">### CloudWatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x306E;&#x30D7;&#x30ED;&#x30BB;&#x30B9;&#x306E;&#x30ED;&#x30B0;&#x30D5;&#x30A1;&#x30A4;&#x30EB;</span>
$ tail <span class="hljs-_">-f</span> /opt/aws/amazon-cloudwatch-agent/logs/amazon-cloudwatch-agent.log

<span class="hljs-comment">### &#x8A2D;&#x5B9A;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x69CB;&#x6587;&#x30C1;&#x30A7;&#x30C3;&#x30AF;&#x306E;&#x30ED;&#x30B0;&#x30D5;&#x30A1;&#x30A4;&#x30EB;</span>
$ tail <span class="hljs-_">-f</span> /opt/aws/amazon-cloudwatch-agent/logs/configuration-validation.log

<span class="hljs-comment">### OS&#x8D77;&#x52D5;&#x6642;&#x306B;&#x30C7;&#x30FC;&#x30E2;&#x30F3;&#x304C;&#x7A3C;&#x50CD;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x8A2D;&#x5B9A;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#x304B;&#x3092;&#x78BA;&#x8A8D;</span>
$ systemctl list-unit-files --type=service
</code></pre>
<h4 id="&#x30FB;log&#x30BB;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x307F;&#x306E;&#x5834;&#x5408;">&#x30FB;log&#x30BB;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x307F;&#x306E;&#x5834;&#x5408;</h4>
<p>CloudWatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x3066;&#xFF0C;CloudWatch&#x306B;&#x30ED;&#x30B0;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x30D7;&#x30C3;&#x30B7;&#x30E5;&#x3059;&#x308B;&#x3060;&#x3051;&#x3067;&#x3042;&#x308C;&#x3070;&#xFF0C;&#x8A2D;&#x5B9A;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#xFF08;<code>/opt/aws/amazon-cloudwatch-agent/bin/config.json</code>&#xFF09;&#x306B;&#x306F;<code>log</code>&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x307F;&#x306E;&#x5B9F;&#x88C5;&#x3067;&#x826F;&#x3044;&#xFF0E;<code>run_as_user</code>&#x306B;&#x306F;&#xFF0C;&#x30D7;&#x30ED;&#x30BB;&#x30B9;&#x306E;&#x30E6;&#x30FC;&#x30B6;&#x540D;&#xFF08;&#x4F8B;&#xFF1A;<code>cwagent</code>&#xFF09;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;agent&quot;</span>: {
    <span class="hljs-string">&quot;run_as_user&quot;</span>: <span class="hljs-string">&quot;cwagent&quot;</span>
  },
  <span class="hljs-string">&quot;logs&quot;</span>: {
    <span class="hljs-string">&quot;logs_collected&quot;</span>: {
      <span class="hljs-string">&quot;files&quot;</span>: {
        <span class="hljs-string">&quot;collect_list&quot;</span>: [
          {
            <span class="hljs-string">&quot;file_path&quot;</span>: <span class="hljs-string">&quot;/var/log/nginx/error.log&quot;</span>,
            <span class="hljs-string">&quot;log_group_name&quot;</span>: <span class="hljs-string">&quot;/example-www/var/log/nginx/error_log&quot;</span>,
            <span class="hljs-string">&quot;log_stream_name&quot;</span>: <span class="hljs-string">&quot;{instance_id}&quot;</span>
          },
          {
            <span class="hljs-string">&quot;file_path&quot;</span>: <span class="hljs-string">&quot;/var/log/php-fpm/error.log&quot;</span>,
            <span class="hljs-string">&quot;log_group_name&quot;</span>: <span class="hljs-string">&quot;/example-www/var/log/php-fpm/error_log&quot;</span>,
            <span class="hljs-string">&quot;log_stream_name&quot;</span>: <span class="hljs-string">&quot;{instance_id}&quot;</span>
          }
        ]
      }
    }
  }
}
</code></pre>
<p><br></p>
<h3 id="cloudwatch-logs">CloudWatch Logs</h3>
<h4 id="&#x30FB;cloudwatch-logs&#x3068;&#x306F;">&#x30FB;CloudWatch Logs&#x3068;&#x306F;</h4>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30ED;&#x30B0;&#x30B5;&#x30FC;&#x30D0;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;&#x69D8;&#x3005;&#x306A;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3067;&#x751F;&#x6210;&#x3055;&#x308C;&#x305F;&#x30ED;&#x30B0;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x53CE;&#x96C6;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30ED;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</td>
<td>&#x30ED;&#x30B0;&#x30B9;&#x30C8;&#x30EA;&#x30FC;&#x30E0;&#x3092;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x5316;&#x3057;&#x3066;&#x53CE;&#x96C6;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x57FA;&#x672C;&#x7684;&#x306B;&#xFF0C;&#x30ED;&#x30B0;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306F;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x5316;&#x305B;&#x305A;&#x306B;&#xFF0C;&#x4E00;&#x3064;&#x306E;&#x30ED;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x306F;&#x4E00;&#x3064;&#x306E;&#x30ED;&#x30B0;&#x30B9;&#x30C8;&#x30EA;&#x30FC;&#x30E0;&#x3057;&#x304B;&#x542B;&#x307E;&#x308C;&#x306A;&#x3044;&#x3088;&#x3046;&#x306B;&#x3059;&#x308B;&#xFF0E;&#x305F;&#x3060;&#x3057;&#xFF0C;EC2&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3092;&#x5197;&#x9577;&#x5316;&#x3057;&#x3042;&#x3070;&#x3042;</td>
</tr>
<tr>
<td>&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30FC;</td>
<td>&#x7D10;&#x3065;&#x304F;&#x30ED;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3067;&#xFF0C;&#x51FA;&#x73FE;&#x3092;&#x76E3;&#x8996;&#x3059;&#x308B;&#x6587;&#x5B57;&#x5217;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30B5;&#x30D6;&#x30B9;&#x30AF;&#x30EA;&#x30D7;&#x30B7;&#x30E7;&#x30F3;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30FC;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Logs Insights</td>
<td>&#x30AF;&#x30A8;&#x30EA;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x3066;&#x30ED;&#x30B0;&#x3092;&#x62BD;&#x51FA;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30FC;&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;">&#x30FB;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30FC;&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30FC;&#x30D1;&#x30BF;&#x30FC;&#x30F3;</td>
<td>&#x7D10;&#x3065;&#x304F;&#x30ED;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3067;&#xFF0C;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x5024;&#x5897;&#x52A0;&#x306E;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x3068;&#x3059;&#x308B;&#x6587;&#x5B57;&#x5217;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x5927;&#x6587;&#x5B57;&#x3068;&#x5C0F;&#x6587;&#x5B57;&#x3092;&#x533A;&#x5225;&#x3059;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x7DB2;&#x7F85;&#x7684;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x540D;&#x524D;&#x7A7A;&#x9593;</td>
<td>&#x7D10;&#x3065;&#x304F;&#x30ED;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x304C;&#x5C5E;&#x3059;&#x308B;&#x540D;&#x524D;&#x7A7A;&#x9593;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;CloudWatchLogs&#x304C;&#xFF0C;&#x8A2D;&#x5B9A;&#x3057;&#x305F;&#x540D;&#x524D;&#x7A7A;&#x9593;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;&#x5024;&#x3092;&#x767A;&#x884C;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;</td>
<td>&#x7D10;&#x3065;&#x304F;&#x30ED;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x304C;&#x5C5E;&#x3059;&#x308B;&#x540D;&#x524D;&#x7A7A;&#x9593;&#x5185;&#x306E;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;CloudWatchLogs&#x304C;&#xFF0C;&#x8A2D;&#x5B9A;&#x3057;&#x305F;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;&#x5024;&#x3092;&#x767A;&#x884C;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x5024;</td>
<td>&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30FC;&#x30D1;&#x30BF;&#x30FC;&#x30F3;&#x3067;&#x6587;&#x5B57;&#x5217;&#x304C;&#x691C;&#x51FA;&#x3055;&#x308C;&#x305F;&#x6642;&#x306B;&#xFF0C;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x306B;&#x5BFE;&#x3057;&#x3066;&#x767A;&#x884C;&#x3059;&#x308B;&#x5024;&#x306E;&#x3053;&#x3068;&#xFF0E;</td>
<td>&#x4F8B;&#x3048;&#x3070;&#x300C;&#x691C;&#x51FA;&#x6570;&#x300D;&#x3092;&#x767A;&#x884C;&#x3059;&#x308B;&#x5834;&#x5408;&#x306F;&#xFF0C;&#x300C;&#xFF11;&#x300D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30FC;&#x30D1;&#x30BF;&#x30FC;&#x30F3;&#x306E;&#x30C6;&#x30F3;&#x30D7;&#x30EC;&#x30FC;&#x30C8;">&#x30FB;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30FC;&#x30D1;&#x30BF;&#x30FC;&#x30F3;&#x306E;&#x30C6;&#x30F3;&#x30D7;&#x30EC;&#x30FC;&#x30C8;</h4>
<pre><code># OR&#x6761;&#x4EF6;&#x3067;&#x5927;&#x6587;&#x5B57;&#x5C0F;&#x6587;&#x5B57;&#x3092;&#x8003;&#x616E;&#x3057;&#xFF0C;&#x300C;XXXXX:&#x300D;&#x3092;&#x691C;&#x51FA;
?&quot;WARNING:&quot; ?&quot;Warning:&quot; ?&quot;ERROR:&quot; ?&quot;Error:&quot; ?&quot;CRITICAL:&quot; ?&quot;Critical:&quot; ?&quot;EMERGENCY:&quot; ?&quot;Emergency:&quot; ?&quot;ALERT:&quot; ?&quot;Alert:&quot;
</code></pre><pre><code># OR&#x6761;&#x4EF6;&#x3067;&#x5927;&#x6587;&#x5B57;&#x5C0F;&#x6587;&#x5B57;&#x3092;&#x8003;&#x616E;&#x3057;&#xFF0C;&#x300C;XXXXX message&#x300D;&#x3092;&#x691C;&#x51FA;
?&quot;WARNING message&quot; ?&quot;Warning message&quot; ?&quot;ERROR message&quot; ?&quot;Error message&quot; ?&quot;CRITICAL message&quot; ?&quot;Critical message&quot; ?&quot;EMERGENCY message&quot; ?&quot;Emergency message&quot; ?&quot;ALERT message&quot; ?&quot;Alert message&quot;
</code></pre><h4 id="&#x30FB;&#x540D;&#x524D;&#x7A7A;&#x9593;&#xFF0C;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#xFF0C;&#x30C7;&#x30A3;&#x30E1;&#x30F3;&#x30B7;&#x30E7;&#x30F3;&#x3068;&#x306F;">&#x30FB;&#x540D;&#x524D;&#x7A7A;&#x9593;&#xFF0C;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#xFF0C;&#x30C7;&#x30A3;&#x30E1;&#x30F3;&#x30B7;&#x30E7;&#x30F3;&#x3068;&#x306F;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/&#x540D;&#x524D;&#x7A7A;&#x9593;&#xFF0C;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#xFF0C;&#x30C7;&#x30A3;&#x30E1;&#x30F3;&#x30B7;&#x30E7;&#x30F3;.png" alt="&#x540D;&#x524D;&#x7A7A;&#x9593;&#xFF0C;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#xFF0C;&#x30C7;&#x30A3;&#x30E1;&#x30F3;&#x30B7;&#x30E7;&#x30F3;"></p>
<h4 id="&#x30FB;cloudwatchlogs&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x306E;&#x8A2D;&#x5B9A;&#xFF08;&#x975E;&#x63A8;&#x5968;&#xFF09;">&#x30FB;CloudWatchLogs&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x306E;&#x8A2D;&#x5B9A;&#xFF08;&#x975E;&#x63A8;&#x5968;&#xFF09;</h4>
<p>2020/10/05&#x73FE;&#x5728;&#x306F;&#x975E;&#x63A8;&#x5968;&#x3067;&#xFF0C;CloudWatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x3078;&#x306E;&#x8A2D;&#x5B9A;&#x306E;&#x79FB;&#x884C;&#x304C;&#x63A8;&#x5968;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<p>conf&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#xFF0C;EC2&#x5185;&#x306E;<code>etc</code>&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x4E0B;&#x306B;&#x8A2D;&#x7F6E;&#x3059;&#x308B;&#xFF0E;</p>
<pre><code>#############################
# /var/awslogs/awscli.conf
#############################

[plugins]
cwlogs = cwlogs
[default]
region = ap-northeast-1
</code></pre><p>OS&#xFF0C;&#x30DF;&#x30C9;&#x30EB;&#x30A6;&#x30A7;&#x30A2;&#xFF0C;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#xFF0C;&#x306E;&#x5404;&#x5C64;&#x3067;&#x30ED;&#x30B0;&#x3092;&#x53CE;&#x96C6;&#x3059;&#x308B;&#x306E;&#x304C;&#x3088;&#x3044;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<pre><code>#############################
# /var/awslogs/awslogs.conf
#############################

# ------------------------------------------
# CentOS CloudWatch Logs
# ------------------------------------------
[/var/log/messages]

# &#x30BF;&#x30A4;&#x30E0;&#x30B9;&#x30BF;&#x30F3;&#x30D7;
#&#xFF08;&#x4F8B;&#xFF09;Jan 1 00:00:00
datetime_format = %b %d %H:%M:%S
#&#xFF08;&#x4F8B;&#xFF09;2020-01-01 00:00:00
# datetime_format = %Y-%m-%d %H:%M:%S

# &#x53CE;&#x96C6;&#x3057;&#x305F;&#x3044;&#x30ED;&#x30B0;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#xFF0E;&#x3053;&#x3053;&#x3067;&#x306F;&#xFF0C;CentOS&#x306E;&#x30ED;&#x30B0;&#x3092;&#x6307;&#x5B9A;&#xFF0E;
file = /var/log/messages

# &#x8981;&#x52C9;&#x5F37;
buffer_duration = 5000
initial_position = start_of_file

# &#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;ID
log_stream_name = {instance_id}

# AWS&#x4E0A;&#x3067;&#x7BA1;&#x7406;&#x3059;&#x308B;&#x30ED;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x540D;
log_group_name = /var/log/messages

# ------------------------------------------
# Nginx CloudWatch Logs
# ------------------------------------------
[/var/log/nginx/error.log]
file             = /var/log/nginx/error.log
buffer_duration  = 5000
log_stream_name  = {instance_id}
initial_position = start_of_file
log_group_name   = /var/log/nginx/error_log.production

# ------------------------------------------
# Application CloudWatch Logs
# ------------------------------------------
[/var/www/project/app/storage/logs/laravel.log]
file             = /var/www/project/app/storage/logs/laravel.log
buffer_duration  = 5000
log_stream_name  = {instance_id}
initial_position = start_of_file
log_group_name   = /var/www/project/app/storage/logs/laravel_log.production
</code></pre><p>&#x8A2D;&#x5B9A;&#x5F8C;&#xFF0C;<code>awslogs</code>&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x3067;&#x30D7;&#x30ED;&#x30BB;&#x30B9;&#x3092;&#x8D77;&#x52D5;&#x3059;&#x308B;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x4F8B;&#xFF0A;</strong></p>
<pre><code class="lang-bash"><span class="hljs-comment"># CloudWatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x306E;&#x518D;&#x8D77;&#x52D5;</span>
<span class="hljs-comment"># &#x6CE8;&#x610F;: restart&#x3060;&#x3068;CloudWatch&#x306B;&#x53CD;&#x6620;&#x3055;&#x308C;&#x306A;&#x3044;&#x6642;&#x304C;&#x3042;&#x308B;&#xFF0E;</span>
$ service awslogs restart

<span class="hljs-comment"># &#x3082;&#x3057;&#x304F;&#x306F;</span>
$ service awslogs stop
$ service awslogs start

<span class="hljs-comment"># &#x30ED;&#x30B0;&#x304C;&#x65B0;&#x3057;&#x304F;&#x751F;&#x6210;&#x3055;&#x308C;&#x306A;&#x3044;&#x3068;&#x5909;&#x66F4;&#x304C;&#x9069;&#x7528;&#x3055;&#x308C;&#x306A;&#x3044;&#x3053;&#x3068;&#x304C;&#x3042;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x30ED;&#x30B0;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306B;&#x9069;&#x5F53;&#x306A;&#x6587;&#x5B57;&#x5217;&#x884C;&#x3092;&#x5897;&#x3084;&#x3057;&#x3066;&#x307F;&#x308B;&#xFF0E;</span>
</code></pre>
<p><br></p>
<h3 id="cloudwatch-events">CloudWatch Events</h3>
<h4 id="&#x30FB;cloudwatch-events&#x3068;&#x306F;">&#x30FB;CloudWatch Events&#x3068;&#x306F;</h4>
<p>&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x3092;&#x691C;&#x77E5;&#x3057;&#xFF0C;&#x6307;&#x5B9A;&#x3057;&#x305F;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x884C;&#x3046;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x4F8B;</th>
<th></th>
<th>&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x4F8B;</th>
</tr>
</thead>
<tbody>
<tr>
<td>ECS&#x30BF;&#x30B9;&#x30AF;&#x30B9;&#x30B1;&#x30B8;&#x30E5;&#x30FC;&#x30EB;&#x6A5F;&#x80FD;&#x306E;&#x6709;&#x52B9;&#x5316;</td>
<td>&#x21D2;</td>
<td>&#x6C7A;&#x3081;&#x3089;&#x308C;&#x305F;&#x6642;&#x9593;&#x306B;&#x30B9;&#x30B1;&#x30B8;&#x30E5;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x6A5F;&#x80FD;&#x3092;&#x767A;&#x706B;</td>
</tr>
<tr>
<td>API&#x306E;&#x30B3;&#x30FC;&#x30EB;</td>
<td>&#x21D2;</td>
<td>Lambda&#x306B;&#x3088;&#x308B;&#x95A2;&#x6570;&#x306E;&#x5B9F;&#x884C;</td>
</tr>
<tr>
<td>AWS&#x30B3;&#x30F3;&#x30BD;&#x30FC;&#x30EB;&#x3078;&#x306E;&#x30ED;&#x30B0;&#x30A4;&#x30F3;</td>
<td>&#x21D2;</td>
<td>SQS&#x306B;&#x3088;&#x308B;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x306E;&#x683C;&#x7D0D;</td>
</tr>
<tr>
<td>&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306E;&#x72B6;&#x614B;&#x5909;&#x5316;</td>
<td>&#x21D2;</td>
<td>SNS&#x306B;&#x3088;&#x308B;&#x30E1;&#x30FC;&#x30EB;&#x901A;&#x77E5;</td>
</tr>
<tr>
<td>...</td>
<td>&#x21D2;</td>
<td>...</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="cloudwatch-alarm">CloudWatch Alarm</h3>
<p><br></p>
<h2 id="08-&#x958B;&#x767A;&#x8005;&#x7528;&#x30C4;&#x30FC;&#x30EB;">08. &#x958B;&#x767A;&#x8005;&#x7528;&#x30C4;&#x30FC;&#x30EB;</h2>
<h3 id="codedeploy">CodeDeploy</h3>
<h4 id="&#x30FB;codedeploy&#x3068;&#x306F;">&#x30FB;CodeDeploy&#x3068;&#x306F;</h4>
<h4 id="&#x30FB;appspec&#x30D5;&#x30A1;&#x30A4;&#x30EB;">&#x30FB;appspec&#x30D5;&#x30A1;&#x30A4;&#x30EB;</h4>
<p>&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x306E;&#x8A2D;&#x5B9A;&#x3092;&#x884C;&#x3046;&#xFF0E;</p>
<pre><code class="lang-yaml"><span class="hljs-attr">version:</span> <span class="hljs-number">0.0</span>

<span class="hljs-attr">Resources:</span>
<span class="hljs-attr">  - TargetService:</span>
      <span class="hljs-comment"># &#x4F7F;&#x7528;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;</span>
<span class="hljs-attr">      Type:</span> AWS::ECS::Service
<span class="hljs-attr">      Properties:</span>
        <span class="hljs-comment"># &#x4F7F;&#x7528;&#x3059;&#x308B;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#xFF0E;&lt;TASK_DEFINITION&gt; &#x3068;&#x3059;&#x308B;&#x3068;&#xFF0C;&#x81EA;&#x52D5;&#x88DC;&#x5B8C;&#x3057;&#x3066;&#x304F;&#x308C;&#x308B;&#xFF0E;</span>
<span class="hljs-attr">        TaskDefinition:</span> <span class="hljs-string">&quot;&lt;TASK_DEFINITION&gt;&quot;</span>
        <span class="hljs-comment"># &#x4F7F;&#x7528;&#x3059;&#x308B;&#x30ED;&#x30FC;&#x30C9;&#x30D0;&#x30E9;&#x30F3;&#x30B5;&#x30FC;</span>
<span class="hljs-attr">        LoadBalancerInfo:</span>
<span class="hljs-attr">          ContainerName:</span> <span class="hljs-string">&quot;xxx-container&quot;</span>
<span class="hljs-attr">          ContainerPort:</span> <span class="hljs-string">&quot;80&quot;</span>
</code></pre>
<h4 id="&#x30FB;&#x30E9;&#x30A4;&#x30D5;&#x30B5;&#x30A4;&#x30AF;&#x30EB;&#x30A4;&#x30D9;&#x30F3;&#x30C8;">&#x30FB;&#x30E9;&#x30A4;&#x30D5;&#x30B5;&#x30A4;&#x30AF;&#x30EB;&#x30A4;&#x30D9;&#x30F3;&#x30C8;</h4>
<p><br></p>
<h2 id="09-&#x30AB;&#x30B9;&#x30BF;&#x30DE;&#x30FC;&#x30A8;&#x30F3;&#x30B2;&#x30FC;&#x30B8;&#x30E1;&#x30F3;&#x30C8;&#xFF5C;ses">09. &#x30AB;&#x30B9;&#x30BF;&#x30DE;&#x30FC;&#x30A8;&#x30F3;&#x30B2;&#x30FC;&#x30B8;&#x30E1;&#x30F3;&#x30C8;&#xFF5C;SES</h2>
<h3 id="ses&#xFF1A;simple-email-service">SES&#xFF1A;Simple Email Service</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/SES&#x3068;&#x306F;.png" alt="SES&#x3068;&#x306F;"></p>
<h4 id="&#x30FB;ses&#x3068;&#x306F;">&#x30FB;SES&#x3068;&#x306F;</h4>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30E1;&#x30FC;&#x30EB;&#x30B5;&#x30FC;&#x30D0;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;&#x30E1;&#x30FC;&#x30EB;&#x53D7;&#x4FE1;&#x3092;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x3068;&#x3057;&#x3066;&#xFF0C;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x5B9F;&#x884C;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Domain</td>
<td>SES&#x306E;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x8A2D;&#x5B9A;&#x3057;&#x305F;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x306B;&#x306F;&#xFF0C;&#x300C;<code>10 inbound-smtp.us-east-1.amazonaws.com</code>&#x300D;&#x3068;&#x3044;&#x3046;MX&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x30BF;&#x30A4;&#x30D7;&#x306E;&#x5024;&#x304C;&#x7D10;&#x3065;&#x304F;&#xFF0E;</td>
</tr>
<tr>
<td>Email Addresses</td>
<td>&#x9001;&#x4FE1;&#x5148;&#x3068;&#x3057;&#x3066;&#x8A8D;&#x8A3C;&#x3059;&#x308B;&#x30E1;&#x30FC;&#x30EB;&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x3068;AWS&#x304B;&#x3089;&#x30E1;&#x30FC;&#x30EB;&#x304C;&#x5C4A;&#x304F;&#x306E;&#x3067;&#xFF0C;&#x6307;&#x5B9A;&#x3055;&#x308C;&#x305F;&#x30EA;&#x30F3;&#x30AF;&#x3092;&#x30AF;&#x30EA;&#x30C3;&#x30AF;&#x3059;&#x308B;&#xFF0E;</td>
<td>Sandbox&#x30E2;&#x30FC;&#x30C9;&#x306E;&#x6642;&#x3060;&#x3051;&#x6A5F;&#x80FD;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Sending Statistics</td>
<td>SES&#x3067;&#x53CE;&#x96C6;&#x3055;&#x308C;&#x305F;&#x30C7;&#x30FC;&#x30BF;&#x3092;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x3067;&#x78BA;&#x8A8D;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
<td><code>Request Increased Sending Limits</code>&#x306E;&#x30EA;&#x30F3;&#x30AF;&#x306B;&#x3066;&#xFF0C;Sandbox&#x30E2;&#x30FC;&#x30C9;&#x306E;&#x89E3;&#x9664;&#x3092;&#x7533;&#x8ACB;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>SMTP Settings</td>
<td>SMTP-AUTH&#x306E;&#x63A5;&#x7D9A;&#x60C5;&#x5831;&#x3092;&#x78BA;&#x8A8D;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
<td>&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306E;25&#x756A;&#x30DD;&#x30FC;&#x30C8;&#x306F;&#x9001;&#x4FE1;&#x5236;&#x9650;&#x304C;&#x3042;&#x308B;&#x305F;&#x3081;&#xFF0C;465&#x756A;&#x3092;&#x4F7F;&#x7528;&#x3059;&#x308B;&#xFF0E;&#x3053;&#x308C;&#x306B;&#x5408;&#x308F;&#x305B;&#x3066;&#xFF0C;SES&#x3082;&#x53D7;&#x4FE1;&#x3067;465&#x756A;&#x30DD;&#x30FC;&#x30C8;&#x3092;&#x4F7F;&#x7528;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Rule Sets</td>
<td>&#x30E1;&#x30FC;&#x30EB;&#x306E;&#x53D7;&#x4FE1;&#x3057;&#x305F;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x3068;&#x3057;&#x3066;&#x5B9F;&#x884C;&#x3059;&#x308B;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>IP Address Filters</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;rule-sets">&#x30FB;Rule Sets</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Recipiet</td>
<td>&#x53D7;&#x4FE1;&#x3057;&#x305F;&#x30E1;&#x30FC;&#x30EB;&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3067;&#xFF0C;&#x4F55;&#x306E;&#x5B9B;&#x5148;&#x306E;&#x6642;&#x306B;&#x3053;&#x308C;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Actions</td>
<td>&#x53D7;&#x4FE1;&#x3092;&#x8A31;&#x53EF;&#x3057;&#x305F;&#x5F8C;&#x306B;&#xFF0C;&#x3053;&#x308C;&#x3092;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x3068;&#x3057;&#x3066;&#x5B9F;&#x884C;&#x3059;&#x308B;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x4ED5;&#x69D8;&#x4E0A;&#x306E;&#x5236;&#x7D04;">&#x4ED5;&#x69D8;&#x4E0A;&#x306E;&#x5236;&#x7D04;</h3>
<h4 id="&#x30FB;&#x69CB;&#x7BC9;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306E;&#x5236;&#x7D04;">&#x30FB;&#x69CB;&#x7BC9;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306E;&#x5236;&#x7D04;</h4>
<p>SES&#x306F;&#x9023;&#x643A;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3068;&#x540C;&#x3058;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306B;&#x69CB;&#x7BC9;&#x3057;&#x306A;&#x3051;&#x308C;&#x3070;&#x306A;&#x3089;&#x306A;&#x3044;&#xFF0E;</p>
<h4 id="&#x30FB;sandbox&#x30E2;&#x30FC;&#x30C9;&#x306E;&#x89E3;&#x9664;">&#x30FB;Sandbox&#x30E2;&#x30FC;&#x30C9;&#x306E;&#x89E3;&#x9664;</h4>
<p>SES&#x306F;&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x3067;&#x306F;Sandbox&#x30E2;&#x30FC;&#x30C9;&#x306B;&#x306A;&#x3063;&#x3066;&#x3044;&#x308B;&#xFF0E;Sandbox&#x30E2;&#x30FC;&#x30C9;&#x3067;&#x306F;&#x4EE5;&#x4E0B;&#x306E;&#x5236;&#x9650;&#x304C;&#x304B;&#x304B;&#x3063;&#x3066;&#x304A;&#x308A;&#xFF0E;&#x30B5;&#x30DD;&#x30FC;&#x30C8;&#x30BB;&#x30F3;&#x30BF;&#x30FC;&#x306B;&#x89E3;&#x9664;&#x7533;&#x8ACB;&#x304C;&#x5FC5;&#x8981;&#x3067;&#x3042;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x5236;&#x9650;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x9001;&#x4FE1;&#x5236;&#x9650;</td>
<td>SES&#x3067;&#x8A8D;&#x8A3C;&#x3057;&#x305F;&#x30E1;&#x30FC;&#x30EB;&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x307F;&#x306B;&#x9001;&#x4FE1;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x53D7;&#x4FE1;&#x5236;&#x9650;</td>
<td>1&#x65E5;&#x306B;200&#x30E1;&#x30FC;&#x30EB;&#x306E;&#x307F;&#x53D7;&#x4FE1;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="smtp-auth">SMTP-AUTH</h3>
<h4 id="&#x30FB;aws&#x306B;&#x304A;&#x3051;&#x308B;smtp-auth&#x306E;&#x4ED5;&#x7D44;&#x307F;">&#x30FB;AWS&#x306B;&#x304A;&#x3051;&#x308B;SMTP-AUTH&#x306E;&#x4ED5;&#x7D44;&#x307F;</h4>
<p>&#x4E00;&#x822C;&#x7684;&#x306A;SMTP-AUTH&#x3067;&#x306F;&#xFF0C;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x30E6;&#x30FC;&#x30B6;&#x306E;&#x8A8D;&#x8A3C;&#x304C;&#x5FC5;&#x8981;&#x3067;&#x3042;&#x308B;&#xFF0E;&#x540C;&#x69D8;&#x306B;&#x3057;&#x3066;&#xFF0C;AWS&#x306B;&#x304A;&#x3044;&#x3066;&#x3082;&#x3053;&#x308C;&#x304C;&#x5FC5;&#x8981;&#x3067;&#x3042;&#x308A;&#xFF0C;IAM&#x30E6;&#x30FC;&#x30B6;&#x3092;&#x7528;&#x3044;&#x3066;&#x3053;&#x308C;&#x3092;&#x5B9F;&#x73FE;&#x3059;&#x308B;&#xFF0E;&#x9001;&#x4FE1;&#x5143;&#x3068;&#x306A;&#x308B;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;IAM&#x30E6;&#x30FC;&#x30B6;&#x3092;&#x7D10;&#x4ED8;&#x3051;&#xFF0C;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x304C;SES&#x3092;&#x4ECB;&#x3057;&#x3066;&#x30E1;&#x30FC;&#x30EB;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x6642;&#xFF0C;IAM&#x30E6;&#x30FC;&#x30B6;&#x304C;&#x3082;&#x3064;&#x30E6;&#x30FC;&#x30B6;&#x540D;&#x3068;&#x30D1;&#x30B9;&#x30EF;&#x30FC;&#x30C9;&#x3092;&#x8A8D;&#x8A3C;&#x306B;&#x7528;&#x3044;&#x308B;&#xFF0E;&#x30E6;&#x30FC;&#x30B6;&#x540D;&#x3068;&#x30D1;&#x30B9;&#x30EF;&#x30FC;&#x30C9;&#x306F;&#x5F8C;&#x304B;&#x3089;&#x78BA;&#x8A8D;&#x3067;&#x304D;&#x306A;&#x3044;&#x305F;&#x3081;&#xFF0C;&#x30E1;&#x30E2;&#x3057;&#x3066;&#x304A;&#x304F;&#x3053;&#x3068;&#xFF0E;SMTP-AUTH&#x306E;&#x4ED5;&#x7D44;&#x307F;&#x306B;&#x3064;&#x3044;&#x3066;&#x306F;&#xFF0C;&#x5225;&#x30CE;&#x30FC;&#x30C8;&#x3092;&#x53C2;&#x7167;&#x305B;&#x3088;&#xFF0E;</p>
<p><br></p>
<h2 id="10-&#x30D3;&#x30B8;&#x30CD;&#x30B9;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;">10. &#x30D3;&#x30B8;&#x30CD;&#x30B9;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;</h2>
<h3 id="workmail">WorkMail</h3>
<h4 id="&#x30FB;workmail&#x3068;&#x306F;">&#x30FB;WorkMail&#x3068;&#x306F;</h4>
<p>AWS&#x304B;&#x3089;&#x63D0;&#x4F9B;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;Gmail&#xFF0C;&#x30B5;&#x30F3;&#x30C0;&#x30FC;&#x30D0;&#x30FC;&#x30C9;&#xFF0C;Yahoo&#x30E1;&#x30FC;&#x30EB;&#x306A;&#x3069;&#x3068;&#x540C;&#x985E;&#x306E;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Users</td>
<td>WorkMail&#x3067;&#x7BA1;&#x7406;&#x3059;&#x308B;&#x30E6;&#x30FC;&#x30B6;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>Domains</td>
<td>&#x30E6;&#x30FC;&#x30B6;&#x306B;&#x5272;&#x308A;&#x5F53;&#x3066;&#x308B;&#x30E1;&#x30FC;&#x30EB;&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td><code>@{&#x7D44;&#x7E54;&#x540D;}.awsapps.com</code>&#x3092;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3068;&#x3057;&#x3066;&#x3082;&#x3089;&#x3048;&#x308B;&#xFF0E;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x306E;&#x691C;&#x8A3C;&#x304C;&#x5B8C;&#x4E86;&#x3057;&#x305F;&#x72EC;&#x81EA;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x3053;&#x3068;&#x3082;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Access Controle rules</td>
<td>&#x53D7;&#x4FE1;&#x3059;&#x308B;&#x30E1;&#x30FC;&#x30EB;&#xFF0C;&#x53D7;&#x4FE1;&#x3092;&#x906E;&#x65AD;&#x3059;&#x308B;&#x30E1;&#x30FC;&#x30EB;&#xFF0C;&#x306E;&#x6761;&#x4EF6;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h2 id="11-&#x6697;&#x53F7;&#x5316;&#x3068;pki&#xFF5C;certificate-manager">11. &#x6697;&#x53F7;&#x5316;&#x3068;PKI&#xFF5C;Certificate Manager</h2>
<h3 id="certificate-manager">Certificate Manager</h3>
<h4 id="&#x30FB;certificate-manager&#x3068;&#x306F;">&#x30FB;Certificate Manager&#x3068;&#x306F;</h4>
<p>&#x8A8D;&#x8A3C;&#x5C40;&#x3067;&#x3042;&#x308B;ATS&#x306B;&#x3088;&#x3063;&#x3066;&#x8A8D;&#x8A3C;&#x3055;&#x308C;&#x305F;SSL&#x30B5;&#x30FC;&#x30D0;&#x8A3C;&#x660E;&#x66F8;&#x3092;&#x7BA1;&#x7406;&#x3067;&#x304D;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x81EA;&#x793E;&#x306E;&#x4E2D;&#x9593;&#x8A8D;&#x8A3C;&#x5C40;&#x540D;</th>
<th>&#x30EB;&#x30FC;&#x30C8;&#x8A8D;&#x8A3C;&#x5C40;&#x540D;</th>
</tr>
</thead>
<tbody>
<tr>
<td>ATS&#xFF1A;Amazon Trust Services</td>
<td>Starfield&#x793E;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;</td>
<td>&#x8A8D;&#x8A3C;&#x3092;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3059;&#x308B;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x691C;&#x8A3C;&#x306E;&#x65B9;&#x6CD5;</td>
<td>DNS&#x691C;&#x8A3C;&#x304B;Email&#x691C;&#x8A3C;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x306E;&#x627F;&#x8A8D;&#x65B9;&#x6CD5;">&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x306E;&#x627F;&#x8A8D;&#x65B9;&#x6CD5;</h3>
<h4 id="&#x30FB;dns&#x691C;&#x8A3C;">&#x30FB;DNS&#x691C;&#x8A3C;</h4>
<p>CNAME&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x30E9;&#x30F3;&#x30C0;&#x30E0;&#x30C8;&#x30FC;&#x30AF;&#x30F3;&#x3092;&#x7528;&#x3044;&#x3066;&#xFF0C;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x306E;&#x6240;&#x6709;&#x8005;&#x3067;&#x3042;&#x308B;&#x3053;&#x3068;&#x3092;&#x8A3C;&#x660E;&#x3059;&#x308B;&#x65B9;&#x6CD5;&#xFF0E;ACM&#x306B;&#x3088;&#x3063;&#x3066;&#x751F;&#x6210;&#x3055;&#x308C;&#x305F;CNAME&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x30E9;&#x30F3;&#x30C0;&#x30E0;&#x30C8;&#x30FC;&#x30AF;&#x30F3;&#x304C;&#x63D0;&#x4F9B;&#x3055;&#x308C;&#x308B;&#x306E;&#x3067;&#xFF0C;&#x3053;&#x308C;&#x3092;Route53&#x306B;&#x8A2D;&#x5B9A;&#x3057;&#x3066;&#x304A;&#x3051;&#x3070;&#xFF0C;ACM&#x304C;&#x3053;&#x308C;&#x3092;&#x691C;&#x8A3C;&#x3057;&#xFF0C;&#x8A3C;&#x660E;&#x66F8;&#x3092;&#x767A;&#x884C;&#x3057;&#x3066;&#x304F;&#x308C;&#x308B;&#xFF0E;</p>
<p><br></p>
<h3 id="&#x8A3C;&#x660E;&#x66F8;">&#x8A3C;&#x660E;&#x66F8;</h3>
<h4 id="&#x30FB;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<p>&#x8A31;&#x53EF;&#x3059;&#x308B;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3092;&#x5B9A;&#x7FA9;&#x3057;&#x305F;&#x30EB;&#x30FC;&#x30EB;&#x3053;&#x3068;&#xFF0E;SSL/TLS&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3092;&#x8A31;&#x53EF;&#x3057;&#x3066;&#x304A;&#x308A;&#xFF0C;&#x5BFE;&#x5FDC;&#x3067;&#x304D;&#x308B;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x304C;&#x7570;&#x306A;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x30D6;&#x30E9;&#x30A6;&#x30B6;&#x304C;&#x305D;&#x306E;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306E;SSL/TLS&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3092;&#x4F7F;&#x7528;&#x3067;&#x304D;&#x308B;&#x304B;&#x3092;&#x8A8D;&#x8B58;&#x3057;&#x3066;&#x304A;&#x304F;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th></th>
<th style="text-align:center">Policy-2016-08</th>
<th style="text-align:center">Policy-TLS-1-1</th>
<th style="text-align:center">Policy-TLS-1-2</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Protocol-TLSv1</strong></td>
<td style="text-align:center">&#x3007;</td>
<td style="text-align:center">&#x2715;</td>
<td style="text-align:center">&#x2715;</td>
</tr>
<tr>
<td><strong>Protocol-TLSv1.1</strong></td>
<td style="text-align:center">&#x3007;</td>
<td style="text-align:center">&#x3007;</td>
<td style="text-align:center">&#x2715;</td>
</tr>
<tr>
<td><strong>Protocol-TLSv1.2</strong></td>
<td style="text-align:center">&#x3007;</td>
<td style="text-align:center">&#x3007;</td>
<td style="text-align:center">&#x3007;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;ssl&#x30B5;&#x30FC;&#x30D0;&#x8A3C;&#x660E;&#x66F8;&#x306E;&#x7A2E;&#x985E;">&#x30FB;SSL&#x30B5;&#x30FC;&#x30D0;&#x8A3C;&#x660E;&#x66F8;&#x306E;&#x7A2E;&#x985E;</h4>
<p>DNS&#x691C;&#x8A3C;&#x307E;&#x305F;&#x306F;E&#x30E1;&#x30FC;&#x30EB;&#x691C;&#x8A3C;&#x306B;&#x3088;&#x3063;&#x3066;&#xFF0C;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x306E;&#x6240;&#x6709;&#x8005;&#x3067;&#x3042;&#x308B;&#x3053;&#x3068;&#x304C;&#x8A3C;&#x660E;&#x3055;&#x308C;&#x308B;&#x3068;&#xFF0C;&#x767A;&#x884C;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x8A3C;&#x660E;&#x66F8;&#x306F;&#xFF0C;PKI&#x306B;&#x3088;&#x308B;&#x516C;&#x958B;&#x9375;&#x691C;&#x8A3C;&#x306B;&#x7528;&#x3044;&#x3089;&#x308C;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A3C;&#x660E;&#x66F8;&#x306E;&#x7A2E;&#x985E;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30EF;&#x30A4;&#x30EB;&#x30C9;&#x30AB;&#x30FC;&#x30C9;&#x8A3C;&#x660E;&#x66F8;</td>
<td>&#x8A3C;&#x660E;&#x3059;&#x308B;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x306B;&#x30EF;&#x30A4;&#x30EB;&#x30C9;&#x30AB;&#x30FC;&#x30C9;&#x3092;&#x7528;&#x3044;&#x305F;&#x3082;&#x306E;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;ssl&#x30B5;&#x30FC;&#x30D0;&#x8A3C;&#x660E;&#x66F8;&#x306E;&#x8A2D;&#x7F6E;&#x5834;&#x6240;&#x30D1;&#x30BF;&#x30FC;&#x30F3;">&#x30FB;SSL&#x30B5;&#x30FC;&#x30D0;&#x8A3C;&#x660E;&#x66F8;&#x306E;&#x8A2D;&#x7F6E;&#x5834;&#x6240;&#x30D1;&#x30BF;&#x30FC;&#x30F3;</h4>
<p>AWS&#x306E;&#x4F7F;&#x7528;&#x4E0A;&#xFF0C;ACM&#x8A3C;&#x660E;&#x66F8;&#x3092;&#x8A2D;&#x7F6E;&#x3067;&#x304D;&#x306A;&#x3044;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x5BFE;&#x3057;&#x3066;&#x306F;&#xFF0C;&#x5916;&#x90E8;&#x306E;&#x8A3C;&#x660E;&#x66F8;&#x3092;&#x624B;&#x306B;&#x5165;&#x308C;&#x3066;&#x8A2D;&#x7F6E;&#x3059;&#x308B;&#xFF0E;HTTPS&#x306B;&#x3088;&#x308B;SSL&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3092;&#x53D7;&#x3051;&#x4ED8;&#x3051;&#x308B;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x306E;&#x6700;&#x7D42;&#x5730;&#x70B9;&#x306E;&#x3053;&#x3068;&#x3092;&#xFF0C;SSL&#x30BF;&#x30FC;&#x30DF;&#x30CD;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x3068;&#x3044;&#x3046;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x30D1;&#x30BF;&#x30FC;&#x30F3;<br>&#xFF08;Route53&#x306B;&#x306F;&#x5FC5;&#x305A;&#x8A2D;&#x7F6E;&#xFF09;</th>
<th>SSL&#x30BF;&#x30FC;&#x30DF;&#x30CD;&#x30FC;&#x30B7;&#x30E7;&#x30F3;<br>&#xFF08;HTTPS&#x306E;&#x6700;&#x7D42;&#x5730;&#x70B9;&#xFF09;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Route53 &#x2192; ALB(+ACM&#x8A3C;&#x660E;&#x66F8;) &#x2192; EC2</td>
<td>ALB</td>
<td></td>
</tr>
<tr>
<td>Route53 &#x2192; CloudFront(+ACM&#x8A3C;&#x660E;&#x66F8;) &#x2192; ALB(+ACM&#x8A3C;&#x660E;&#x66F8;) &#x2192; EC2</td>
<td>ALB</td>
<td>CloudFront&#x306F;&#x30D0;&#x30FC;&#x30B8;&#x30CB;&#x30A2;&#x5317;&#x90E8;&#x3067;&#xFF0C;&#x307E;&#x305F;ALB&#x306F;&#x6771;&#x4EAC;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x3067;&#xFF0C;&#x8A3C;&#x660E;&#x66F8;&#x3092;&#x69CB;&#x7BC9;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;CloudFront&#x306B;&#x9001;&#x4FE1;&#x3055;&#x308C;&#x305F;HTTPS&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;ALB&#x306B;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#xFF0C;&#x4E21;&#x65B9;&#x306B;&#x95A2;&#x9023;&#x4ED8;&#x3051;&#x308B;&#x8A3C;&#x660E;&#x66F8;&#x3067;&#x627F;&#x8A8D;&#x3059;&#x308B;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x306F;&#xFF0C;&#x4E00;&#x81F4;&#x3055;&#x305B;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Route53 &#x2192; CloudFront(+ACM&#x8A3C;&#x660E;&#x66F8;) &#x2192; EC2</td>
<td>CloudFront</td>
<td></td>
</tr>
<tr>
<td>Route53 &#x2192; CloudFront(+ACM&#x8A3C;&#x660E;&#x66F8;) &#x2192; S3</td>
<td>CloudFront</td>
<td></td>
</tr>
<tr>
<td>Route53 &#x2192; ALB(+ACM&#x8A3C;&#x660E;&#x66F8;) &#x2192; EC2(+&#x5916;&#x90E8;&#x8A3C;&#x660E;&#x66F8;)</td>
<td>EC2</td>
<td></td>
</tr>
<tr>
<td>Route53 &#x2192; NLB &#x2192; EC2(+&#x5916;&#x90E8;&#x8A3C;&#x660E;&#x66F8;)</td>
<td>EC2</td>
<td></td>
</tr>
<tr>
<td>Route53 &#x2192; EC2(+&#x5916;&#x90E8;&#x8A3C;&#x660E;&#x66F8;)</td>
<td>EC2</td>
<td></td>
</tr>
<tr>
<td>Route53 &#x2192; Lightsail(+ACM&#x8A3C;&#x660E;&#x66F8;)</td>
<td>Lightsail</td>
</tr>
</tbody>
</table>
<p><br></p>
<h2 id="12-&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#xFF5C;waf">12. &#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#xFF5C;WAF</h2>
<h3 id="aws&#x30EA;&#x30BD;&#x30FC;&#x30B9;-vs-&#x30B5;&#x30A4;&#x30D0;&#x30FC;&#x653B;&#x6483;">AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9; vs. &#x30B5;&#x30A4;&#x30D0;&#x30FC;&#x653B;&#x6483;</h3>
<table>
<thead>
<tr>
<th>&#x30B5;&#x30A4;&#x30D0;&#x30FC;&#x653B;&#x6483;&#x306E;&#x7A2E;&#x985E;</th>
<th>&#x5BFE;&#x6297;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x7A2E;&#x985E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30DE;&#x30EB;&#x30A6;&#x30A7;&#x30A2;</td>
<td>&#x306A;&#x3057;</td>
</tr>
<tr>
<td>&#x508D;&#x53D7;&#xFF0C;&#x76D7;&#x8074;</td>
<td>VPC&#x5185;&#x306E;&#x7279;&#x306B;&#x30D7;&#x30E9;&#x30A4;&#x30D9;&#x30FC;&#x30C8;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x9593;&#x306E;&#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;&#x63A5;&#x7D9A;&#xFF0E;VPC&#x5916;&#x3092;&#x4ECB;&#x3055;&#x305A;&#x306B;&#x30C7;&#x30FC;&#x30BF;&#x3092;&#x9001;&#x53D7;&#x4FE1;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30DD;&#x30FC;&#x30C8;&#x30B9;&#x30AD;&#x30E3;&#x30F3;</td>
<td>&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</td>
</tr>
<tr>
<td>DDoS</td>
<td>Shield</td>
</tr>
<tr>
<td>&#x30BC;&#x30ED;&#x30C7;&#x30A3;</td>
<td>WAF</td>
</tr>
<tr>
<td>&#x30A4;&#x30F3;&#x30B8;&#x30A7;&#x30AF;&#x30B7;&#x30E7;&#x30F3;</td>
<td>WAF</td>
</tr>
<tr>
<td>XSS</td>
<td>WAF</td>
</tr>
<tr>
<td>&#x30C7;&#x30FC;&#x30BF;&#x6F0F;&#x6D29;</td>
<td>KMS&#xFF0C;CloudHSM</td>
</tr>
<tr>
<td>&#x7D44;&#x7E54;&#x5185;&#x90E8;&#x3067;&#x306E;&#x88CF;&#x5207;&#x308A;</td>
<td>IAM</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="waf&#xFF1A;web-applicarion-firewall">WAF&#xFF1A;Web Applicarion Firewall</h3>
<h4 id="&#x30FB;waf&#x3068;&#x306F;">&#x30FB;WAF&#x3068;&#x306F;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Web ACLs&#xFF1A;Web Access Control List</td>
<td>&#x5404;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x3068;&#x8A31;&#x53EF;&#xFF0F;&#x62D2;&#x5426;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x95A2;&#x9023;&#x4ED8;&#x3051;&#x3092;&#x300C;&#x30EB;&#x30FC;&#x30EB;&#x300D;&#x3068;&#x3057;&#xFF0C;&#x3053;&#x308C;&#x3092;&#x30BB;&#x30C3;&#x30C8;&#x3067;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x5408;&#x308F;&#x305B;&#x3066;&#xFF0C;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x304C;&#x7570;&#x306A;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>IP sets</td>
<td>&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x5B9F;&#x884C;&#x306E;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x3068;&#x306A;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;</td>
<td>&#x30FB;&#x8A31;&#x53EF;&#x3059;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306F;&#xFF0C;&#x610F;&#x5473;&#x5408;&#x3044;&#x306B;&#x6CBF;&#x3063;&#x3066;&#x7570;&#x306A;&#x308B;&#x30BB;&#x30C3;&#x30C8;&#x3068;&#x3057;&#x3066;&#x69CB;&#x7BC9;&#x3059;&#x308B;&#x3079;&#x304D;&#xFF0E;&#x4F8B;&#x3048;&#x3070;&#xFF0C;&#x793E;&#x5185;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x30BB;&#x30C3;&#x30C8;&#xFF0C;&#x5354;&#x529B;&#x4F1A;&#x793E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x30BB;&#x30C3;&#x30C8;&#xFF0C;&#x306A;&#x3069;<br>&#x30FB;&#x62D2;&#x5426;&#x3059;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306F;&#x3072;&#x3068;&#x307E;&#x3068;&#x3081;&#x306B;&#x3057;&#x3066;&#x3082;&#x3088;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>Regex pattern sets</td>
<td>&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x5B9F;&#x884C;&#x306E;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x3068;&#x306A;&#x308B;URL&#x30D1;&#x30B9;&#x306E;&#x6587;&#x5B57;&#x5217;</td>
<td>&#x30FB;&#x8A31;&#x53EF;&#xFF0F;&#x62D2;&#x5426;&#x3059;&#x308B;&#x6587;&#x5B57;&#x5217;&#x306F;&#xFF0C;&#x610F;&#x5473;&#x5408;&#x3044;&#x306B;&#x6CBF;&#x3063;&#x3066;&#x7570;&#x306A;&#x308B;&#x6587;&#x5B57;&#x5217;&#x30BB;&#x30C3;&#x30C8;&#x3068;&#x3057;&#x3066;&#x69CB;&#x7BC9;&#x3059;&#x308B;&#x3079;&#x304D;&#xFF0E;&#x4F8B;&#x3048;&#x3070;&#xFF0C;&#x30E6;&#x30FC;&#x30B6;&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x30BB;&#x30C3;&#x30C8;&#xFF0C;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x30D1;&#x30B9;&#x30BB;&#x30C3;&#x30C8;&#xFF0C;&#x306A;&#x3069;</td>
</tr>
<tr>
<td>Rule groups</td>
<td></td>
<td></td>
</tr>
<tr>
<td>AWS Markets</td>
<td></td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="web-acls">Web ACLs</h3>
<h4 id="&#x30FB;web-acls&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;">&#x30FB;Web ACLs&#x306E;&#x8A73;&#x7D30;&#x9805;&#x76EE;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Overview</td>
<td>WAF&#x306B;&#x3088;&#x3063;&#x3066;&#x8A31;&#x53EF;&#xFF0F;&#x62D2;&#x5426;&#x3055;&#x308C;&#x305F;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x3092;&#x78BA;&#x8A8D;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>Rules</td>
<td>&#x9806;&#x756A;&#x306B;&#x30EB;&#x30FC;&#x30EB;&#x3092;&#x5224;&#x5B9A;&#x3057;&#xFF0C;&#x4E00;&#x81F4;&#x3059;&#x308B;&#x30EB;&#x30FC;&#x30EB;&#x304C;&#x3042;&#x308C;&#x3070;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x5B9F;&#x884C;&#x3059;&#x308B;&#xFF0E;&#x3053;&#x306E;&#x6642;&#xFF0C;&#x4E00;&#x81F4;&#x3059;&#x308B;&#x30EB;&#x30FC;&#x30EB;&#x306E;&#x5F8C;&#x306B;&#x3042;&#x308B;&#x30EB;&#x30FC;&#x30EB;&#x306F;&#xFF0E;&#x5224;&#x5B9A;&#x3055;&#x308C;&#x306A;&#x3044;&#xFF0E;</td>
<td>&#x30EB;&#x30FC;&#x30EB;&#x306E;&#x8A2D;&#x5B9A;&#x3092;&#x53C2;&#x7167;&#x305B;&#x3088;&#xFF0E;</td>
</tr>
<tr>
<td>Associated AWS resources</td>
<td>WAF&#x3092;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>CloudFront&#xFF0C;ALB&#x306A;&#x3069;&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Logging and metrics</td>
<td>&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x3092;Kinesis Data Firehose&#x306B;&#x51FA;&#x529B;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;overview&#x306B;&#x304A;&#x3051;&#x308B;sampled-requests&#x306E;&#x898B;&#x65B9;">&#x30FB;Overview&#x306B;&#x304A;&#x3051;&#x308B;Sampled requests&#x306E;&#x898B;&#x65B9;</h4>
<p>&#x300C;&#x5168;&#x3066;&#x306E;&#x30EB;&#x30FC;&#x30EB;&#x300D;&#x307E;&#x305F;&#x306F;&#x300C;&#x500B;&#x5225;&#x306E;&#x30EB;&#x30FC;&#x30EB;&#x300D;&#x306B;&#x304A;&#x3051;&#x308B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x8A31;&#x53EF;&#xFF0F;&#x62D2;&#x5426;&#x306E;&#x5C65;&#x6B74;&#x3092;&#x78BA;&#x8A8D;&#x3067;&#x304D;&#x308B;&#xFF0E;ALB&#x3084;CloudFront&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x3088;&#x308A;&#x3082;&#x89E3;&#x308A;&#x3084;&#x3059;&#x304F;&#xFF0C;&#x69D8;&#x3005;&#x306A;&#x30C7;&#x30D0;&#x30C3;&#x30B0;&#x306B;&#x5F79;&#x7ACB;&#x3064;&#xFF0E;&#x305F;&#x3060;&#x3057;&#xFF0C;&#xFF13;&#x6642;&#x9593;&#x5206;&#x3057;&#x304B;&#x6B8B;&#x3089;&#x306A;&#x3044;&#xFF0E;&#x4E00;&#x4F8B;&#x3068;&#x3057;&#x3066;&#xFF0C;CloudFront&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3057;&#x305F;WAF&#x3067;&#x53D6;&#x5F97;&#x3067;&#x304D;&#x308B;&#x30ED;&#x30B0;&#x3092;&#x4EE5;&#x4E0B;&#x306B;&#x793A;&#x3059;&#xFF0E;</p>
<pre><code class="lang-http">GET /example/
# &#x30DB;&#x30B9;&#x30C8;
host: example.jp
upgrade-insecure-requests: 1
# &#x30E6;&#x30FC;&#x30B6;&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;
user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36
accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
sec-fetch-site: none
sec-fetch-mode: navigate
sec-fetch-user: ?1
sec-fetch-dest: document
accept-encoding: gzip, deflate, br
accept-language: ja,en;q=0.9
# Cookie&#x30D8;&#x30C3;&#x30C0;&#x30FC;
cookie: PHPSESSID=xxxxx; ___ua=1787709890.1608200633; accessId=xxxxx; style=null; bookmark=45; _gid=GA1.2.1643243662.1608715225; __ulfpc=202012231820255572; _ga=GA1.1.859191015.1558955663; _a1_f=8bd85d6d-0f18-41f1-a65d-ac6607316f6e; _a1_u=966b06f3-d387-476a-9a02-49192641c0f2; _td=5fd55a8a-1602-45ec-bbf7-96d75974f37a; _fbp=fb.1.1608715230439.1917315302; _ts_yjad=1608715232002; _ga_68HTFJXME5=GS1.1.1608722059.2.0.1608722059.60
</code></pre>
<p><br></p>
<h3 id="rules&#x306E;&#x4F8B;">Rules&#x306E;&#x4F8B;</h3>
<h4 id="&#x30FB;&#x30EB;&#x30FC;&#x30EB;&#x306E;&#x7C92;&#x5EA6;">&#x30FB;&#x30EB;&#x30FC;&#x30EB;&#x306E;&#x7C92;&#x5EA6;</h4>
<p>&#x308F;&#x304B;&#x308A;&#x3084;&#x3059;&#x3055;&#x306E;&#x89B3;&#x70B9;&#x304B;&#x3089;&#xFF0C;&#x53EF;&#x80FD;&#x306A;&#x9650;&#x308A;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x30B9;&#x30C6;&#x30FC;&#x30C8;&#x30E1;&#x30F3;&#x30C8;&#x3092;&#x5C11;&#x306A;&#x304F;&#x3057;&#xFF0C;&#x4E00;&#x3064;&#x306E;&#x30EB;&#x30FC;&#x30EB;&#x306B;&#x4E00;&#x3064;&#x306E;&#x610F;&#x5473;&#x5408;&#x3044;&#x3060;&#x3051;&#x3092;&#x6301;&#x305F;&#x305B;&#x308B;&#x3088;&#x3046;&#x306B;&#x547D;&#x540D;&#x3059;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30E6;&#x30FC;&#x30B6;&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x62D2;&#x5426;">&#x30FB;&#x30E6;&#x30FC;&#x30B6;&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x62D2;&#x5426;</h4>
<p><strong>&#xFF0A;&#x5177;&#x4F53;&#x4F8B;&#xFF0A;</strong></p>
<p>&#x60AA;&#x610F;&#x306E;&#x3042;&#x308B;&#x30E6;&#x30FC;&#x30B6;&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x3092;&#x62D2;&#x5426;&#x3059;&#x308B;&#xFF0E;</p>
<p>&#x30EB;&#x30FC;&#x30EB;&#xFF1A;block-user-agents</p>
<table>
<thead>
<tr>
<th>Statement&#x306E;&#x9806;&#x756A;</th>
<th>If a request</th>
<th>Inspect</th>
<th>Match type</th>
<th>Regex pattern set</th>
<th>Then</th>
<th>&#x6319;&#x52D5;</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>matches</td>
<td>URI path</td>
<td>Matches pattern from regex pattern set</td>
<td>&#x6587;&#x5B57;&#x5217;&#x30BB;&#x30C3;&#x30C8;</td>
<td>Block</td>
<td>&#x6307;&#x5B9A;&#x3057;&#x305F;&#x6587;&#x5B57;&#x5217;&#x3092;&#x542B;&#x3080;&#x30E6;&#x30FC;&#x30B6;&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x306E;&#x5834;&#x5408;&#x306B;&#xFF0C;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x62D2;&#x5426;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Default Action</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Allow</td>
<td>&#x6307;&#x5B9A;&#x3057;&#x305F;&#x30E6;&#x30FC;&#x30B6;&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x3067;&#x306A;&#x3044;&#x5834;&#x5408;&#x306B;&#xFF0C;&#x5168;&#x3066;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30D1;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;cicd&#x30C4;&#x30FC;&#x30EB;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x8A31;&#x53EF;">&#x30FB;CI/CD&#x30C4;&#x30FC;&#x30EB;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x8A31;&#x53EF;</h4>
<p><strong>&#xFF0A;&#x5177;&#x4F53;&#x4F8B;&#xFF0A;</strong></p>
<p>&#x793E;&#x5185;&#x306E;&#x9001;&#x4FE1;&#x5143;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x307F;&#x8A31;&#x53EF;&#x3057;&#x305F;&#x72B6;&#x614B;&#x3067;&#xFF0C;CircleCI&#x306A;&#x3069;&#x306E;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x304C;&#x793E;&#x5185;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x3059;&#x308B;&#xFF0E;</p>
<p>&#x30EB;&#x30FC;&#x30EB;&#xFF1A;allow-request-including-access-token</p>
<table>
<thead>
<tr>
<th>Statement&#x306E;&#x9806;&#x756A;</th>
<th>If a request</th>
<th>Inspect</th>
<th>Header field name</th>
<th>Match type</th>
<th>String to match</th>
<th>Then</th>
<th>&#x6319;&#x52D5;</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>matches</td>
<td>Header</td>
<td>authorization</td>
<td>Exactly matched  string</td>
<td>&#x300C;<code>Bearer &lt;&#x30C8;&#x30FC;&#x30AF;&#x30F3;&#x6587;&#x5B57;&#x5217;&gt;</code>&#x300D;&#x3067;&#x6587;&#x5B57;&#x5217;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;</td>
<td>Allow</td>
<td>authorization&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306B;&#x6307;&#x5B9A;&#x3057;&#x305F;&#x6587;&#x5B57;&#x5217;&#x3092;&#x542B;&#x3080;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x5834;&#x5408;&#x306B;&#xFF0C;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x62D2;&#x5426;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Default Action</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block</td>
<td>&#x6B63;&#x3057;&#x3044;&#x30C8;&#x30FC;&#x30AF;&#x30F3;&#x3092;&#x6301;&#x305F;&#x306A;&#x3044;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x306E;&#x5834;&#x5408;&#x306B;&#xFF0C;&#x5168;&#x3066;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30D1;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x62D2;&#x5426;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x7279;&#x5B9A;&#x306E;&#x30D1;&#x30B9;&#x3092;&#x793E;&#x5185;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x306B;&#x9650;&#x5B9A;">&#x30FB;&#x7279;&#x5B9A;&#x306E;&#x30D1;&#x30B9;&#x3092;&#x793E;&#x5185;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x306B;&#x9650;&#x5B9A;</h4>
<p><strong>&#xFF0A;&#x5177;&#x4F53;&#x4F8B;&#xFF0A;</strong></p>
<p>&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;&#x304A;&#x3044;&#x3066;&#xFF0C;&#x7279;&#x5B9A;&#x306E;URL&#x30D1;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3067;&#x304D;&#x308B;&#x9001;&#x4FE1;&#x5143;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#xFF0C;&#x793E;&#x5185;&#x3060;&#x3051;&#x306B;&#x5236;&#x9650;&#x3059;&#x308B;&#xFF0E;&#x4E8C;&#x3064;&#x306E;&#x30EB;&#x30FC;&#x30EB;&#x3092;&#x69CB;&#x7BC9;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<p>&#x30EB;&#x30FC;&#x30EB;&#xFF1A;allow-access--to-url-path</p>
<table>
<thead>
<tr>
<th>Statement&#x306E;&#x9806;&#x756A;</th>
<th>If a request</th>
<th>Inspect</th>
<th>IP set</th>
<th>Match type</th>
<th>Regex pattern set</th>
<th>Then</th>
<th>&#x6319;&#x52D5;</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>matches (AND)</td>
<td>Originates from an IP address in</td>
<td>&#x793E;&#x5185;IP&#x30BB;&#x30C3;&#x30C8;</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&#x793E;&#x5185;&#x306E;&#x9001;&#x4FE1;&#x5143;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x5834;&#x5408;&#x306B;&#xFF0C;&#x6307;&#x5B9A;&#x3057;&#x305F;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30D1;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>1</td>
<td>matches</td>
<td>URI path</td>
<td>-</td>
<td>Matches pattern from regex pattern set</td>
<td>&#x6587;&#x5B57;&#x5217;&#x30BB;&#x30C3;&#x30C8;</td>
<td>Allow</td>
<td>0&#x756A;&#x76EE;&#x304B;&#x3064;&#xFF0C;&#x6307;&#x5B9A;&#x3057;&#x305F;&#x6587;&#x5B57;&#x5217;&#x3092;&#x542B;&#x3080;URL&#x30D1;&#x30B9;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x306E;&#x5834;&#x5408;&#x306B;&#xFF0C;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p>&#x30EB;&#x30FC;&#x30EB;&#xFF1A;block-access-to-url-path</p>
<table>
<thead>
<tr>
<th>Statement&#x306E;&#x9806;&#x756A;</th>
<th>If a request</th>
<th>Inspect</th>
<th>Match type</th>
<th>Regex pattern set</th>
<th>Then</th>
<th>&#x6319;&#x52D5;</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>matches</td>
<td>URI path</td>
<td>Matches pattern from regex pattern set</td>
<td>&#x6587;&#x5B57;&#x5217;&#x30BB;&#x30C3;&#x30C8;</td>
<td>Block</td>
<td>&#x6307;&#x5B9A;&#x3057;&#x305F;&#x6587;&#x5B57;&#x5217;&#x3092;&#x542B;&#x3080;URL&#x30D1;&#x30B9;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x306E;&#x5834;&#x5408;&#x306B;&#xFF0C;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x62D2;&#x5426;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Default Action</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Allow</td>
<td>&#x6307;&#x5B9A;&#x3057;&#x305F;URL&#x30D1;&#x30B9;&#x4EE5;&#x5916;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x306E;&#x5834;&#x5408;&#x306B;&#xFF0C;&#x305D;&#x306E;&#x30D1;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x793E;&#x5185;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x306B;&#x9650;&#x5B9A;">&#x30FB;&#x793E;&#x5185;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x306B;&#x9650;&#x5B9A;</h4>
<p><strong>&#xFF0A;&#x5177;&#x4F53;&#x4F8B;&#xFF0A;</strong></p>
<p>&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x5168;&#x4F53;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3067;&#x304D;&#x308B;&#x9001;&#x4FE1;&#x5143;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#xFF0C;&#x7279;&#x5B9A;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3060;&#x3051;&#x306B;&#x5236;&#x9650;&#x3059;&#x308B;&#xFF0E;</p>
<p>&#x30EB;&#x30FC;&#x30EB;&#xFF1A;allow-global-ip-addresses</p>
<table>
<thead>
<tr>
<th>Statement&#x306E;&#x9806;&#x756A;</th>
<th>If a request</th>
<th>Inspect</th>
<th>IP set</th>
<th>Originating address</th>
<th>Then</th>
<th>&#x6319;&#x52D5;</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>matches  (OR)</td>
<td>Originates from an IP address in</td>
<td>&#x793E;&#x5185;IP&#x30BB;&#x30C3;&#x30C8;</td>
<td>Source IP address</td>
<td>-</td>
<td>&#x793E;&#x5185;&#x306E;&#x9001;&#x4FE1;&#x5143;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x5834;&#x5408;&#x306B;&#xFF0C;&#x5168;&#x3066;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30D1;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>1</td>
<td>matches</td>
<td>Originates from an IP address in</td>
<td>&#x5354;&#x529B;&#x4F1A;&#x793E;IP&#x30BB;&#x30C3;&#x30C8;</td>
<td>Source IP address</td>
<td>Allow</td>
<td>0&#x756A;&#x76EE;&#x3042;&#x308B;&#x3044;&#x306F;&#xFF0C;&#x5354;&#x529B;&#x4F1A;&#x793E;&#x306E;&#x9001;&#x4FE1;&#x5143;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x5834;&#x5408;&#x306B;&#xFF0C;&#x5168;&#x3066;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30D1;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Default Action</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block</td>
<td>&#x6307;&#x5B9A;&#x3057;&#x305F;&#x9001;&#x4FE1;&#x5143;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x4EE5;&#x5916;&#x306E;&#x5834;&#x5408;&#x306B;&#xFF0C;&#x5168;&#x3066;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30D1;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x62D2;&#x5426;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h2 id="12-02-&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#xFF5C;iam">12-02. &#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#xFF5C;IAM</h2>
<h3 id="iam&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#xFF0C;iam&#x30B9;&#x30C6;&#x30FC;&#x30C8;&#x30E1;&#x30F3;&#x30C8;&#xFF1A;identify-and-access-management">IAM&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#xFF0C;IAM&#x30B9;&#x30C6;&#x30FC;&#x30C8;&#x30E1;&#x30F3;&#x30C8;&#xFF1A;Identify and Access Management</h3>
<h4 id="&#x30FB;iam&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3068;&#x306F;">&#x30FB;IAM&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3068;&#x306F;</h4>
<p>&#x5B9F;&#x884C;&#x6A29;&#x9650;&#x306E;&#x3042;&#x308B;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x304C;&#x5B9A;&#x7FA9;&#x3055;&#x308C;&#x305F;IAM&#x30B9;&#x30C6;&#x30FC;&#x30C8;&#x30E1;&#x30F3;&#x30C8;&#x306E;&#x30BB;&#x30C3;&#x30C8;&#x3092;&#x6301;&#x3064;&#xFF0C;JSON&#x578B;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x30C7;&#x30FC;&#x30BF;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<h4 id="&#x30FB;iam&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x7A2E;&#x985E;">&#x30FB;IAM&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x7A2E;&#x985E;</h4>
<table>
<thead>
<tr>
<th>IAM&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x7A2E;&#x985E;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30A2;&#x30A4;&#x30C7;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</td>
<td>IAM&#x30E6;&#x30FC;&#x30B6;&#xFF0C;IAM&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#xFF0C;IAM&#x30ED;&#x30FC;&#x30EB;&#xFF0C;&#x306B;&#x4ED8;&#x4E0E;&#x3059;&#x308B;&#x305F;&#x3081;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x3053;&#x3068;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30A4;&#x30F3;&#x30E9;&#x30A4;&#x30F3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</td>
<td>&#x5358;&#x4E00;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x30A4;&#x30F3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x3053;&#x3068;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30B3;&#x30F3;&#x30C8;&#x30ED;&#x30FC;&#x30EB;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</td>
<td>json&#x5F62;&#x5F0F;&#x3067;&#x5B9A;&#x7FA9;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x7121;&#x3044;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x3053;&#x3068;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><strong>&#xFF0A;&#x5177;&#x4F53;&#x4F8B;&#xFF0A;</strong></p>
<p>&#x4EE5;&#x4E0B;&#x306B;&#xFF0C;EC2&#x306E;&#x8AAD;&#x307F;&#x51FA;&#x3057;&#x306E;&#x307F;&#x6A29;&#x9650;&#xFF08;<code>AmazonEC2ReadOnlyAccess</code>&#xFF09;&#x3092;&#x4ED8;&#x4E0E;&#x3067;&#x304D;&#x308B;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x793A;&#x3059;&#xFF0E;&#x3053;&#x306E;IAM&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306B;&#x306F;&#xFF0C;&#x4ED6;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x6A29;&#x9650;&#x3082;&#x542B;&#x307E;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;</p>
<pre><code class="lang-yaml">{
<span class="hljs-attr">  &quot;Version&quot;:</span> <span class="hljs-string">&quot;2012-10-17&quot;</span>,
<span class="hljs-attr">  &quot;Statement&quot;:</span> [
    {
<span class="hljs-attr">      &quot;Effect&quot;:</span> <span class="hljs-string">&quot;Allow&quot;</span>,
<span class="hljs-attr">      &quot;Action&quot;:</span> <span class="hljs-string">&quot;ec2:Describe*&quot;</span>,
<span class="hljs-attr">      &quot;Resource&quot;:</span> <span class="hljs-string">&quot;*&quot;</span>
    },
    {
<span class="hljs-attr">      &quot;Effect&quot;:</span> <span class="hljs-string">&quot;Allow&quot;</span>,
<span class="hljs-attr">      &quot;Action&quot;:</span> <span class="hljs-string">&quot;elasticloadbalancing:Describe*&quot;</span>,
<span class="hljs-attr">      &quot;Resource&quot;:</span> <span class="hljs-string">&quot;*&quot;</span>
    },
    {
<span class="hljs-attr">      &quot;Effect&quot;:</span> <span class="hljs-string">&quot;Allow&quot;</span>,
<span class="hljs-attr">      &quot;Action&quot;:</span> [
        <span class="hljs-string">&quot;cloudwatch:ListMetrics&quot;</span>,
        <span class="hljs-string">&quot;cloudwatch:GetMetricStatistics&quot;</span>,
        <span class="hljs-string">&quot;cloudwatch:Describe*&quot;</span>
      ],
<span class="hljs-attr">      &quot;Resource&quot;:</span> <span class="hljs-string">&quot;*&quot;</span>
    },
    {
<span class="hljs-attr">      &quot;Effect&quot;:</span> <span class="hljs-string">&quot;Allow&quot;</span>,
<span class="hljs-attr">      &quot;Action&quot;:</span> <span class="hljs-string">&quot;autoscaling:Describe*&quot;</span>,
<span class="hljs-attr">      &quot;Resource&quot;:</span> <span class="hljs-string">&quot;*&quot;</span>
    }
  ]
}
</code></pre>
<h4 id="&#x30FB;iam&#x30B9;&#x30C6;&#x30FC;&#x30C8;&#x30E1;&#x30F3;&#x30C8;&#x3068;&#x306F;">&#x30FB;IAM&#x30B9;&#x30C6;&#x30FC;&#x30C8;&#x30E1;&#x30F3;&#x30C8;&#x3068;&#x306F;</h4>
<p>&#x5B9F;&#x884C;&#x6A29;&#x9650;&#x306E;&#x3042;&#x308B;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x5B9A;&#x7FA9;&#x3057;&#x305F;&#xFF0C;JSON&#x578B;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x30C7;&#x30FC;&#x30BF;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5177;&#x4F53;&#x4F8B;&#xFF0A;</strong></p>
<p>&#x4EE5;&#x4E0B;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;&#x3055;&#x308C;&#x305F;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306F;&#xFF0C;&#x4EFB;&#x610F;&#x306E;SSM&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x3092;&#x53D6;&#x5F97;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<pre><code class="lang-yaml">{
<span class="hljs-attr">  &quot;Version&quot;:</span> <span class="hljs-string">&quot;2012-10-17&quot;</span>,
<span class="hljs-attr">  &quot;Statement&quot;:</span> [
    {
<span class="hljs-attr">      &quot;Sid&quot;:</span> <span class="hljs-string">&quot;&quot;</span>,
<span class="hljs-attr">      &quot;Effect&quot;:</span> <span class="hljs-string">&quot;Allow&quot;</span>,
<span class="hljs-attr">      &quot;Action&quot;:</span> [
        <span class="hljs-string">&quot;ssm:GetParameters&quot;</span>
      ],
<span class="hljs-attr">      &quot;Resource&quot;:</span> <span class="hljs-string">&quot;*&quot;</span>
    }
  ]
}
</code></pre>
<table>
<thead>
<tr>
<th>Statement&#x306E;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Sid</td>
<td>&#x4EFB;&#x610F;&#x306E;&#x4E00;&#x610F;&#x306A;&#x6587;&#x5B57;&#x5217;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;&#x7A7A;&#x6587;&#x5B57;&#x3067;&#x3082;&#x3088;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>Effect</td>
<td>&#x8A31;&#x53EF;&#x307E;&#x305F;&#x306F;&#x62D2;&#x5426;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Action</td>
<td>&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x5BFE;&#x3057;&#x3066;&#x5B9F;&#x884C;&#x3067;&#x304D;&#x308B;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Resource</td>
<td>&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x5B9F;&#x884C;&#x5BFE;&#x8C61;&#x306B;&#x9078;&#x3079;&#x308B;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p>&#x4EE5;&#x4E0B;&#x306B;&#x4E3B;&#x8981;&#x306A;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x793A;&#x3059;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x540D;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Create</td>
<td>&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x69CB;&#x7BC9;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Describe</td>
<td>&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x8868;&#x793A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Delete</td>
<td>&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x524A;&#x9664;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Get</td>
<td>&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x53D6;&#x5F97;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Put</td>
<td>&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x4E0A;&#x66F8;&#x304D;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x30A2;&#x30A4;&#x30C7;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30A2;&#x30A4;&#x30C7;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h3>
<h4 id="&#x30FB;&#x30A2;&#x30A4;&#x30C7;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3068;&#x306F;">&#x30FB;&#x30A2;&#x30A4;&#x30C7;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3068;&#x306F;</h4>
<p>IAM&#x30E6;&#x30FC;&#x30B6;&#xFF0C;IAM&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#xFF0C;IAM&#x30ED;&#x30FC;&#x30EB;&#xFF0C;&#x306B;&#x4ED8;&#x4E0E;&#x3059;&#x308B;&#x305F;&#x3081;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<h4 id="&#x30FB;aws&#x7BA1;&#x7406;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;AWS&#x7BA1;&#x7406;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<p>AWS&#x304C;&#x63D0;&#x4F9B;&#x3057;&#x3066;&#x3044;&#x308B;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x3053;&#x3068;&#xFF0E;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x5F0F;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x305F;&#x3081;&#xFF0C;&#x3059;&#x3067;&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3055;&#x308C;&#x3066;&#x3044;&#x3066;&#x3082;&#xFF0C;&#x4ED6;&#x306E;&#x3082;&#x306E;&#x306B;&#x3082;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30AB;&#x30B9;&#x30BF;&#x30DE;&#x30FC;&#x7BA1;&#x7406;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;&#x30AB;&#x30B9;&#x30BF;&#x30DE;&#x30FC;&#x7BA1;&#x7406;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<p>&#x30E6;&#x30FC;&#x30B6;&#x304C;&#x72EC;&#x81EA;&#x306B;&#x4F5C;&#x6210;&#x3057;&#x305F;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x3053;&#x3068;&#xFF0E;&#x3059;&#x3067;&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3055;&#x308C;&#x3066;&#x3044;&#x3066;&#x3082;&#xFF0C;&#x4ED6;&#x306E;&#x3082;&#x306E;&#x306B;&#x3082;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30A4;&#x30F3;&#x30E9;&#x30A4;&#x30F3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;&#x30A4;&#x30F3;&#x30E9;&#x30A4;&#x30F3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<p>&#x5358;&#x4E00;&#x306E;&#x30A2;&#x30A4;&#x30C7;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x306B;&#x4ED8;&#x4E0E;&#x3059;&#x308B;&#x305F;&#x3081;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x3053;&#x3068;&#xFF0E;&#x7D44;&#x307F;&#x8FBC;&#x307F;&#x5F0F;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x305F;&#x3081;&#xFF0C;&#x30A2;&#x30A4;&#x30C7;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x9593;&#x3067;&#x5171;&#x6709;&#x3057;&#x3066;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3059;&#x308B;&#x3053;&#x3068;&#x306F;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<p>IAM&#x30E6;&#x30FC;&#x30B6;&#xFF0C;IAM&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#xFF0C;IAM&#x30ED;&#x30FC;&#x30EB;&#x306F;&#xFF0C;&#x30E6;&#x30FC;&#x30B6;&#x30FC;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x306E;&#x3059;&#x3079;&#x3066;&#x306E; ACM &#x8A3C;&#x660E;&#x66F8;&#x3092;&#x4E00;&#x89A7;&#x8868;&#x793A;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;Version&quot;</span>:<span class="hljs-string">&quot;2012-10-17&quot;</span>,
  <span class="hljs-string">&quot;Statement&quot;</span>:[
    {
      <span class="hljs-string">&quot;Effect&quot;</span>:<span class="hljs-string">&quot;Allow&quot;</span>,
      <span class="hljs-string">&quot;Action&quot;</span>:<span class="hljs-string">&quot;acm:ListCertificates&quot;</span>,
      <span class="hljs-string">&quot;Resource&quot;</span>:<span class="hljs-string">&quot;*&quot;</span>
    }
  ]
}
</code></pre>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<p>IAM&#x30E6;&#x30FC;&#x30B6;&#xFF0C;IAM&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#xFF0C;IAM&#x30ED;&#x30FC;&#x30EB;&#x306F;&#xFF0C;&#x5168;&#x3066;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#xFF0C;&#x4EFB;&#x610F;&#x306E;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x5B9F;&#x884C;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;Version&quot;</span>:<span class="hljs-string">&quot;2012-10-17&quot;</span>,
  <span class="hljs-string">&quot;Statement&quot;</span>:[
    {
      <span class="hljs-string">&quot;Effect&quot;</span>:<span class="hljs-string">&quot;Allow&quot;</span>,
      <span class="hljs-string">&quot;Action&quot;</span>:<span class="hljs-string">&quot;*&quot;</span>,
      <span class="hljs-string">&quot;Resource&quot;</span>:<span class="hljs-string">&quot;*&quot;</span>
    }
  ]
}
</code></pre>
<p><br></p>
<h3 id="&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30A4;&#x30F3;&#x30E9;&#x30A4;&#x30F3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30A4;&#x30F3;&#x30E9;&#x30A4;&#x30F3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h3>
<h4 id="&#x30FB;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30A4;&#x30F3;&#x30E9;&#x30A4;&#x30F3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3068;&#x306F;">&#x30FB;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30A4;&#x30F3;&#x30E9;&#x30A4;&#x30F3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3068;&#x306F;</h4>
<p>&#x5358;&#x4E00;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x30A4;&#x30F3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x3053;&#x3068;&#xFF0E;&#x3059;&#x3067;&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#x3068;&#xFF0C;&#x4ED6;&#x306E;&#x3082;&#x306E;&#x306B;&#x306F;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<p>S3&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3055;&#x308C;&#x308B;&#xFF0C;&#x81EA;&#x8EAB;&#x3078;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x5236;&#x5FA1;&#x3059;&#x308B;&#x305F;&#x3081;&#x306E;&#x30A4;&#x30F3;&#x30E9;&#x30A4;&#x30F3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30E9;&#x30A4;&#x30D5;&#x30B5;&#x30A4;&#x30AF;&#x30EB;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;&#x30E9;&#x30A4;&#x30D5;&#x30B5;&#x30A4;&#x30AF;&#x30EB;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<p>ECR&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3055;&#x308C;&#x308B;&#xFF0C;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x306E;&#x6709;&#x52B9;&#x671F;&#x9593;&#x3092;&#x5B9A;&#x7FA9;&#x3059;&#x308B;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#xFF0E;&#x30B3;&#x30F3;&#x30BD;&#x30FC;&#x30EB;&#x753B;&#x9762;&#x304B;&#x3089;&#x5165;&#x529B;&#x3067;&#x304D;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x57FA;&#x672C;&#x7684;&#x306B;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x5B9F;&#x88C5;&#x306F;&#x4E0D;&#x8981;&#x3067;&#x3042;&#x308B;&#x304C;&#xFF0C;Terraform&#x306A;&#x3069;&#x306E;IaC&#x30C4;&#x30FC;&#x30EB;&#x3067;&#x306F;&#x5FC5;&#x8981;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;rules&quot;</span>: [
    {
      <span class="hljs-string">&quot;rulePriority&quot;</span>: <span class="hljs-number">1</span>,
      <span class="hljs-string">&quot;description&quot;</span>: <span class="hljs-string">&quot;Keep last 10 images untagged&quot;</span>,
      <span class="hljs-string">&quot;selection&quot;</span>: {
        <span class="hljs-string">&quot;tagStatus&quot;</span>: <span class="hljs-string">&quot;untagged&quot;</span>,
        <span class="hljs-string">&quot;countType&quot;</span>: <span class="hljs-string">&quot;imageCountMoreThan&quot;</span>,
        <span class="hljs-string">&quot;countNumber&quot;</span>: <span class="hljs-number">10</span>
      },
      <span class="hljs-string">&quot;action&quot;</span>: {
        <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;expire&quot;</span>
      }
    },
    {
      <span class="hljs-string">&quot;rulePriority&quot;</span>: <span class="hljs-number">2</span>,
      <span class="hljs-string">&quot;description&quot;</span>: <span class="hljs-string">&quot;Keep last 10 images any&quot;</span>,
      <span class="hljs-string">&quot;selection&quot;</span>: {
        <span class="hljs-string">&quot;tagStatus&quot;</span>: <span class="hljs-string">&quot;any&quot;</span>,
        <span class="hljs-string">&quot;countType&quot;</span>: <span class="hljs-string">&quot;imageCountMoreThan&quot;</span>,
        <span class="hljs-string">&quot;countNumber&quot;</span>: <span class="hljs-number">10</span>
      },
      <span class="hljs-string">&quot;action&quot;</span>: {
        <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;expire&quot;</span>
      }
    }
  ]
}
</code></pre>
<h4 id="&#x30FB;&#x4FE1;&#x983C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;&#x4FE1;&#x983C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<p>&#x30ED;&#x30FC;&#x30EB;&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3055;&#x308C;&#x308B;&#xFF0C;Assume Role&#x3092;&#x884C;&#x3046;&#x305F;&#x3081;&#x306E;&#x30A4;&#x30F3;&#x30E9;&#x30A4;&#x30F3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<p>&#x4F8B;&#x3048;&#x3070;&#xFF0C;&#x4EE5;&#x4E0B;&#x306E;&#x4FE1;&#x983C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4EFB;&#x610F;&#x306E;&#x30ED;&#x30FC;&#x30EB;&#x306B;&#x4ED8;&#x4E0E;&#x3057;&#x305F;&#x3068;&#x3059;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x5834;&#x5408;&#xFF0C;<code>Principal</code>&#x306E;<code>ecs-tasks</code>&#x304C;&#x4FE1;&#x983C;&#x3055;&#x308C;&#x305F;&#x30A8;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x3068;&#x898B;&#x306A;&#x3055;&#x308C;&#xFF0C;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3059;&#x308B;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;Version&quot;</span>: <span class="hljs-string">&quot;2012-10-17&quot;</span>,
  <span class="hljs-string">&quot;Statement&quot;</span>: [
    {
      <span class="hljs-string">&quot;Sid&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
      <span class="hljs-string">&quot;Effect&quot;</span>: <span class="hljs-string">&quot;Allow&quot;</span>,
      <span class="hljs-string">&quot;Principal&quot;</span>: {
        <span class="hljs-string">&quot;Service&quot;</span>: <span class="hljs-string">&quot;ecs-tasks.amazonaws.com&quot;</span>
      },
      <span class="hljs-string">&quot;Action&quot;</span>: <span class="hljs-string">&quot;sts:AssumeRole&quot;</span>
    }
  ]
}
</code></pre>
<p>&#x4FE1;&#x983C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3067;&#x306F;&#xFF0C;IAM&#x30E6;&#x30FC;&#x30B6;&#x3092;&#x4FE1;&#x983C;&#x3055;&#x308C;&#x305F;&#x30A8;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x3068;&#x3057;&#x3066;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x3053;&#x3068;&#x3082;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<p>&#x4F8B;&#x3048;&#x3070;&#xFF0C;&#x4EE5;&#x4E0B;&#x306E;&#x4FE1;&#x983C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4EFB;&#x610F;&#x306E;&#x30ED;&#x30FC;&#x30EB;&#x306B;&#x4ED8;&#x4E0E;&#x3057;&#x305F;&#x3068;&#x3059;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x5834;&#x5408;&#xFF0C;<code>Principal</code>&#x306E;IAM&#x30E6;&#x30FC;&#x30B6;&#x304C;&#x4FE1;&#x983C;&#x3055;&#x308C;&#x305F;&#x30A8;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x3068;&#x898B;&#x306A;&#x3055;&#x308C;&#xFF0C;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3059;&#x308B;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;Version&quot;</span>: <span class="hljs-string">&quot;2012-10-17&quot;</span>,
  <span class="hljs-string">&quot;Statement&quot;</span>: [
    {
      <span class="hljs-string">&quot;Effect&quot;</span>: <span class="hljs-string">&quot;Allow&quot;</span>,
      <span class="hljs-string">&quot;Principal&quot;</span>: {
        <span class="hljs-string">&quot;AWS&quot;</span>: <span class="hljs-string">&quot;arn:aws:iam::&lt;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;:user/&lt;&#x30E6;&#x30FC;&#x30B6;&#x540D;&gt;&quot;</span>
      },
      <span class="hljs-string">&quot;Action&quot;</span>: <span class="hljs-string">&quot;sts:AssumeRole&quot;</span>,
      <span class="hljs-string">&quot;Condition&quot;</span>: {
        <span class="hljs-string">&quot;StringEquals&quot;</span>: {
          <span class="hljs-string">&quot;sts:ExternalId&quot;</span>: <span class="hljs-string">&quot;&lt;&#x9069;&#x5F53;&#x306A;&#x6587;&#x5B57;&#x5217;&gt;&quot;</span>
        }
      }
    }
  ]
}
</code></pre>
<p><br></p>
<h3 id="iam&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;&#x3067;&#x304D;&#x308B;&#x5BFE;&#x8C61;">IAM&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;&#x3067;&#x304D;&#x308B;&#x5BFE;&#x8C61;</h3>
<h4 id="&#x30FB;iam&#x30E6;&#x30FC;&#x30B6;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x4ED8;&#x4E0E;">&#x30FB;IAM&#x30E6;&#x30FC;&#x30B6;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x4ED8;&#x4E0E;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/IAM&#x30E6;&#x30FC;&#x30B6;&#x306B;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;.jpeg" alt="IAM&#x30E6;&#x30FC;&#x30B5;&#x3099;&#x306B;&#x30DB;&#x309A;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;"></p>
<h4 id="&#x30FB;iam&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x4ED8;&#x4E0E;">&#x30FB;IAM&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x4ED8;&#x4E0E;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/IAM&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;.jpeg" alt="IAM&#x30AF;&#x3099;&#x30EB;&#x30FC;&#x30D5;&#x309A;&#x306B;&#x30DB;&#x309A;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;"></p>
<h4 id="&#x30FB;iam&#x30ED;&#x30FC;&#x30EB;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x4ED8;&#x4E0E;">&#x30FB;IAM&#x30ED;&#x30FC;&#x30EB;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x4ED8;&#x4E0E;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/IAM&#x30ED;&#x30FC;&#x30EB;&#x306B;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;.jpeg" alt="IAM&#x30ED;&#x30FC;&#x30EB;&#x306B;&#x30DB;&#x309A;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;"></p>
<p><br></p>
<h3 id="&#x30EB;&#x30FC;&#x30C8;&#x30E6;&#x30FC;&#x30B6;&#xFF0C;iam&#x30E6;&#x30FC;&#x30B6;">&#x30EB;&#x30FC;&#x30C8;&#x30E6;&#x30FC;&#x30B6;&#xFF0C;IAM&#x30E6;&#x30FC;&#x30B6;</h3>
<h4 id="&#x30FB;&#x30EB;&#x30FC;&#x30C8;&#x30E6;&#x30FC;&#x30B6;&#x3068;&#x306F;">&#x30FB;&#x30EB;&#x30FC;&#x30C8;&#x30E6;&#x30FC;&#x30B6;&#x3068;&#x306F;</h4>
<p>&#x5168;&#x3066;&#x306E;&#x6A29;&#x9650;&#x3092;&#x3082;&#x3063;&#x305F;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<h4 id="&#x30FB;iam&#x30E6;&#x30FC;&#x30B6;&#x3068;&#x306F;">&#x30FB;IAM&#x30E6;&#x30FC;&#x30B6;&#x3068;&#x306F;</h4>
<p>&#x7279;&#x5B9A;&#x306E;&#x6A29;&#x9650;&#x3092;&#x3082;&#x3063;&#x305F;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<h4 id="&#x30FB;aws-cli">&#x30FB;AWS-CLI</h4>
<pre><code class="lang-bash"><span class="hljs-comment"># &#x30E6;&#x30FC;&#x30B6;&#x540D;&#x3092;&#x5909;&#x66F4;&#x3059;&#x308B;&#xFF0E;</span>
$ aws iam update-user --user-name &lt;&#x73FE;&#x884C;&#x306E;&#x30E6;&#x30FC;&#x30B6;&#x540D;&gt; --new-user-name &lt;&#x65B0;&#x3057;&#x3044;&#x30E6;&#x30FC;&#x30B6;&#x540D;&gt;
</code></pre>
<h4 id="&#x30FB;aws-cli&#x306E;&#x305F;&#x3081;&#x306E;&#x6A5F;&#x5BC6;&#x60C5;&#x5831;&#x30D5;&#x30A1;&#x30A4;&#x30EB;">&#x30FB;AWS-CLI&#x306E;&#x305F;&#x3081;&#x306E;&#x6A5F;&#x5BC6;&#x60C5;&#x5831;&#x30D5;&#x30A1;&#x30A4;&#x30EB;</h4>
<p>AWS-CLI&#x3067;&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30A4;&#x30F3;&#x30D5;&#x30E9;&#x3092;&#x64CD;&#x4F5C;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#x306F;&#xFF0C;&#x6A5F;&#x5BC6;&#x60C5;&#x5831;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306B;&#x5B9A;&#x7FA9;&#x3055;&#x308C;&#x305F;&#x30D7;&#x30ED;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x5FC5;&#x8981;&#x3067;&#x3042;&#x308B;&#xFF0E;</p>
<pre><code class="lang-bash">$ aws configure <span class="hljs-built_in">set</span> aws_access_key_id <span class="hljs-string">&quot;XXXXX&quot;</span>
$ aws configure <span class="hljs-built_in">set</span> aws_secret_access_key <span class="hljs-string">&quot;XXXXX&quot;</span>
$ aws configure <span class="hljs-built_in">set</span> aws_default_region <span class="hljs-string">&quot;ap-northeast-1&quot;</span>
</code></pre>
<pre><code>// Linux&#xFF0C;Unix&#x306E;&#x5834;&#x5408;&#xFF1A;$HOME/.aws/&lt;&#x6A5F;&#x5BC6;&#x60C5;&#x5831;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x540D;&gt;
// Windows&#x306E;&#x5834;&#x5408;&#xFF1A;%USERPROFILE%\.aws\&lt;&#x6A5F;&#x5BC6;&#x60C5;&#x5831;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x540D;&gt;

[default]
aws_access_key_id=&lt;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;&gt;
aws_secret_access_key=&lt;&#x30B7;&#x30FC;&#x30AF;&#x30EC;&#x30C3;&#x30C8;&#x30AD;&#x30FC;&gt;

[user1]
aws_access_key_id=&lt;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;&gt;
aws_secret_access_key=&lt;&#x30B7;&#x30FC;&#x30AF;&#x30EC;&#x30C3;&#x30C8;&#x30AD;&#x30FC;&gt;
</code></pre><p><br></p>
<h3 id="iam&#x30B0;&#x30EB;&#x30FC;&#x30D7;">IAM&#x30B0;&#x30EB;&#x30FC;&#x30D7;</h3>
<h4 id="&#x30FB;iam&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3068;&#x306F;">&#x30FB;IAM&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3068;&#x306F;</h4>
<p>IAM&#x30E6;&#x30FC;&#x30B6;&#x3092;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x5316;&#x3057;&#x305F;&#x3082;&#x306E;&#xFF0E;IAM&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3054;&#x3068;&#x306B;IAM&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x4ED8;&#x4E0E;&#x3059;&#x308C;&#x3070;&#xFF0C;IAM&#x30E6;&#x30FC;&#x30B6;&#x306E;IAM&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x7BA1;&#x7406;&#x3057;&#x3084;&#x3059;&#x304F;&#x306A;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/&#x30B0;&#x30EB;&#x30FC;&#x30D7;.png" alt="&#x30AF;&#x3099;&#x30EB;&#x30FC;&#x30D5;&#x309A;"></p>
<p><br></p>
<h3 id="iam&#x30ED;&#x30FC;&#x30EB;">IAM&#x30ED;&#x30FC;&#x30EB;</h3>
<h4 id="&#x30FB;iam&#x30ED;&#x30FC;&#x30EB;&#x3068;&#x306F;">&#x30FB;IAM&#x30ED;&#x30FC;&#x30EB;&#x3068;&#x306F;</h4>
<p>IAM&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x30BB;&#x30C3;&#x30C8;&#x3092;&#x6301;&#x3064;</p>
<h4 id="&#x30FB;iam&#x30ED;&#x30FC;&#x30EB;&#x306E;&#x7A2E;&#x985E;">&#x30FB;IAM&#x30ED;&#x30FC;&#x30EB;&#x306E;&#x7A2E;&#x985E;</h4>
<table>
<thead>
<tr>
<th>IAM&#x30ED;&#x30FC;&#x30EB;&#x306E;&#x7A2E;&#x985E;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x5099;&#x8003;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x30EA;&#x30F3;&#x30AF;&#x30ED;&#x30FC;&#x30EB;</td>
<td>AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x69CB;&#x7BC9;&#x3057;&#x305F;&#x6642;&#x306B;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x4F5C;&#x6210;&#x3055;&#x308C;&#x308B;&#x30ED;&#x30FC;&#x30EB;&#xFF0E;&#x4ED6;&#x306B;&#x306F;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3067;&#x304D;&#x306A;&#x3044;&#x5C02;&#x7528;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x304C;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x300C;AWSServiceRoleForXxxxxx&#x300D;&#x3068;&#x3044;&#x3046;&#x540D;&#x524D;&#x3067;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x69CB;&#x7BC9;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x7279;&#x306B;&#x8A2D;&#x5B9A;&#x305B;&#x305A;&#x3068;&#x3082;&#xFF0C;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3055;&#x308C;&#x308B;&#xFF0E;<br>&#x30FB;&#x95A2;&#x9023;&#x3059;&#x308B;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x524A;&#x9664;&#x3059;&#x308B;&#x307E;&#x3067;&#xFF0C;&#x30ED;&#x30FC;&#x30EB;&#x81EA;&#x4F53;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30AF;&#x30ED;&#x30B9;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30FC;&#x30EB;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30D7;&#x30ED;&#x30D0;&#x30A4;&#x30C0;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30FC;&#x30EB;</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;iam&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x4ED8;&#x4E0E;&#x3059;&#x308B;&#x65B9;&#x6CD5;">&#x30FB;IAM&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x4ED8;&#x4E0E;&#x3059;&#x308B;&#x65B9;&#x6CD5;</h4>
<p>&#x307E;&#x305A;&#xFF0C;IAM&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;IAM&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x7D10;&#x3065;&#x3051;&#x308B;&#xFF0E;&#x305D;&#x306E;IAM&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;IAM&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x4ED8;&#x4E0E;&#x3057;&#x305F;&#x3044;IAM&#x30E6;&#x30FC;&#x30B6;&#x3092;&#x8FFD;&#x52A0;&#x3057;&#x3066;&#x3044;&#x304F;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x6240;&#x5C5E;&#x3059;&#x308B;&#x30E6;&#x30FC;&#x30B6;&#x306B;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x4ED8;&#x4E0E;.png" alt="&#x30AF;&#x3099;&#x30EB;&#x30FC;&#x30D5;&#x309A;&#x306B;&#x6240;&#x5C5E;&#x3059;&#x308B;&#x30E6;&#x30FC;&#x30B5;&#x3099;&#x306B;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x4ED8;&#x4E0E;"></p>
<p><br></p>
<h2 id="12-03-&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#xFF5C;sts">12-03. &#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#xFF5C;STS</h2>
<h3 id="sts&#xFF1A;security-token-service">STS&#xFF1A;Security Token Service</h3>
<h4 id="&#x30FB;sts&#x3068;&#x306F;">&#x30FB;STS&#x3068;&#x306F;</h4>
<p>AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x4E00;&#x6642;&#x7684;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3067;&#x304D;&#x308B;&#x8A8D;&#x8A3C;&#x60C5;&#x5831;&#xFF08;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;&#xFF0C;&#x30B7;&#x30FC;&#x30AF;&#x30EC;&#x30C3;&#x30C8;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;&#xFF0C;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x30C8;&#x30FC;&#x30AF;&#x30F3;&#xFF09;&#x3092;&#x767A;&#x884C;&#x3059;&#x308B;&#xFF0E;&#x3053;&#x306E;&#x8A8D;&#x8A3C;&#x60C5;&#x5831;&#x306F;&#xFF0C;&#x4E00;&#x6642;&#x7684;&#x306A;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x60C5;&#x5831;&#x3068;&#x3057;&#x3066;&#x4F7F;&#x7528;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/STS.jpg" alt="STS"></p>
<p><br></p>
<h3 id="sts&#x306E;&#x624B;&#x9806;">STS&#x306E;&#x624B;&#x9806;</h3>
<h4 id="1-iam&#x30ED;&#x30FC;&#x30EB;&#x306B;&#x4FE1;&#x983C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;">1. IAM&#x30ED;&#x30FC;&#x30EB;&#x306B;&#x4FE1;&#x983C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;</h4>
<p>&#x5FC5;&#x8981;&#x306A;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x304C;&#x8A2D;&#x5B9A;&#x3055;&#x308C;&#x305F;IAM&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x69CB;&#x7BC9;&#x3059;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x6642;&#xFF0C;&#x4FE1;&#x983C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306B;&#x304A;&#x3044;&#x3066;&#xFF0C;&#x30E6;&#x30FC;&#x30B6;&#x306E;<code>ARN</code>&#x3092;&#x4FE1;&#x983C;&#x3055;&#x308C;&#x305F;&#x30A8;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x3068;&#x3057;&#x3066;&#x8A2D;&#x5B9A;&#x3057;&#x3066;&#x304A;&#x304F;&#xFF0E;&#x3053;&#x308C;&#x306B;&#x3088;&#x308A;&#xFF0C;&#x305D;&#x306E;&#x30E6;&#x30FC;&#x30B6;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;Version&quot;</span>: <span class="hljs-string">&quot;2012-10-17&quot;</span>,
  <span class="hljs-string">&quot;Statement&quot;</span>: [
    {
      <span class="hljs-string">&quot;Effect&quot;</span>: <span class="hljs-string">&quot;Allow&quot;</span>,
      <span class="hljs-string">&quot;Principal&quot;</span>: {
        <span class="hljs-string">&quot;AWS&quot;</span>: <span class="hljs-string">&quot;arn:aws:iam::&lt;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;:user/&lt;&#x30E6;&#x30FC;&#x30B6;&#x540D;&gt;&quot;</span>
      },
      <span class="hljs-string">&quot;Action&quot;</span>: <span class="hljs-string">&quot;sts:AssumeRole&quot;</span>,
      <span class="hljs-string">&quot;Condition&quot;</span>: {
        <span class="hljs-string">&quot;StringEquals&quot;</span>: {
          <span class="hljs-string">&quot;sts:ExternalId&quot;</span>: <span class="hljs-string">&quot;&lt;&#x9069;&#x5F53;&#x306A;&#x6587;&#x5B57;&#x5217;&gt;&quot;</span>
        }
      }
    }
  ]
}
</code></pre>
<h4 id="2-&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x5F15;&#x304D;&#x53D7;&#x3051;&#x305F;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x60C5;&#x5831;&#x3092;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;">2. &#x30ED;&#x30FC;&#x30EB;&#x3092;&#x5F15;&#x304D;&#x53D7;&#x3051;&#x305F;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x60C5;&#x5831;&#x3092;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;</h4>
<p>&#x4FE1;&#x983C;&#x3055;&#x308C;&#x305F;&#x30A8;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#xFF08;&#x30E6;&#x30FC;&#x30B6;&#xFF09;&#x304B;&#x3089;&#xFF0C;STS&#xFF08;<code>https://sts.amazonaws.com</code>&#xFF09;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;&#x30ED;&#x30FC;&#x30EB;&#x306E;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3092;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3059;&#x308B;&#xFF0E;</p>
<pre><code class="lang-bash"><span class="hljs-meta">#!/bin/bash
</span>
<span class="hljs-built_in">set</span> -xeuo pipefail
<span class="hljs-built_in">set</span> -u

<span class="hljs-comment"># &#x4E8B;&#x524D;&#x306B;&#x74B0;&#x5883;&#x5909;&#x6570;&#x306B;&#x30A4;&#x30F3;&#x30D5;&#x30E9;&#x74B0;&#x5883;&#x540D;&#x3092;&#x4EE3;&#x5165;&#x3059;&#x308B;&#xFF0E;</span>
<span class="hljs-keyword">case</span> <span class="hljs-variable">$ENV</span> <span class="hljs-keyword">in</span>
    <span class="hljs-string">&quot;test&quot;</span>)
        aws_account_id=<span class="hljs-string">&quot;&lt;&#x4F5C;&#x696D;&#x74B0;&#x5883;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;&quot;</span>
        aws_access_key_id=<span class="hljs-string">&quot;&lt;&#x4F5C;&#x696D;&#x74B0;&#x5883;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;ID&gt;&quot;</span>
        aws_secret_access_key=<span class="hljs-string">&quot;&lt;&#x4F5C;&#x696D;&#x74B0;&#x5883;&#x30B7;&#x30FC;&#x30AF;&#x30EC;&#x30C3;&#x30C8;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;&gt;&quot;</span>
        aws_iam_role_external_id=<span class="hljs-string">&quot;&lt;&#x4FE1;&#x983C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306B;&#x8A2D;&#x5B9A;&#x3057;&#x305F;&#x5916;&#x90E8;ID&gt;&quot;</span>
    ;;
    <span class="hljs-string">&quot;stg&quot;</span>)
        aws_account_id=<span class="hljs-string">&quot;&lt;&#x30B9;&#x30C6;&#x30FC;&#x30B8;&#x30F3;&#x30B0;&#x74B0;&#x5883;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;&quot;</span>
        aws_access_key_id=<span class="hljs-string">&quot;&lt;&#x30B9;&#x30C6;&#x30FC;&#x30B8;&#x30F3;&#x30B0;&#x74B0;&#x5883;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;ID&gt;&quot;</span>
        aws_secret_access_key=<span class="hljs-string">&quot;&lt;&#x30B9;&#x30C6;&#x30FC;&#x30B8;&#x30F3;&#x30B0;&#x74B0;&#x5883;&#x30B7;&#x30FC;&#x30AF;&#x30EC;&#x30C3;&#x30C8;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;&gt;&quot;</span>
        aws_iam_role_external_id=<span class="hljs-string">&quot;&lt;&#x4FE1;&#x983C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306B;&#x8A2D;&#x5B9A;&#x3057;&#x305F;&#x5916;&#x90E8;ID&gt;&quot;</span>
    ;;
    <span class="hljs-string">&quot;prd&quot;</span>)
        aws_account_id=<span class="hljs-string">&quot;&lt;&#x672C;&#x756A;&#x74B0;&#x5883;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;&quot;</span>
        aws_access_key_id=<span class="hljs-string">&quot;&lt;&#x672C;&#x756A;&#x74B0;&#x5883;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;ID&gt;&quot;</span>
        aws_secret_access_key=<span class="hljs-string">&quot;&lt;&#x672C;&#x756A;&#x74B0;&#x5883;&#x30B7;&#x30FC;&#x30AF;&#x30EC;&#x30C3;&#x30C8;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;&gt;&quot;</span>
        aws_iam_role_external_id=<span class="hljs-string">&quot;&lt;&#x4FE1;&#x983C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306B;&#x8A2D;&#x5B9A;&#x3057;&#x305F;&#x5916;&#x90E8;ID&gt;&quot;</span>
    ;;
    *)
        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;The parameter <span class="hljs-variable">${ENV}</span> is invalid.&quot;</span>
        <span class="hljs-built_in">exit</span> 1
    ;;
<span class="hljs-keyword">esac</span>

<span class="hljs-comment"># &#x4FE1;&#x983C;&#x3055;&#x308C;&#x305F;&#x30A8;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x306E;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x60C5;&#x5831;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</span>
aws configure <span class="hljs-built_in">set</span> aws_access_key_id <span class="hljs-string">&quot;<span class="hljs-variable">$aws_account_id</span>&quot;</span>
aws configure <span class="hljs-built_in">set</span> aws_secret_access_key <span class="hljs-string">&quot;<span class="hljs-variable">$aws_secret_access_key</span>&quot;</span>
aws configure <span class="hljs-built_in">set</span> aws_default_region <span class="hljs-string">&quot;ap-northeast-1&quot;</span>

<span class="hljs-comment"># https://sts.amazonaws.com &#x306B;&#xFF0C;&#x30ED;&#x30FC;&#x30EB;&#x306E;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3092;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3059;&#x308B;&#xFF0E;</span>
aws_sts_credentials=<span class="hljs-string">&quot;<span class="hljs-variable">$(aws sts assume-role \
  --role-arn &quot;arn:aws:iam::${aws_access_key_id}:role/${ENV}-&lt;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3057;&#x305F;&#x3044;IAM&#x30ED;&#x30FC;&#x30EB;&#x540D;&gt;&quot; \
  --role-session-name &quot;&lt;&#x4EFB;&#x610F;&#x306E;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x540D;&gt;&quot; \
  --external-id &quot;$aws_iam_role_external_id&quot; \
  --duration-seconds &quot;&lt;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x6709;&#x52B9;&#x79D2;&#x6570;&gt;&quot; \
  --query &quot;Credentials&quot; \
  --output &quot;json&quot;)</span>&quot;</span>
</code></pre>
<p>STS&#x3078;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x7D50;&#x679C;&#xFF0C;&#x30ED;&#x30FC;&#x30EB;&#x304C;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3055;&#x308C;&#x305F;&#x65B0;&#x3057;&#x3044;IAM&#x30E6;&#x30FC;&#x30B6;&#x60C5;&#x5831;&#x3092;&#x53D6;&#x5F97;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x3053;&#x306E;&#x60C5;&#x5831;&#x306B;&#x306F;&#x6709;&#x52B9;&#x79D2;&#x6570;&#x304C;&#x5B58;&#x5728;&#x3057;&#xFF0C;&#x671F;&#x9650;&#x304C;&#x904E;&#x304E;&#x308B;&#x3068;&#x65B0;&#x3057;&#x3044;IAM&#x30E6;&#x30FC;&#x30B6;&#x306B;&#x306A;&#x308B;&#xFF0E;&#x79D2;&#x6570;&#x306E;&#x6700;&#x5927;&#x5024;&#x306F;&#xFF0C;&#x8A72;&#x5F53;&#x3059;&#x308B;IAM&#x30ED;&#x30FC;&#x30EB;&#x306E;&#x6982;&#x8981;&#x306E;&#x6700;&#x5927;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x6642;&#x9593;&#x304B;&#x3089;&#x5909;&#x66F4;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/AssumeRole.png" alt="AssumeRole"></p>
<p>&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3055;&#x308C;&#x308B;&#x30C7;&#x30FC;&#x30BF;&#x306F;&#x4EE5;&#x4E0B;&#x306E;&#x901A;&#x308A;&#xFF0E;</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;AssumeRoleUser&quot;</span>: {
    <span class="hljs-string">&quot;AssumedRoleId&quot;</span>: <span class="hljs-string">&quot;&lt;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;ID&gt;:&lt;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x540D;&gt;&quot;</span>,
    <span class="hljs-string">&quot;Arn&quot;</span>: <span class="hljs-string">&quot;arn:aws:sts:&lt;&#x65B0;&#x3057;&#x3044;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;:assumed-role/&lt;IAM&#x30ED;&#x30FC;&#x30EB;&#x540D;&gt;/&lt;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x540D;&gt;&quot;</span>
  },
  <span class="hljs-string">&quot;Credentials&quot;</span>: {
    <span class="hljs-string">&quot;SecretAccessKey&quot;</span>: <span class="hljs-string">&quot;&lt;&#x30B7;&#x30FC;&#x30AF;&#x30EC;&#x30C3;&#x30C8;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;&gt;&quot;</span>,
    <span class="hljs-string">&quot;SessionToken&quot;</span>: <span class="hljs-string">&quot;&lt;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x30C8;&#x30FC;&#x30AF;&#x30F3;&#x6587;&#x5B57;&#x5217;&gt;&quot;</span>,
    <span class="hljs-string">&quot;Expiration&quot;</span>: <span class="hljs-string">&quot;&lt;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x671F;&#x9650;&gt;&quot;</span>,
    <span class="hljs-string">&quot;AccessKeyId&quot;</span>: <span class="hljs-string">&quot;&lt;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;ID&gt;&quot;</span>
  }
}
</code></pre>
<h4 id="3-&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3055;&#x308C;&#x305F;&#x30C7;&#x30FC;&#x30BF;&#x304B;&#x3089;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x60C5;&#x5831;&#x3092;&#x62BD;&#x51FA;">3. &#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3055;&#x308C;&#x305F;&#x30C7;&#x30FC;&#x30BF;&#x304B;&#x3089;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x60C5;&#x5831;&#x3092;&#x62BD;&#x51FA;</h4>
<p>jq&#x3092;&#x4F7F;&#x7528;&#x3057;&#x3066;&#xFF0C;JSON&#x30C7;&#x30FC;&#x30BF;&#x304B;&#x3089;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x60C5;&#x5831;&#x3092;&#x62BD;&#x51FA;&#x3059;&#x308B;&#xFF0E;</p>
<p>jq&#xFF1A;<a href="https://stedolan.github.io/jq/" target="_blank">https://stedolan.github.io/jq/</a></p>
<pre><code class="lang-bash"><span class="hljs-meta">#!/bin/bash
</span>
cat &lt;&lt; EOF &gt; assumed_user.sh
<span class="hljs-built_in">export</span> AWS_ACCESS_KEY_ID=<span class="hljs-string">&quot;<span class="hljs-variable">$(echo &quot;$aws_sts_credentials&quot; | jq -r &apos;.AccessKeyId&apos;)</span>&quot;</span>
<span class="hljs-built_in">export</span> AWS_SECRET_ACCESS_KEY=<span class="hljs-string">&quot;<span class="hljs-variable">$(echo &quot;$aws_sts_credentials&quot; | jq -r &apos;.SecretAccessKey&apos;)</span>&quot;</span>
<span class="hljs-built_in">export</span> AWS_SESSION_TOKEN=<span class="hljs-string">&quot;<span class="hljs-variable">$(echo &quot;$aws_sts_credentials&quot; | jq -r &apos;.SessionToken&apos;)</span>&quot;</span>
<span class="hljs-built_in">export</span> AWS_ACCOUNT_ID=<span class="hljs-string">&quot;<span class="hljs-variable">$aws_account_id</span>&quot;</span>
<span class="hljs-built_in">export</span> AWS_DEFAULT_REGION=<span class="hljs-string">&quot;ap-northeast-1&quot;</span>
EOF
</code></pre>
<h4 id="4-credentials&#x3092;&#x4F5C;&#x6210;">4. credentials&#x3092;&#x4F5C;&#x6210;</h4>
<p>&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x5F15;&#x304D;&#x53D7;&#x3051;&#x305F;&#x65B0;&#x3057;&#x3044;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x306E;&#x60C5;&#x5831;&#x3092;&#xFF0C;credentials&#x306B;&#x66F8;&#x304D;&#x8FBC;&#x3080;&#xFF0E;</p>
<pre><code class="lang-shell">#!/bin/bash

aws configure --profile ${ENV}-lumonde &lt;&lt; EOF
$(echo &quot;$aws_sts_credentials&quot; | jq -r &apos;.AccessKeyId&apos;)
$(echo &quot;$aws_sts_credentials&quot; | jq -r &apos;.SecretAccessKey&apos;)
ap-northeast-1
json
EOF

echo aws_session_token = $(echo &quot;$aws_sts_credentials&quot; | jq -r &apos;.SessionToken&apos;) &gt;&gt; ~/.aws/credentials
</code></pre>
<h4 id="5-&#x63A5;&#x7D9A;&#x78BA;&#x8A8D;">5. &#x63A5;&#x7D9A;&#x78BA;&#x8A8D;</h4>
<p>&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x5F15;&#x304D;&#x53D7;&#x3051;&#x305F;&#x65B0;&#x3057;&#x3044;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x3066;&#xFF0C;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x63A5;&#x7D9A;&#x3067;&#x304D;&#x308B;&#x304B;&#x3092;&#x78BA;&#x8A8D;&#x3059;&#x308B;&#xFF0E;</p>
<pre><code class="lang-bash"><span class="hljs-meta">#!/bin/bash
</span>
aws s3 ls --profile &lt;&#x30D7;&#x30ED;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x540D;&gt;
2020-xx-xx xx:xx:xx &lt;tfstate&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x7BA1;&#x7406;&#x3055;&#x308C;&#x308B;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x540D;&gt;
</code></pre>
<p><br></p>
<h2 id="13-&#x30B3;&#x30B9;&#x30C8;&#x7BA1;&#x7406;">13. &#x30B3;&#x30B9;&#x30C8;&#x7BA1;&#x7406;</h2>
<h3 id="&#x30B3;&#x30B9;&#x30C8;&#x7BA1;&#x7406;&#x306E;&#x89B3;&#x70B9;">&#x30B3;&#x30B9;&#x30C8;&#x7BA1;&#x7406;&#x306E;&#x89B3;&#x70B9;</h3>
<h4 id="&#x30FB;&#x30B9;&#x30DA;&#x30C3;&#x30AF;">&#x30FB;&#x30B9;&#x30DA;&#x30C3;&#x30AF;</h4>
<h4 id="&#x30FB;&#x6642;&#x9593;&#x5358;&#x4FA1;">&#x30FB;&#x6642;&#x9593;&#x5358;&#x4FA1;</h4>
<h4 id="&#x30FB;&#x6570;&#x91CF;">&#x30FB;&#x6570;&#x91CF;</h4>
<h4 id="&#x30FB;&#x6708;&#x984D;&#x6599;&#x91D1;">&#x30FB;&#x6708;&#x984D;&#x6599;&#x91D1;</h4>
<p><br></p>
<h3 id="ebs">EBS</h3>
<h4 id="&#x30FB;&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;&#x30B5;&#x30A4;&#x30BA;">&#x30FB;&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;&#x30B5;&#x30A4;&#x30BA;</h4>
<p>&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;&#x306E;&#x4F7F;&#x7528;&#x7387;&#x306B;&#x304B;&#x304B;&#x308F;&#x3089;&#x305A;&#xFF0C;&#x69CB;&#x7BC9;&#x3055;&#x308C;&#x305F;&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;&#x306E;&#x5408;&#x8A08;&#x30B5;&#x30A4;&#x30BA;&#x306B;&#x57FA;&#x3065;&#x3044;&#x3066;&#xFF0C;&#x6599;&#x91D1;&#x304C;&#x767A;&#x751F;&#x3059;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x305F;&#x3081;&#xFF0C;&#x5B89;&#x6613;&#x306B;500GiB&#x3092;&#x9078;&#x3093;&#x3067;&#x306F;&#x3044;&#x3051;&#x306A;&#x3044;&#xFF0E;</p>
<p><br></p>
<h3 id="ecs">ECS</h3>
<h4 id="&#x30FB;ecr&#x306E;&#x5BB9;&#x91CF;">&#x30FB;ECR&#x306E;&#x5BB9;&#x91CF;</h4>
<p>500MB&#x3092;&#x8D85;&#x3048;&#x308B;&#x3068;&#xFF0C;&#x8ACB;&#x6C42;&#x304C;&#x767A;&#x751F;&#x3059;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x53E4;&#x3044;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x3092;&#x5B9A;&#x671F;&#x7684;&#x306B;&#x524A;&#x9664;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<p><br></p>
<h3 id="lambda">Lambda</h3>
<h4 id="&#x30FB;&#x5B9F;&#x884C;&#x6642;&#x9593;&#x306E;&#x5F93;&#x91CF;&#x8AB2;&#x91D1;&#x5236;">&#x30FB;&#x5B9F;&#x884C;&#x6642;&#x9593;&#x306E;&#x5F93;&#x91CF;&#x8AB2;&#x91D1;&#x5236;</h4>
<p>&#x95A2;&#x6570;&#x3092;&#x5B9F;&#x884C;&#x3057;&#x3066;&#x3044;&#x308B;&#x6642;&#x9593;&#x5206;&#x3060;&#x3051;&#x6599;&#x91D1;&#x304C;&#x304B;&#x304B;&#x308B;&#xFF0E;&#x95A2;&#x6570;&#x3092;&#x4F7F;&#x7528;&#x305B;&#x305A;&#x306B;&#x8A2D;&#x7F6E;&#x3057;&#x3066;&#x3044;&#x308B;&#x3060;&#x3051;&#x3067;&#x3042;&#x308C;&#x3070;&#xFF0C;&#x6599;&#x91D1;&#x306F;&#x304B;&#x304B;&#x3089;&#x306A;&#x3044;&#xFF0E;</p>
<h3 id="ses">SES</h3>
<h4 id="&#x30FB;&#x9001;&#x53D7;&#x4FE1;&#x6570;">&#x30FB;&#x9001;&#x53D7;&#x4FE1;&#x6570;</h4>
<p>&#x53D7;&#x4FE1;&#x306F;<code>1000&#x4EF6;/&#x6708;</code>&#x307E;&#x3067;&#xFF0C;&#x9001;&#x4FE1;&#x306F;<code>62000/&#x6708;</code>&#x307E;&#x3067;&#x7121;&#x6599;&#x3067;&#x3042;&#x308B;&#xFF0E;</p>
<p><br></p>
<h2 id="14-&#x30BF;&#x30B0;">14. &#x30BF;&#x30B0;</h2>
<h3 id="&#x30BF;&#x30B0;&#x4ED8;&#x3051;&#x6226;&#x7565;">&#x30BF;&#x30B0;&#x4ED8;&#x3051;&#x6226;&#x7565;</h3>
<h4 id="&#x30FB;&#x3088;&#x304F;&#x3042;&#x308B;&#x30BF;&#x30B0;">&#x30FB;&#x3088;&#x304F;&#x3042;&#x308B;&#x30BF;&#x30B0;</h4>
<table>
<thead>
<tr>
<th>&#x30BF;&#x30B0;&#x540D;</th>
<th>&#x7528;&#x9014;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Name</td>
<td>&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x81EA;&#x4F53;&#x306B;&#x540D;&#x524D;&#x3092;&#x4ED8;&#x3051;&#x3089;&#x308C;&#x306A;&#x3044;&#x5834;&#x5408;&#x306B;&#xFF0C;&#x4EE3;&#x308F;&#x308A;&#x306B;&#x30BF;&#x30B0;&#x3067;&#x540D;&#x4ED8;&#x3051;&#x308B;&#x305F;&#x3081;&#xFF0E;</td>
</tr>
<tr>
<td>Environment</td>
<td>&#x540C;&#x4E00;&#x306E;AWS&#x74B0;&#x5883;&#x5185;&#x306B;&#x7570;&#x306A;&#x308B;&#x5B9F;&#x884C;&#x74B0;&#x5883;&#x304C;&#x5B58;&#x5728;&#x3057;&#x3066;&#x3044;&#x308B;&#x5834;&#x5408;&#x306B;&#xFF0C;&#x305D;&#x308C;&#x3089;&#x3092;&#x533A;&#x5225;&#x3059;&#x308B;&#x305F;&#x3081;&#xFF0E;</td>
</tr>
<tr>
<td>User</td>
<td>&#x540C;&#x4E00;&#x306E;AWS&#x74B0;&#x5883;&#x5185;&#x306B;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x5225;&#x306B;&#x6240;&#x6709;&#x8005;&#x304C;&#x5B58;&#x5728;&#x3057;&#x3066;&#x3044;&#x308B;&#x5834;&#x5408;&#x306B;&#xFF0C;&#x305D;&#x308C;&#x3089;&#x3092;&#x533A;&#x5225;&#x3059;&#x308B;&#x305F;&#x3081;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30BF;&#x30B0;&#x4ED8;&#x3051;&#x306B;&#x3088;&#x308B;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30EA;&#x30F3;&#x30B0;">&#x30FB;&#x30BF;&#x30B0;&#x4ED8;&#x3051;&#x306B;&#x3088;&#x308B;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30EA;&#x30F3;&#x30B0;</h4>
<p>AWS&#x306E;&#x5404;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x306F;&#xFF0C;&#x30BF;&#x30B0;&#x3092;&#x3064;&#x3051;&#x308B;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x4F8B;&#x3048;&#x3070;&#xFF0C;AWS&#x30B3;&#x30B9;&#x30C8;&#x30A8;&#x30AF;&#x30B9;&#x30D7;&#x30ED;&#x30FC;&#x30E9;&#x30FC;&#x306B;&#x3066;&#xFF0C;&#x3053;&#x306E;&#x30BF;&#x30B0;&#x3067;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30EA;&#x30F3;&#x30B0;&#x3059;&#x308B;&#x3053;&#x3068;&#x306B;&#x3088;&#x308A;&#xFF0C;&#x4EFB;&#x610F;&#x306E;&#x30BF;&#x30B0;&#x304C;&#x4ED8;&#x3044;&#x305F;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x8ACB;&#x6C42;&#x5408;&#x8A08;&#x984D;&#x3092;&#x78BA;&#x8A8D;&#x3059;&#x308B;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="infrastructure_cloud_computing.html" class="navigation navigation-prev " aria-label="Previous page: クラウドコンピューティング">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="infrastructure_cloud_computing_gcp.html" class="navigation navigation-next " aria-label="Next page: Google Cloud Platform">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Amazon Web Service","level":"1.21.2","depth":2,"next":{"title":"Google Cloud Platform","level":"1.21.3","depth":2,"path":"public/infrastructure_cloud_computing_gcp.md","ref":"public/infrastructure_cloud_computing_gcp.md","articles":[]},"previous":{"title":"クラウドコンピューティング","level":"1.21.1","depth":2,"path":"public/infrastructure_cloud_computing.md","ref":"public/infrastructure_cloud_computing.md","articles":[]},"dir":"ltr"},"config":{"plugins":["intopic-toc","copy-code-button","advanced-emoji","back-to-top-button","livereload"],"styles":{"website":"styles/website.css"},"pluginsConfig":{"intopic-toc":{"isCollapsed":true,"isScrollspyActive":true,"label":"目次","maxDepth":3,"mode":"nested","selector":"","visible":true},"livereload":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"back-to-top-button":{},"copy-code-button":{},"advanced-emoji":{"embedEmojis":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"僕のドキュメントサイト【GitBook版】","language":"ja","gitbook":"*","description":"This is Hiroki-IT/tech-notebook_gitbook"},"file":{"path":"public/infrastructure_cloud_computing_aws.md","mtime":"2020-12-24T18:45:54.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-12-29T19:32:12.224Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-intopic-toc/anchor.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-intopic-toc/gumshoe.polyfills.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-intopic-toc/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

